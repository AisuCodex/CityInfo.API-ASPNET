2025-04-24 10:40:10.220 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 10:40:10.392 +08:00 [DBG] Hosting starting
2025-04-24 10:40:10.421 +08:00 [DBG] Middleware loaded
2025-04-24 10:40:10.428 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-24 10:40:10.438 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-24 10:40:10.525 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-24 10:40:10.559 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 10:40:10.560 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 10:40:10.560 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-24 10:40:10.561 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 10:40:10.561 +08:00 [INF] Hosting environment: Development
2025-04-24 10:40:10.562 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 10:40:10.562 +08:00 [DBG] Hosting started
2025-04-24 10:40:11.219 +08:00 [DBG] Connection id "0HNC2R5APGU6S" accepted.
2025-04-24 10:40:11.221 +08:00 [DBG] Connection id "0HNC2R5APGU6T" accepted.
2025-04-24 10:40:11.223 +08:00 [DBG] Connection id "0HNC2R5APGU6S" started.
2025-04-24 10:40:11.241 +08:00 [DBG] Connection id "0HNC2R5APGU6T" started.
2025-04-24 10:40:11.513 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 10:40:11.537 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 10:40:11.816 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 10:40:11.838 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 10:40:12.077 +08:00 [DBG] Connection id "0HNC2R5APGU6T" completed keep alive response.
2025-04-24 10:40:12.085 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 577.3871ms
2025-04-24 10:40:12.308 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 10:40:12.317 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 10:40:12.318 +08:00 [DBG] Connection id "0HNC2R5APGU6T" completed keep alive response.
2025-04-24 10:40:12.319 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 10.5337ms
2025-04-24 10:40:13.392 +08:00 [DBG] Connection id "0HNC2R5APGU6S" received FIN.
2025-04-24 10:40:13.394 +08:00 [DBG] Connection id "0HNC2R5APGU6T" received FIN.
2025-04-24 10:40:13.401 +08:00 [DBG] Connection id "0HNC2R5APGU6S" disconnecting.
2025-04-24 10:40:13.402 +08:00 [DBG] Connection id "0HNC2R5APGU6S" stopped.
2025-04-24 10:40:13.406 +08:00 [DBG] Connection id "0HNC2R5APGU6T" disconnecting.
2025-04-24 10:40:13.407 +08:00 [DBG] Connection id "0HNC2R5APGU6T" stopped.
2025-04-24 10:40:13.419 +08:00 [DBG] Connection id "0HNC2R5APGU6S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 10:40:13.424 +08:00 [DBG] Connection id "0HNC2R5APGU6T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 10:40:13.815 +08:00 [DBG] Connection id "0HNC2R5APGU6U" accepted.
2025-04-24 10:40:13.820 +08:00 [DBG] Connection id "0HNC2R5APGU6U" started.
2025-04-24 10:40:13.821 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 10:40:14.753 +08:00 [DBG] Connection id "0HNC2R5APGU6U" completed keep alive response.
2025-04-24 10:40:14.753 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 932.6008ms
2025-04-24 10:40:18.344 +08:00 [DBG] Connection id "0HNC2R5APGU6U" received FIN.
2025-04-24 10:40:18.345 +08:00 [DBG] Connection id "0HNC2R5APGU6U" disconnecting.
2025-04-24 10:40:18.345 +08:00 [DBG] Connection id "0HNC2R5APGU6U" stopped.
2025-04-24 10:40:18.345 +08:00 [DBG] Connection id "0HNC2R5APGU6U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 10:54:49.158 +08:00 [DBG] Connection id "0HNC2R5APGU6V" received FIN.
2025-04-24 10:54:49.169 +08:00 [DBG] Connection id "0HNC2R5APGU6V" accepted.
2025-04-24 10:54:49.171 +08:00 [DBG] Connection id "0HNC2R5APGU6V" started.
2025-04-24 10:54:49.172 +08:00 [DBG] Connection id "0HNC2R5APGU70" accepted.
2025-04-24 10:54:49.174 +08:00 [DBG] Connection id "0HNC2R5APGU70" started.
2025-04-24 10:54:49.200 +08:00 [DBG] Connection id "0HNC2R5APGU6V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 10:54:49.205 +08:00 [DBG] Connection id "0HNC2R5APGU6V" disconnecting.
2025-04-24 10:54:49.205 +08:00 [DBG] Connection id "0HNC2R5APGU6V" stopped.
2025-04-24 10:54:49.205 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - null 0
2025-04-24 10:54:49.225 +08:00 [DBG] POST requests are not supported
2025-04-24 10:54:49.232 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 10:54:49.289 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 10:54:49.293 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 10:54:49.295 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 10:54:49.317 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 10:54:49.383 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 10:54:49.388 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 10:54:49.390 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 10:54:49.395 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 10:54:49.398 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 10:54:49.398 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 10:54:49.402 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 10:54:49.405 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 10:54:49.412 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 10:54:49.416 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 10:54:49.420 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'null'.
2025-04-24 10:54:49.420 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'null'.
2025-04-24 10:54:49.420 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerInputFormatter' for content type 'null'.
2025-04-24 10:54:49.421 +08:00 [DBG] No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2025-04-24 10:54:49.422 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 10:54:49.422 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 10:54:49.423 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 10:54:49.434 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 10:54:49.437 +08:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter'.
2025-04-24 10:54:49.441 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 10:54:49.443 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 10:54:49.444 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-04-24 10:54:49.445 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-04-24 10:54:49.448 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-24 10:54:49.637 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 228.8554ms
2025-04-24 10:54:49.637 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 10:54:49.637 +08:00 [DBG] Connection id "0HNC2R5APGU70" completed keep alive response.
2025-04-24 10:54:49.638 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 415 176 application/problem+json; charset=utf-8 432.1371ms
2025-04-24 10:55:43.315 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - null 0
2025-04-24 10:55:43.316 +08:00 [DBG] POST requests are not supported
2025-04-24 10:55:43.318 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 10:55:43.318 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 10:55:43.318 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 10:55:43.318 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 10:55:43.319 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 10:55:43.319 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 10:55:43.319 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 10:55:43.319 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 10:55:43.319 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 10:55:43.320 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 10:55:43.320 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 10:55:43.320 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 10:55:43.320 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 10:55:43.321 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 10:55:43.321 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'null'.
2025-04-24 10:55:43.321 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'null'.
2025-04-24 10:55:43.321 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerInputFormatter' for content type 'null'.
2025-04-24 10:55:43.321 +08:00 [DBG] No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2025-04-24 10:55:43.321 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 10:55:43.321 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 10:55:43.321 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 10:55:43.322 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 10:55:43.322 +08:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter'.
2025-04-24 10:55:43.323 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 10:55:43.323 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 10:55:43.323 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-04-24 10:55:43.324 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-04-24 10:55:43.324 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-24 10:55:43.328 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 5.9884ms
2025-04-24 10:55:43.328 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 10:55:43.328 +08:00 [DBG] Connection id "0HNC2R5APGU70" completed keep alive response.
2025-04-24 10:55:43.328 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 415 176 application/problem+json; charset=utf-8 13.5814ms
2025-04-24 10:57:53.728 +08:00 [DBG] Connection id "0HNC2R5APGU70" disconnecting.
2025-04-24 10:57:53.728 +08:00 [DBG] Connection id "0HNC2R5APGU70" stopped.
2025-04-24 10:57:53.729 +08:00 [DBG] Connection id "0HNC2R5APGU70" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 10:59:35.271 +08:00 [DBG] Connection id "0HNC2R5APGU71" received FIN.
2025-04-24 10:59:35.271 +08:00 [DBG] Connection id "0HNC2R5APGU71" accepted.
2025-04-24 10:59:35.272 +08:00 [DBG] Connection id "0HNC2R5APGU72" accepted.
2025-04-24 10:59:35.272 +08:00 [DBG] Connection id "0HNC2R5APGU71" started.
2025-04-24 10:59:35.272 +08:00 [DBG] Connection id "0HNC2R5APGU71" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 10:59:35.272 +08:00 [DBG] Connection id "0HNC2R5APGU71" disconnecting.
2025-04-24 10:59:35.272 +08:00 [DBG] Connection id "0HNC2R5APGU71" stopped.
2025-04-24 10:59:35.272 +08:00 [DBG] Connection id "0HNC2R5APGU72" started.
2025-04-24 10:59:35.274 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 10:59:35.275 +08:00 [DBG] POST requests are not supported
2025-04-24 10:59:35.275 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 10:59:35.275 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 10:59:35.275 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 10:59:35.275 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 10:59:35.276 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 10:59:35.276 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 10:59:35.276 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 10:59:35.276 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 10:59:35.276 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 10:59:35.276 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 10:59:35.276 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 10:59:35.276 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 10:59:35.284 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 10:59:35.285 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 10:59:35.285 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 10:59:35.285 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 10:59:35.343 +08:00 [DBG] Connection id "0HNC2R5APGU72", Request id "0HNC2R5APGU72:00000001": started reading request body.
2025-04-24 10:59:35.344 +08:00 [DBG] Connection id "0HNC2R5APGU72", Request id "0HNC2R5APGU72:00000001": done reading request body.
2025-04-24 10:59:35.402 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 10:59:35.402 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 10:59:35.402 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 10:59:35.406 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 10:59:35.442 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 165.5094ms
2025-04-24 10:59:35.444 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 10:59:35.455 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at CityInfo.API.Controllers.AuthenticationController.Authenticate(AuthenticationRequestBody authenticationRequestBody) in C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\Controllers\AuthenticationController.cs:line 56
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-24 10:59:35.702 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 10:59:35.702 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 10:59:35.702 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-04-24 10:59:35.703 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-04-24 10:59:35.717 +08:00 [DBG] Connection id "0HNC2R5APGU72" completed keep alive response.
2025-04-24 10:59:35.718 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 500 382 application/problem+json; charset=utf-8 443.123ms
2025-04-24 11:01:46.965 +08:00 [DBG] Connection id "0HNC2R5APGU72" disconnecting.
2025-04-24 11:01:46.965 +08:00 [DBG] Connection id "0HNC2R5APGU72" stopped.
2025-04-24 11:01:46.965 +08:00 [DBG] Connection id "0HNC2R5APGU72" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:07:41.366 +08:00 [DBG] Connection id "0HNC2R5APGU73" accepted.
2025-04-24 11:07:41.366 +08:00 [DBG] Connection id "0HNC2R5APGU73" started.
2025-04-24 11:07:41.367 +08:00 [DBG] Connection id "0HNC2R5APGU73" received FIN.
2025-04-24 11:07:41.367 +08:00 [DBG] Connection id "0HNC2R5APGU73" disconnecting.
2025-04-24 11:07:41.367 +08:00 [DBG] Connection id "0HNC2R5APGU73" stopped.
2025-04-24 11:07:41.367 +08:00 [DBG] Connection id "0HNC2R5APGU73" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:07:41.369 +08:00 [DBG] Connection id "0HNC2R5APGU74" accepted.
2025-04-24 11:07:41.373 +08:00 [DBG] Connection id "0HNC2R5APGU74" started.
2025-04-24 11:07:41.375 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 11:07:41.379 +08:00 [DBG] POST requests are not supported
2025-04-24 11:07:41.379 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:07:41.379 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:07:41.379 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:07:41.379 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:07:41.379 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:07:41.380 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:07:41.380 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:07:41.380 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:07:41.380 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:07:41.381 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:07:41.382 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:07:41.382 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:07:41.382 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:07:41.383 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:07:41.383 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 11:07:41.383 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 11:07:41.383 +08:00 [DBG] Connection id "0HNC2R5APGU74", Request id "0HNC2R5APGU74:00000001": started reading request body.
2025-04-24 11:07:41.383 +08:00 [DBG] Connection id "0HNC2R5APGU74", Request id "0HNC2R5APGU74:00000001": done reading request body.
2025-04-24 11:07:41.384 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:07:41.384 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:07:41.384 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:07:41.385 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:07:41.394 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 12.0223ms
2025-04-24 11:07:41.395 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:07:41.428 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at CityInfo.API.Controllers.AuthenticationController.Authenticate(AuthenticationRequestBody authenticationRequestBody) in C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\Controllers\AuthenticationController.cs:line 56
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-24 11:07:41.467 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:07:41.467 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 11:07:41.467 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-04-24 11:07:41.467 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-04-24 11:07:41.468 +08:00 [DBG] Connection id "0HNC2R5APGU74" completed keep alive response.
2025-04-24 11:07:41.468 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 500 382 application/problem+json; charset=utf-8 94.3342ms
2025-04-24 11:08:18.106 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 11:08:18.449 +08:00 [DBG] Hosting starting
2025-04-24 11:08:18.502 +08:00 [DBG] Middleware loaded
2025-04-24 11:08:18.507 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-24 11:08:18.509 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-24 11:08:18.614 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-24 11:08:18.640 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 11:08:18.640 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 11:08:18.641 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-24 11:08:18.641 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 11:08:18.642 +08:00 [INF] Hosting environment: Development
2025-04-24 11:08:18.642 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 11:08:18.642 +08:00 [DBG] Hosting started
2025-04-24 11:08:19.467 +08:00 [DBG] Connection id "0HNC2RL1U17C3" accepted.
2025-04-24 11:08:19.470 +08:00 [DBG] Connection id "0HNC2RL1U17C3" started.
2025-04-24 11:08:19.487 +08:00 [DBG] Connection id "0HNC2RL1U17C4" accepted.
2025-04-24 11:08:19.488 +08:00 [DBG] Connection id "0HNC2RL1U17C4" started.
2025-04-24 11:08:19.729 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 11:08:19.750 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 11:08:20.052 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 11:08:20.081 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 11:08:20.082 +08:00 [DBG] Connection id "0HNC2RL1U17C4" completed keep alive response.
2025-04-24 11:08:20.089 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 363.3727ms
2025-04-24 11:08:20.396 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 11:08:20.403 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 11:08:20.404 +08:00 [DBG] Connection id "0HNC2RL1U17C4" completed keep alive response.
2025-04-24 11:08:20.404 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 8.2919ms
2025-04-24 11:08:22.389 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 11:08:23.425 +08:00 [DBG] Connection id "0HNC2RL1U17C4" completed keep alive response.
2025-04-24 11:08:23.426 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1037.2015ms
2025-04-24 11:08:25.979 +08:00 [DBG] Connection id "0HNC2RL1U17C3" received FIN.
2025-04-24 11:08:25.980 +08:00 [DBG] Connection id "0HNC2RL1U17C4" received FIN.
2025-04-24 11:08:25.981 +08:00 [DBG] Connection id "0HNC2RL1U17C3" disconnecting.
2025-04-24 11:08:25.993 +08:00 [DBG] Connection id "0HNC2RL1U17C3" stopped.
2025-04-24 11:08:25.995 +08:00 [DBG] Connection id "0HNC2RL1U17C4" disconnecting.
2025-04-24 11:08:25.995 +08:00 [DBG] Connection id "0HNC2RL1U17C4" stopped.
2025-04-24 11:08:26.004 +08:00 [DBG] Connection id "0HNC2RL1U17C3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:08:26.004 +08:00 [DBG] Connection id "0HNC2RL1U17C4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:08:47.234 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 11:08:47.395 +08:00 [DBG] Hosting starting
2025-04-24 11:08:47.415 +08:00 [DBG] Middleware loaded
2025-04-24 11:08:47.421 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-24 11:08:47.424 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-24 11:08:47.479 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-24 11:08:47.495 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 11:08:47.496 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 11:08:47.497 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-24 11:08:47.497 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 11:08:47.497 +08:00 [INF] Hosting environment: Development
2025-04-24 11:08:47.497 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 11:08:47.498 +08:00 [DBG] Hosting started
2025-04-24 11:08:47.691 +08:00 [DBG] Connection id "0HNC2RLAB6KUS" accepted.
2025-04-24 11:08:47.693 +08:00 [DBG] Connection id "0HNC2RLAB6KUT" accepted.
2025-04-24 11:08:47.694 +08:00 [DBG] Connection id "0HNC2RLAB6KUS" started.
2025-04-24 11:08:47.697 +08:00 [DBG] Connection id "0HNC2RLAB6KUT" started.
2025-04-24 11:08:47.838 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 11:08:47.856 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 11:08:48.028 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 11:08:48.063 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 11:08:48.063 +08:00 [DBG] Connection id "0HNC2RLAB6KUT" completed keep alive response.
2025-04-24 11:08:48.073 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 236.5027ms
2025-04-24 11:08:48.092 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 11:08:48.096 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 11:08:48.098 +08:00 [DBG] Connection id "0HNC2RLAB6KUT" completed keep alive response.
2025-04-24 11:08:48.102 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 8.9249ms
2025-04-24 11:08:49.804 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 11:08:50.211 +08:00 [DBG] Connection id "0HNC2RLAB6KUT" completed keep alive response.
2025-04-24 11:08:50.211 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 406.797ms
2025-04-24 11:08:51.014 +08:00 [DBG] Connection id "0HNC2RLAB6KUS" received FIN.
2025-04-24 11:08:51.020 +08:00 [DBG] Connection id "0HNC2RLAB6KUT" received FIN.
2025-04-24 11:08:51.023 +08:00 [DBG] Connection id "0HNC2RLAB6KUS" disconnecting.
2025-04-24 11:08:51.027 +08:00 [DBG] Connection id "0HNC2RLAB6KUT" disconnecting.
2025-04-24 11:08:51.028 +08:00 [DBG] Connection id "0HNC2RLAB6KUT" stopped.
2025-04-24 11:08:51.028 +08:00 [DBG] Connection id "0HNC2RLAB6KUS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:08:51.039 +08:00 [DBG] Connection id "0HNC2RLAB6KUS" stopped.
2025-04-24 11:08:51.040 +08:00 [DBG] Connection id "0HNC2RLAB6KUT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:08:52.926 +08:00 [DBG] Connection id "0HNC2RLAB6KUU" accepted.
2025-04-24 11:08:52.927 +08:00 [DBG] Connection id "0HNC2RLAB6KUU" started.
2025-04-24 11:08:52.928 +08:00 [DBG] Connection id "0HNC2RLAB6KUU" received FIN.
2025-04-24 11:08:52.928 +08:00 [DBG] Connection id "0HNC2RLAB6KUU" disconnecting.
2025-04-24 11:08:52.928 +08:00 [DBG] Connection id "0HNC2RLAB6KUU" stopped.
2025-04-24 11:08:52.928 +08:00 [DBG] Connection id "0HNC2RLAB6KUV" accepted.
2025-04-24 11:08:52.929 +08:00 [DBG] Connection id "0HNC2RLAB6KUU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:08:52.930 +08:00 [DBG] Connection id "0HNC2RLAB6KUV" started.
2025-04-24 11:08:52.931 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 11:08:52.939 +08:00 [DBG] POST requests are not supported
2025-04-24 11:08:52.941 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 11:08:52.977 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:08:52.980 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:08:52.981 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:08:52.990 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:08:53.027 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:08:53.029 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:08:53.029 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:08:53.031 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:08:53.031 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:08:53.031 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:08:53.039 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:08:53.041 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:08:53.045 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:08:53.047 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:08:53.051 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 11:08:53.052 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 11:08:53.063 +08:00 [DBG] Connection id "0HNC2RLAB6KUV", Request id "0HNC2RLAB6KUV:00000001": started reading request body.
2025-04-24 11:08:53.063 +08:00 [DBG] Connection id "0HNC2RLAB6KUV", Request id "0HNC2RLAB6KUV:00000001": done reading request body.
2025-04-24 11:08:53.174 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:08:53.175 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:08:53.175 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:08:53.180 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:08:53.198 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 164.2427ms
2025-04-24 11:08:53.205 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:08:53.206 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at CityInfo.API.Controllers.AuthenticationController.Authenticate(AuthenticationRequestBody authenticationRequestBody) in C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\Controllers\AuthenticationController.cs:line 57
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-24 11:08:53.265 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:08:53.272 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 11:08:53.273 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-04-24 11:08:53.274 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-04-24 11:08:53.342 +08:00 [DBG] Connection id "0HNC2RLAB6KUV" completed keep alive response.
2025-04-24 11:08:53.342 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 500 382 application/problem+json; charset=utf-8 410.9731ms
2025-04-24 11:09:30.355 +08:00 [DBG] Connection id "0HNC2RLAB6KV0" accepted.
2025-04-24 11:09:30.357 +08:00 [DBG] Connection id "0HNC2RLAB6KV1" accepted.
2025-04-24 11:09:30.358 +08:00 [DBG] Connection id "0HNC2RLAB6KV0" started.
2025-04-24 11:09:30.358 +08:00 [DBG] Connection id "0HNC2RLAB6KV1" started.
2025-04-24 11:09:30.424 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 11:09:30.425 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 11:09:30.426 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 11:09:30.426 +08:00 [DBG] Connection id "0HNC2RLAB6KV1" completed keep alive response.
2025-04-24 11:09:30.426 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 2.3347ms
2025-04-24 11:09:31.310 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 11:09:31.311 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 11:09:31.311 +08:00 [DBG] Connection id "0HNC2RLAB6KV1" completed keep alive response.
2025-04-24 11:09:31.311 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.9312ms
2025-04-24 11:09:34.340 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 11:09:34.362 +08:00 [DBG] Connection id "0HNC2RLAB6KV1" completed keep alive response.
2025-04-24 11:09:34.362 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.1845ms
2025-04-24 11:09:36.089 +08:00 [DBG] Connection id "0HNC2RLAB6KV0" received FIN.
2025-04-24 11:09:36.089 +08:00 [DBG] Connection id "0HNC2RLAB6KV1" received FIN.
2025-04-24 11:09:36.090 +08:00 [DBG] Connection id "0HNC2RLAB6KV0" disconnecting.
2025-04-24 11:09:36.090 +08:00 [DBG] Connection id "0HNC2RLAB6KV0" stopped.
2025-04-24 11:09:36.090 +08:00 [DBG] Connection id "0HNC2RLAB6KV1" disconnecting.
2025-04-24 11:09:36.090 +08:00 [DBG] Connection id "0HNC2RLAB6KV1" stopped.
2025-04-24 11:09:36.090 +08:00 [DBG] Connection id "0HNC2RLAB6KV0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:09:36.090 +08:00 [DBG] Connection id "0HNC2RLAB6KV1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:09:40.510 +08:00 [DBG] Connection id "0HNC2RLAB6KV2" accepted.
2025-04-24 11:09:40.511 +08:00 [DBG] Connection id "0HNC2RLAB6KV2" started.
2025-04-24 11:09:40.511 +08:00 [DBG] Connection id "0HNC2RLAB6KV3" accepted.
2025-04-24 11:09:40.512 +08:00 [DBG] Connection id "0HNC2RLAB6KV3" started.
2025-04-24 11:09:40.526 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 11:09:40.528 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 11:09:40.528 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 11:09:40.528 +08:00 [DBG] Connection id "0HNC2RLAB6KV3" completed keep alive response.
2025-04-24 11:09:40.530 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 4.0552ms
2025-04-24 11:09:40.708 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 11:09:40.708 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 11:09:40.708 +08:00 [DBG] Connection id "0HNC2RLAB6KV3" completed keep alive response.
2025-04-24 11:09:40.708 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.5659ms
2025-04-24 11:09:44.817 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 11:09:44.833 +08:00 [DBG] Connection id "0HNC2RLAB6KV3" completed keep alive response.
2025-04-24 11:09:44.833 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.5989ms
2025-04-24 11:09:46.090 +08:00 [DBG] Connection id "0HNC2RLAB6KV2" received FIN.
2025-04-24 11:09:46.091 +08:00 [DBG] Connection id "0HNC2RLAB6KV3" received FIN.
2025-04-24 11:09:46.091 +08:00 [DBG] Connection id "0HNC2RLAB6KV2" disconnecting.
2025-04-24 11:09:46.091 +08:00 [DBG] Connection id "0HNC2RLAB6KV2" stopped.
2025-04-24 11:09:46.091 +08:00 [DBG] Connection id "0HNC2RLAB6KV3" disconnecting.
2025-04-24 11:09:46.091 +08:00 [DBG] Connection id "0HNC2RLAB6KV3" stopped.
2025-04-24 11:09:46.091 +08:00 [DBG] Connection id "0HNC2RLAB6KV3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:09:46.091 +08:00 [DBG] Connection id "0HNC2RLAB6KV2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:09:48.180 +08:00 [DBG] Connection id "0HNC2RLAB6KV4" accepted.
2025-04-24 11:09:48.181 +08:00 [DBG] Connection id "0HNC2RLAB6KV4" started.
2025-04-24 11:09:48.183 +08:00 [DBG] Connection id "0HNC2RLAB6KV5" accepted.
2025-04-24 11:09:48.183 +08:00 [DBG] Connection id "0HNC2RLAB6KV5" started.
2025-04-24 11:09:48.193 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 11:09:48.194 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 11:09:48.195 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 11:09:48.195 +08:00 [DBG] Connection id "0HNC2RLAB6KV4" completed keep alive response.
2025-04-24 11:09:48.195 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.8344ms
2025-04-24 11:09:48.273 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 11:09:48.273 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 11:09:48.273 +08:00 [DBG] Connection id "0HNC2RLAB6KV4" completed keep alive response.
2025-04-24 11:09:48.273 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3844ms
2025-04-24 11:09:48.566 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 11:09:48.572 +08:00 [DBG] Connection id "0HNC2RLAB6KV4" completed keep alive response.
2025-04-24 11:09:48.573 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.0988ms
2025-04-24 11:09:56.096 +08:00 [DBG] Connection id "0HNC2RLAB6KV5" received FIN.
2025-04-24 11:09:56.097 +08:00 [DBG] Connection id "0HNC2RLAB6KV5" disconnecting.
2025-04-24 11:09:56.097 +08:00 [DBG] Connection id "0HNC2RLAB6KV5" stopped.
2025-04-24 11:09:56.097 +08:00 [DBG] Connection id "0HNC2RLAB6KV5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:09:56.097 +08:00 [DBG] Connection id "0HNC2RLAB6KV4" received FIN.
2025-04-24 11:09:56.097 +08:00 [DBG] Connection id "0HNC2RLAB6KV4" disconnecting.
2025-04-24 11:09:56.097 +08:00 [DBG] Connection id "0HNC2RLAB6KV4" stopped.
2025-04-24 11:09:56.097 +08:00 [DBG] Connection id "0HNC2RLAB6KV4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:09:56.910 +08:00 [DBG] Connection id "0HNC2RLAB6KV6" accepted.
2025-04-24 11:09:56.910 +08:00 [DBG] Connection id "0HNC2RLAB6KV6" started.
2025-04-24 11:09:56.911 +08:00 [DBG] Connection id "0HNC2RLAB6KV6" received FIN.
2025-04-24 11:09:56.911 +08:00 [DBG] Connection id "0HNC2RLAB6KV7" accepted.
2025-04-24 11:09:56.911 +08:00 [DBG] Connection id "0HNC2RLAB6KV6" disconnecting.
2025-04-24 11:09:56.911 +08:00 [DBG] Connection id "0HNC2RLAB6KV6" stopped.
2025-04-24 11:09:56.911 +08:00 [DBG] Connection id "0HNC2RLAB6KV6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:09:56.915 +08:00 [DBG] Connection id "0HNC2RLAB6KV7" started.
2025-04-24 11:09:56.917 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 11:09:56.917 +08:00 [DBG] POST requests are not supported
2025-04-24 11:09:56.918 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:09:56.919 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:09:56.919 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:09:56.920 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:09:56.923 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:09:56.923 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:09:56.923 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:09:56.923 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:09:56.924 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:09:56.924 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:09:56.924 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:09:56.924 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:09:56.924 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:09:56.925 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:09:56.925 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 11:09:56.925 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 11:09:56.925 +08:00 [DBG] Connection id "0HNC2RLAB6KV7", Request id "0HNC2RLAB6KV7:00000001": started reading request body.
2025-04-24 11:09:56.925 +08:00 [DBG] Connection id "0HNC2RLAB6KV7", Request id "0HNC2RLAB6KV7:00000001": done reading request body.
2025-04-24 11:09:56.926 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:09:56.926 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:09:56.926 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:09:56.930 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:09:57.030 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 106.6279ms
2025-04-24 11:09:57.031 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:09:57.032 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '216' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at CityInfo.API.Controllers.AuthenticationController.Authenticate(AuthenticationRequestBody authenticationRequestBody)
   at lambda_method12(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-24 11:09:57.038 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:09:57.038 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 11:09:57.039 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-04-24 11:09:57.039 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-04-24 11:09:57.040 +08:00 [DBG] Connection id "0HNC2RLAB6KV7" completed keep alive response.
2025-04-24 11:09:57.040 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 500 385 application/problem+json; charset=utf-8 123.3322ms
2025-04-24 11:10:13.543 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 11:10:13.778 +08:00 [DBG] Hosting starting
2025-04-24 11:10:13.807 +08:00 [DBG] Middleware loaded
2025-04-24 11:10:13.810 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-24 11:10:13.812 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-24 11:10:13.884 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-24 11:10:13.917 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 11:10:13.919 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 11:10:13.919 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-24 11:10:13.919 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 11:10:13.920 +08:00 [INF] Hosting environment: Development
2025-04-24 11:10:13.920 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 11:10:13.920 +08:00 [DBG] Hosting started
2025-04-24 11:10:14.253 +08:00 [DBG] Connection id "0HNC2RM44N8FQ" accepted.
2025-04-24 11:10:14.254 +08:00 [DBG] Connection id "0HNC2RM44N8FR" accepted.
2025-04-24 11:10:14.255 +08:00 [DBG] Connection id "0HNC2RM44N8FQ" started.
2025-04-24 11:10:14.267 +08:00 [DBG] Connection id "0HNC2RM44N8FR" started.
2025-04-24 11:10:14.474 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 11:10:14.500 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 11:10:14.807 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 11:10:14.869 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 11:10:14.870 +08:00 [DBG] Connection id "0HNC2RM44N8FR" completed keep alive response.
2025-04-24 11:10:14.875 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 403.8196ms
2025-04-24 11:10:15.019 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 11:10:15.023 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 11:10:15.026 +08:00 [DBG] Connection id "0HNC2RM44N8FR" completed keep alive response.
2025-04-24 11:10:15.026 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 7.2302ms
2025-04-24 11:10:16.125 +08:00 [DBG] Connection id "0HNC2RM44N8FQ" received FIN.
2025-04-24 11:10:16.132 +08:00 [DBG] Connection id "0HNC2RM44N8FR" received FIN.
2025-04-24 11:10:16.133 +08:00 [DBG] Connection id "0HNC2RM44N8FQ" disconnecting.
2025-04-24 11:10:16.135 +08:00 [DBG] Connection id "0HNC2RM44N8FR" disconnecting.
2025-04-24 11:10:16.136 +08:00 [DBG] Connection id "0HNC2RM44N8FQ" stopped.
2025-04-24 11:10:16.136 +08:00 [DBG] Connection id "0HNC2RM44N8FR" stopped.
2025-04-24 11:10:16.143 +08:00 [DBG] Connection id "0HNC2RM44N8FQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:10:16.143 +08:00 [DBG] Connection id "0HNC2RM44N8FR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:10:16.499 +08:00 [DBG] Connection id "0HNC2RM44N8FS" accepted.
2025-04-24 11:10:16.500 +08:00 [DBG] Connection id "0HNC2RM44N8FS" started.
2025-04-24 11:10:16.500 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 11:10:16.835 +08:00 [DBG] Connection id "0HNC2RM44N8FS" completed keep alive response.
2025-04-24 11:10:16.835 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 334.6465ms
2025-04-24 11:10:26.121 +08:00 [DBG] Connection id "0HNC2RM44N8FS" received FIN.
2025-04-24 11:10:26.121 +08:00 [DBG] Connection id "0HNC2RM44N8FS" disconnecting.
2025-04-24 11:10:26.121 +08:00 [DBG] Connection id "0HNC2RM44N8FS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:10:26.136 +08:00 [DBG] Connection id "0HNC2RM44N8FS" stopped.
2025-04-24 11:10:30.744 +08:00 [DBG] Connection id "0HNC2RM44N8FT" accepted.
2025-04-24 11:10:30.744 +08:00 [DBG] Connection id "0HNC2RM44N8FT" started.
2025-04-24 11:10:30.746 +08:00 [DBG] Connection id "0HNC2RM44N8FT" received FIN.
2025-04-24 11:10:30.747 +08:00 [DBG] Connection id "0HNC2RM44N8FU" accepted.
2025-04-24 11:10:30.747 +08:00 [DBG] Connection id "0HNC2RM44N8FT" disconnecting.
2025-04-24 11:10:30.747 +08:00 [DBG] Connection id "0HNC2RM44N8FT" stopped.
2025-04-24 11:10:30.747 +08:00 [DBG] Connection id "0HNC2RM44N8FU" started.
2025-04-24 11:10:30.747 +08:00 [DBG] Connection id "0HNC2RM44N8FT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:10:30.752 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 11:10:30.767 +08:00 [DBG] POST requests are not supported
2025-04-24 11:10:30.769 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 11:10:30.807 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:10:30.816 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:10:30.817 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:10:30.821 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:10:30.857 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:10:30.858 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:10:30.859 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:10:30.859 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:10:30.859 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:10:30.862 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:10:30.866 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:10:30.867 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:10:30.872 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:10:30.874 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:10:30.875 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 11:10:30.875 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 11:10:30.887 +08:00 [DBG] Connection id "0HNC2RM44N8FU", Request id "0HNC2RM44N8FU:00000001": started reading request body.
2025-04-24 11:10:30.888 +08:00 [DBG] Connection id "0HNC2RM44N8FU", Request id "0HNC2RM44N8FU:00000001": done reading request body.
2025-04-24 11:10:30.985 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:10:30.985 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:10:30.985 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:10:30.989 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:10:31.039 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 173.6989ms
2025-04-24 11:10:31.039 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:10:31.040 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '216' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at CityInfo.API.Controllers.AuthenticationController.Authenticate(AuthenticationRequestBody authenticationRequestBody) in C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\Controllers\AuthenticationController.cs:line 76
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-24 11:10:31.104 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:10:31.106 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 11:10:31.106 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-04-24 11:10:31.107 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-04-24 11:10:31.166 +08:00 [DBG] Connection id "0HNC2RM44N8FU" completed keep alive response.
2025-04-24 11:10:31.166 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 500 385 application/problem+json; charset=utf-8 414.0606ms
2025-04-24 11:10:45.192 +08:00 [DBG] Connection id "0HNC2RM44N8FV" accepted.
2025-04-24 11:10:45.196 +08:00 [DBG] Connection id "0HNC2RM44N8G0" accepted.
2025-04-24 11:10:45.197 +08:00 [DBG] Connection id "0HNC2RM44N8FV" started.
2025-04-24 11:10:45.198 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 11:10:45.198 +08:00 [DBG] Connection id "0HNC2RM44N8G0" started.
2025-04-24 11:10:45.199 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 11:10:45.199 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 11:10:45.199 +08:00 [DBG] Connection id "0HNC2RM44N8FV" completed keep alive response.
2025-04-24 11:10:45.199 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.3459ms
2025-04-24 11:10:45.516 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 11:10:45.517 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 11:10:45.517 +08:00 [DBG] Connection id "0HNC2RM44N8FV" completed keep alive response.
2025-04-24 11:10:45.517 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.8234ms
2025-04-24 11:10:45.767 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 11:10:45.778 +08:00 [DBG] Connection id "0HNC2RM44N8FV" completed keep alive response.
2025-04-24 11:10:45.778 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.0477ms
2025-04-24 11:10:46.352 +08:00 [DBG] Connection id "0HNC2RM44N8G0" received FIN.
2025-04-24 11:10:46.352 +08:00 [DBG] Connection id "0HNC2RM44N8FV" received FIN.
2025-04-24 11:10:46.352 +08:00 [DBG] Connection id "0HNC2RM44N8G0" disconnecting.
2025-04-24 11:10:46.353 +08:00 [DBG] Connection id "0HNC2RM44N8G0" stopped.
2025-04-24 11:10:46.353 +08:00 [DBG] Connection id "0HNC2RM44N8FV" disconnecting.
2025-04-24 11:10:46.353 +08:00 [DBG] Connection id "0HNC2RM44N8FV" stopped.
2025-04-24 11:10:46.353 +08:00 [DBG] Connection id "0HNC2RM44N8G0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:10:46.353 +08:00 [DBG] Connection id "0HNC2RM44N8FV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:10:52.184 +08:00 [DBG] Connection id "0HNC2RM44N8G1" accepted.
2025-04-24 11:10:52.185 +08:00 [DBG] Connection id "0HNC2RM44N8G1" started.
2025-04-24 11:10:52.185 +08:00 [DBG] Connection id "0HNC2RM44N8G2" accepted.
2025-04-24 11:10:52.186 +08:00 [DBG] Connection id "0HNC2RM44N8G2" started.
2025-04-24 11:10:52.190 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 11:10:52.191 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 11:10:52.193 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 11:10:52.193 +08:00 [DBG] Connection id "0HNC2RM44N8G2" completed keep alive response.
2025-04-24 11:10:52.194 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 3.6687ms
2025-04-24 11:10:52.338 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 11:10:52.340 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 11:10:52.340 +08:00 [DBG] Connection id "0HNC2RM44N8G2" completed keep alive response.
2025-04-24 11:10:52.340 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 1.8575ms
2025-04-24 11:10:52.807 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 11:10:52.824 +08:00 [DBG] Connection id "0HNC2RM44N8G2" completed keep alive response.
2025-04-24 11:10:52.825 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.8823ms
2025-04-24 11:10:56.241 +08:00 [DBG] Connection id "0HNC2RM44N8G1" received FIN.
2025-04-24 11:10:56.244 +08:00 [DBG] Connection id "0HNC2RM44N8G2" received FIN.
2025-04-24 11:10:56.245 +08:00 [DBG] Connection id "0HNC2RM44N8G1" disconnecting.
2025-04-24 11:10:56.247 +08:00 [DBG] Connection id "0HNC2RM44N8G1" stopped.
2025-04-24 11:10:56.247 +08:00 [DBG] Connection id "0HNC2RM44N8G2" disconnecting.
2025-04-24 11:10:56.247 +08:00 [DBG] Connection id "0HNC2RM44N8G2" stopped.
2025-04-24 11:10:56.247 +08:00 [DBG] Connection id "0HNC2RM44N8G1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:10:56.248 +08:00 [DBG] Connection id "0HNC2RM44N8G2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:11:14.144 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-24 11:11:14.410 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-24 11:11:19.022 +08:00 [DBG] Connection id "0HNC2RM44N8G3" accepted.
2025-04-24 11:11:19.023 +08:00 [DBG] Connection id "0HNC2RM44N8G4" accepted.
2025-04-24 11:11:19.023 +08:00 [DBG] Connection id "0HNC2RM44N8G3" started.
2025-04-24 11:11:19.023 +08:00 [DBG] Connection id "0HNC2RM44N8G4" started.
2025-04-24 11:11:19.029 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 11:11:19.030 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 11:11:19.039 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 11:11:19.040 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 11:11:19.040 +08:00 [DBG] Connection id "0HNC2RM44N8G3" completed keep alive response.
2025-04-24 11:11:19.043 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 14.1314ms
2025-04-24 11:11:19.144 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 11:11:19.145 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 11:11:19.145 +08:00 [DBG] Connection id "0HNC2RM44N8G3" completed keep alive response.
2025-04-24 11:11:19.145 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 1.4475ms
2025-04-24 11:11:19.423 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 11:11:19.437 +08:00 [DBG] Connection id "0HNC2RM44N8G3" completed keep alive response.
2025-04-24 11:11:19.438 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.3325ms
2025-04-24 11:11:21.215 +08:00 [DBG] Connection id "0HNC2RM44N8G3" received FIN.
2025-04-24 11:11:21.215 +08:00 [DBG] Connection id "0HNC2RM44N8G4" received FIN.
2025-04-24 11:11:21.216 +08:00 [DBG] Connection id "0HNC2RM44N8G4" disconnecting.
2025-04-24 11:11:21.216 +08:00 [DBG] Connection id "0HNC2RM44N8G3" disconnecting.
2025-04-24 11:11:21.216 +08:00 [DBG] Connection id "0HNC2RM44N8G4" stopped.
2025-04-24 11:11:21.217 +08:00 [DBG] Connection id "0HNC2RM44N8G3" stopped.
2025-04-24 11:11:21.217 +08:00 [DBG] Connection id "0HNC2RM44N8G4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:11:21.217 +08:00 [DBG] Connection id "0HNC2RM44N8G3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:11:43.737 +08:00 [DBG] Connection id "0HNC2RM44N8G5" accepted.
2025-04-24 11:11:43.738 +08:00 [DBG] Connection id "0HNC2RM44N8G5" received FIN.
2025-04-24 11:11:43.738 +08:00 [DBG] Connection id "0HNC2RM44N8G5" started.
2025-04-24 11:11:43.739 +08:00 [DBG] Connection id "0HNC2RM44N8G5" disconnecting.
2025-04-24 11:11:43.741 +08:00 [DBG] Connection id "0HNC2RM44N8G5" stopped.
2025-04-24 11:11:43.744 +08:00 [DBG] Connection id "0HNC2RM44N8G5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:11:43.746 +08:00 [DBG] Connection id "0HNC2RM44N8G6" accepted.
2025-04-24 11:11:43.748 +08:00 [DBG] Connection id "0HNC2RM44N8G6" started.
2025-04-24 11:11:43.750 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 11:11:43.751 +08:00 [DBG] POST requests are not supported
2025-04-24 11:11:43.752 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:11:43.752 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:11:43.754 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:11:43.755 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:11:43.779 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:11:43.779 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:11:43.779 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:11:43.780 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:11:43.780 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:11:43.780 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:11:43.781 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:11:43.781 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:11:43.782 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:11:43.782 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:11:43.783 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 11:11:43.783 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 11:11:43.784 +08:00 [DBG] Connection id "0HNC2RM44N8G6", Request id "0HNC2RM44N8G6:00000001": started reading request body.
2025-04-24 11:11:43.784 +08:00 [DBG] Connection id "0HNC2RM44N8G6", Request id "0HNC2RM44N8G6:00000001": done reading request body.
2025-04-24 11:11:43.785 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:11:43.785 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:11:43.785 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:11:43.787 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:11:43.798 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 17.7806ms
2025-04-24 11:11:43.799 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:11:43.799 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at CityInfo.API.Controllers.AuthenticationController.Authenticate(AuthenticationRequestBody authenticationRequestBody)
   at lambda_method12(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-24 11:11:43.815 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:11:43.816 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 11:11:43.816 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-04-24 11:11:43.817 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-04-24 11:11:43.818 +08:00 [DBG] Connection id "0HNC2RM44N8G6" completed keep alive response.
2025-04-24 11:11:43.818 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 500 382 application/problem+json; charset=utf-8 68.4477ms
2025-04-24 11:11:50.629 +08:00 [INF] Application is shutting down...
2025-04-24 11:11:50.633 +08:00 [DBG] Hosting stopping
2025-04-24 11:11:50.642 +08:00 [DBG] Connection id "0HNC2RM44N8FU" disconnecting.
2025-04-24 11:11:50.645 +08:00 [DBG] Connection id "0HNC2RM44N8G6" disconnecting.
2025-04-24 11:11:50.645 +08:00 [DBG] Connection id "0HNC2RM44N8G6" stopped.
2025-04-24 11:11:50.645 +08:00 [DBG] Connection id "0HNC2RM44N8G6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:11:50.646 +08:00 [DBG] Connection id "0HNC2RM44N8FU" stopped.
2025-04-24 11:11:50.648 +08:00 [DBG] Connection id "0HNC2RM44N8FU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:11:50.654 +08:00 [DBG] Hosting stopped
2025-04-24 11:12:02.498 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 11:12:02.730 +08:00 [DBG] Hosting starting
2025-04-24 11:12:02.828 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 11:12:02.832 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 11:12:02.834 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 11:12:02.835 +08:00 [INF] Hosting environment: Development
2025-04-24 11:12:02.837 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 11:12:02.841 +08:00 [DBG] Hosting started
2025-04-24 11:12:12.515 +08:00 [DBG] Connection id "0HNC2RN7CIA65" received FIN.
2025-04-24 11:12:12.526 +08:00 [DBG] Connection id "0HNC2RN7CIA65" accepted.
2025-04-24 11:12:12.529 +08:00 [DBG] Connection id "0HNC2RN7CIA65" started.
2025-04-24 11:12:12.545 +08:00 [DBG] Connection id "0HNC2RN7CIA66" accepted.
2025-04-24 11:12:12.546 +08:00 [DBG] Connection id "0HNC2RN7CIA65" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:12:12.551 +08:00 [DBG] Connection id "0HNC2RN7CIA66" started.
2025-04-24 11:12:12.553 +08:00 [DBG] Connection id "0HNC2RN7CIA65" disconnecting.
2025-04-24 11:12:12.567 +08:00 [DBG] Connection id "0HNC2RN7CIA65" stopped.
2025-04-24 11:12:12.612 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 11:12:12.630 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 11:12:12.668 +08:00 [DBG] POST requests are not supported
2025-04-24 11:12:12.670 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 11:12:12.715 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:12:12.720 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:12:12.730 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:12:12.735 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:12:12.794 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:12:12.798 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:12:12.799 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:12:12.803 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:12:12.814 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:12:12.816 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:12:12.819 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:12:12.825 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:12:12.832 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:12:12.844 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:12:12.850 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 11:12:12.865 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 11:12:12.884 +08:00 [DBG] Connection id "0HNC2RN7CIA66", Request id "0HNC2RN7CIA66:00000001": started reading request body.
2025-04-24 11:12:12.891 +08:00 [DBG] Connection id "0HNC2RN7CIA66", Request id "0HNC2RN7CIA66:00000001": done reading request body.
2025-04-24 11:12:13.052 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:12:13.056 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:12:13.058 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:12:13.077 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:12:13.094 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 268.6653ms
2025-04-24 11:12:13.101 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:12:13.103 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at CityInfo.API.Controllers.AuthenticationController.Authenticate(AuthenticationRequestBody authenticationRequestBody) in C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\Controllers\AuthenticationController.cs:line 57
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-24 11:12:13.218 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:12:13.224 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 11:12:13.226 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-04-24 11:12:13.230 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-04-24 11:12:13.307 +08:00 [DBG] Connection id "0HNC2RN7CIA66" completed keep alive response.
2025-04-24 11:12:13.313 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 500 382 application/problem+json; charset=utf-8 709.8585ms
2025-04-24 11:14:14.257 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 11:14:14.408 +08:00 [DBG] Hosting starting
2025-04-24 11:14:14.501 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 11:14:14.502 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 11:14:14.503 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 11:14:14.505 +08:00 [INF] Hosting environment: Development
2025-04-24 11:14:14.505 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 11:14:14.506 +08:00 [DBG] Hosting started
2025-04-24 11:14:21.863 +08:00 [DBG] Connection id "0HNC2RODU45OO" received FIN.
2025-04-24 11:14:21.874 +08:00 [DBG] Connection id "0HNC2RODU45OO" accepted.
2025-04-24 11:14:21.884 +08:00 [DBG] Connection id "0HNC2RODU45OP" accepted.
2025-04-24 11:14:21.888 +08:00 [DBG] Connection id "0HNC2RODU45OO" started.
2025-04-24 11:14:21.891 +08:00 [DBG] Connection id "0HNC2RODU45OP" started.
2025-04-24 11:14:21.906 +08:00 [DBG] Connection id "0HNC2RODU45OO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:14:21.917 +08:00 [DBG] Connection id "0HNC2RODU45OO" disconnecting.
2025-04-24 11:14:21.942 +08:00 [DBG] Connection id "0HNC2RODU45OO" stopped.
2025-04-24 11:14:21.969 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 11:14:21.980 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 11:14:22.012 +08:00 [DBG] POST requests are not supported
2025-04-24 11:14:22.020 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 11:14:22.075 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:14:22.085 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:14:22.088 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:14:22.093 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:14:22.173 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:14:22.177 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:14:22.178 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:14:22.183 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:14:22.190 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:14:22.191 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:14:22.194 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:14:22.195 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:14:22.205 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:14:22.209 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:14:22.212 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 11:14:22.216 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 11:14:22.230 +08:00 [DBG] Connection id "0HNC2RODU45OP", Request id "0HNC2RODU45OP:00000001": started reading request body.
2025-04-24 11:14:22.238 +08:00 [DBG] Connection id "0HNC2RODU45OP", Request id "0HNC2RODU45OP:00000001": done reading request body.
2025-04-24 11:14:22.385 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:14:22.388 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:14:22.389 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:14:22.409 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:14:22.501 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:14:22.505 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 11:14:22.506 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 11:14:22.507 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 11:14:22.509 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 11:14:22.512 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 11:14:22.526 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 329.3572ms
2025-04-24 11:14:22.541 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:14:22.544 +08:00 [DBG] Connection id "0HNC2RODU45OP" completed keep alive response.
2025-04-24 11:14:22.563 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 600.8554ms
2025-04-24 11:14:54.956 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 11:14:54.960 +08:00 [DBG] POST requests are not supported
2025-04-24 11:14:54.967 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:14:54.977 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:14:54.987 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:14:54.990 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:14:55.005 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:14:55.008 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:14:55.010 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:14:55.018 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:14:55.021 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:14:55.023 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:14:55.026 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:14:55.031 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:14:55.035 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:14:55.045 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:14:55.124 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 11:14:55.211 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 11:14:55.227 +08:00 [DBG] Connection id "0HNC2RODU45OP", Request id "0HNC2RODU45OP:00000002": started reading request body.
2025-04-24 11:14:55.242 +08:00 [DBG] Connection id "0HNC2RODU45OP", Request id "0HNC2RODU45OP:00000002": done reading request body.
2025-04-24 11:14:55.270 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:14:55.286 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:14:55.291 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:14:55.294 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:14:55.306 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:14:55.310 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 11:14:55.318 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 11:14:55.321 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 11:14:55.322 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 11:14:55.324 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 11:14:55.327 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 301.8728ms
2025-04-24 11:14:55.337 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:14:55.338 +08:00 [DBG] Connection id "0HNC2RODU45OP" completed keep alive response.
2025-04-24 11:14:55.342 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 385.7195ms
2025-04-24 11:15:20.749 +08:00 [DBG] Connection id "0HNC2RODU45OQ" accepted.
2025-04-24 11:15:20.752 +08:00 [DBG] Connection id "0HNC2RODU45OQ" started.
2025-04-24 11:15:20.759 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/cities/1/pointsofinterest - application/json-patch+json 108
2025-04-24 11:15:20.783 +08:00 [DBG] POST requests are not supported
2025-04-24 11:15:20.788 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 11:15:20.791 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 11:15:20.802 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-04-24 11:15:20.804 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-04-24 11:15:20.832 +08:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointsOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 11:15:20.872 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:15:20.874 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:15:20.875 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:15:20.883 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:15:20.886 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:15:20.888 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 11:15:21.039 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-24 11:15:21.223 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 11:15:21.225 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 11:15:21.226 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 11:15:21.238 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 11:15:21.241 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 11:15:21.242 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 11:15:21.248 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 11:15:21.250 +08:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto' ...
2025-04-24 11:15:21.252 +08:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto' using the name '' in request data ...
2025-04-24 11:15:21.253 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 11:15:21.254 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 11:15:21.255 +08:00 [DBG] Connection id "0HNC2RODU45OQ", Request id "0HNC2RODU45OQ:00000001": started reading request body.
2025-04-24 11:15:21.257 +08:00 [DBG] Connection id "0HNC2RODU45OQ", Request id "0HNC2RODU45OQ:00000001": done reading request body.
2025-04-24 11:15:21.265 +08:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto'.
2025-04-24 11:15:21.266 +08:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto'.
2025-04-24 11:15:21.268 +08:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto' ...
2025-04-24 11:15:21.275 +08:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto'.
2025-04-24 11:15:22.851 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 11:15:22.935 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-24 11:15:23.237 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 11:15:23.298 +08:00 [DBG] Creating DbConnection.
2025-04-24 11:15:23.316 +08:00 [DBG] Created DbConnection. (19ms).
2025-04-24 11:15:23.323 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 11:15:23.357 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:23.366 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 11:15:23.378 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-04-24 11:15:23.386 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2025-04-24 11:15:23.397 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 11:15:23.436 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 11:15:23.448 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:23.455 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 12ms reading results.
2025-04-24 11:15:23.459 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:23.471 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (11ms).
2025-04-24 11:15:23.515 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2025-04-24 11:15:23.584 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: SingleQueryingEnumerable.Create<City>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            City entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                City instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(City);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (City)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                            {
                                return 
                                {
                                    City instance;
                                    instance = new City(dataReader.GetString(2));
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(City)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 11:15:23.597 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 11:15:23.598 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:23.600 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 11:15:23.606 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-04-24 11:15:23.608 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-04-24 11:15:23.609 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 11:15:23.613 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 11:15:23.641 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:23.662 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:23.666 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 49ms reading results.
2025-04-24 11:15:23.668 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:23.669 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 11:15:23.673 +08:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2025-04-24 11:15:23.676 +08:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2025-04-24 11:15:23.708 +08:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:23.751 +08:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:23.784 +08:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:23.806 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:23.815 +08:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2025-04-24 11:15:23.942 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 11:15:23.946 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:23.952 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 11:15:23.954 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 11:15:23.956 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 11:15:23.958 +08:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-04-24 11:15:23.972 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-04-24 11:15:24.019 +08:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 11:15:24.069 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:24.072 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 87ms reading results.
2025-04-24 11:15:24.075 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:24.081 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2025-04-24 11:15:24.103 +08:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:24.110 +08:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2025-04-24 11:15:24.123 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:15:24.139 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 11:15:24.190 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 11:15:24.193 +08:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2025-04-24 11:15:24.200 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:15:24.204 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-04-24 11:15:24.205 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 11:15:24.207 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 3318.4578ms
2025-04-24 11:15:24.209 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-04-24 11:15:24.214 +08:00 [DBG] Connection id "0HNC2RODU45OQ" completed keep alive response.
2025-04-24 11:15:24.220 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 11:15:24.251 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 11:15:24.255 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (14ms).
2025-04-24 11:15:24.269 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/cities/1/pointsofinterest - 406 0 null 3510.808ms
2025-04-24 11:15:30.949 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/cities/1/pointsofinterest - application/json-patch+json 108
2025-04-24 11:15:30.968 +08:00 [DBG] POST requests are not supported
2025-04-24 11:15:30.972 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 11:15:30.988 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 11:15:30.992 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-04-24 11:15:31.004 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-04-24 11:15:31.006 +08:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointsOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 11:15:31.009 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:15:31.015 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:15:31.018 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:15:31.021 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:15:31.023 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:15:31.025 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 11:15:31.033 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 11:15:31.035 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 11:15:31.037 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 11:15:31.038 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 11:15:31.040 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 11:15:31.041 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 11:15:31.042 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 11:15:31.046 +08:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto' ...
2025-04-24 11:15:31.049 +08:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto' using the name '' in request data ...
2025-04-24 11:15:31.054 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 11:15:31.057 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 11:15:31.059 +08:00 [DBG] Connection id "0HNC2RODU45OQ", Request id "0HNC2RODU45OQ:00000002": started reading request body.
2025-04-24 11:15:31.066 +08:00 [DBG] Connection id "0HNC2RODU45OQ", Request id "0HNC2RODU45OQ:00000002": done reading request body.
2025-04-24 11:15:31.068 +08:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto'.
2025-04-24 11:15:31.069 +08:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto'.
2025-04-24 11:15:31.071 +08:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto' ...
2025-04-24 11:15:31.073 +08:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDto'.
2025-04-24 11:15:31.125 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 11:15:31.139 +08:00 [DBG] Creating DbConnection.
2025-04-24 11:15:31.140 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 11:15:31.141 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 11:15:31.142 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:31.149 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 11:15:31.150 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 11:15:31.151 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 11:15:31.152 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 11:15:31.154 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 11:15:31.156 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:31.157 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 11:15:31.159 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:31.165 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2025-04-24 11:15:31.170 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 11:15:31.173 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:31.175 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 11:15:31.176 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 11:15:31.182 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-24 11:15:31.184 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 11:15:31.186 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 11:15:31.191 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:31.192 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:31.201 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 10ms reading results.
2025-04-24 11:15:31.204 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:31.209 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-24 11:15:31.219 +08:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2025-04-24 11:15:31.220 +08:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2025-04-24 11:15:31.221 +08:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:31.224 +08:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:31.226 +08:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:31.238 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:31.240 +08:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2025-04-24 11:15:31.242 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 11:15:31.251 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:31.253 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 11:15:31.254 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 11:15:31.256 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 11:15:31.257 +08:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-04-24 11:15:31.264 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-04-24 11:15:31.268 +08:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 11:15:31.271 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:31.273 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 5ms reading results.
2025-04-24 11:15:31.276 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 11:15:31.283 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (7ms).
2025-04-24 11:15:31.288 +08:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 11:15:31.289 +08:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2025-04-24 11:15:31.291 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:15:31.300 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 11:15:31.304 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 11:15:31.306 +08:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2025-04-24 11:15:31.379 +08:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address GetPointOfInterest(cityId=[1],pointOfInterestId=[62])
2025-04-24 11:15:31.388 +08:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointOfInterestId} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/1/pointsofinterest/62 and 
2025-04-24 11:15:31.396 +08:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/1/pointsofinterest/62
2025-04-24 11:15:31.464 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 439.388ms
2025-04-24 11:15:31.469 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-04-24 11:15:31.475 +08:00 [DBG] Connection id "0HNC2RODU45OQ" completed keep alive response.
2025-04-24 11:15:31.503 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 11:15:31.525 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 11:15:31.532 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (7ms).
2025-04-24 11:15:31.537 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/cities/1/pointsofinterest - 201 38 application/json; charset=utf-8 587.9418ms
2025-04-24 11:15:31.657 +08:00 [DBG] Connection id "0HNC2RODU45OQ" received FIN.
2025-04-24 11:15:31.665 +08:00 [DBG] Connection id "0HNC2RODU45OQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:15:31.669 +08:00 [DBG] Connection id "0HNC2RODU45OQ" disconnecting.
2025-04-24 11:15:31.671 +08:00 [DBG] Connection id "0HNC2RODU45OQ" stopped.
2025-04-24 11:16:10.527 +08:00 [DBG] Connection id "0HNC2RODU45OR" accepted.
2025-04-24 11:16:10.530 +08:00 [DBG] Connection id "0HNC2RODU45OR" started.
2025-04-24 11:16:10.534 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 108
2025-04-24 11:16:10.568 +08:00 [DBG] POST requests are not supported
2025-04-24 11:16:10.571 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:16:10.573 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:16:10.580 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:16:10.582 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:16:10.583 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:16:10.586 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:16:10.587 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:16:10.589 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:16:10.594 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:16:10.596 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:16:10.598 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:16:10.600 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:16:10.601 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:16:10.603 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:16:10.606 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 11:16:10.612 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 11:16:10.638 +08:00 [DBG] Connection id "0HNC2RODU45OR", Request id "0HNC2RODU45OR:00000001": started reading request body.
2025-04-24 11:16:10.650 +08:00 [DBG] Connection id "0HNC2RODU45OR", Request id "0HNC2RODU45OR:00000001": done reading request body.
2025-04-24 11:16:10.652 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:16:10.655 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:16:10.656 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:16:10.664 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:16:10.666 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:16:10.668 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 11:16:10.669 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 11:16:10.670 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 11:16:10.671 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 73.0884ms
2025-04-24 11:16:10.672 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:16:10.673 +08:00 [DBG] Connection id "0HNC2RODU45OR" completed keep alive response.
2025-04-24 11:16:10.679 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 144.7997ms
2025-04-24 11:16:11.729 +08:00 [DBG] Connection id "0HNC2RODU45OR" received FIN.
2025-04-24 11:16:11.734 +08:00 [DBG] Connection id "0HNC2RODU45OR" disconnecting.
2025-04-24 11:16:11.739 +08:00 [DBG] Connection id "0HNC2RODU45OR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:16:11.768 +08:00 [DBG] Connection id "0HNC2RODU45OR" stopped.
2025-04-24 11:16:18.758 +08:00 [DBG] Connection id "0HNC2RODU45OS" accepted.
2025-04-24 11:16:18.762 +08:00 [DBG] Connection id "0HNC2RODU45OS" started.
2025-04-24 11:16:18.765 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 108
2025-04-24 11:16:18.802 +08:00 [DBG] POST requests are not supported
2025-04-24 11:16:18.805 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:16:18.806 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:16:18.814 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:16:18.815 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:16:18.816 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:16:18.818 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:16:18.820 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:16:18.822 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:16:18.830 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:16:18.832 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:16:18.834 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:16:18.835 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:16:18.837 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:16:18.838 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:16:18.842 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 11:16:18.846 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 11:16:18.848 +08:00 [DBG] Connection id "0HNC2RODU45OS", Request id "0HNC2RODU45OS:00000001": started reading request body.
2025-04-24 11:16:18.849 +08:00 [DBG] Connection id "0HNC2RODU45OS", Request id "0HNC2RODU45OS:00000001": done reading request body.
2025-04-24 11:16:18.851 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:16:18.956 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:16:19.073 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:16:19.083 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:16:19.086 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:16:19.094 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 11:16:19.163 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 11:16:19.164 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 11:16:19.166 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 332.1619ms
2025-04-24 11:16:19.170 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:16:19.172 +08:00 [DBG] Connection id "0HNC2RODU45OS" completed keep alive response.
2025-04-24 11:16:19.173 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 283 application/json; charset=utf-8 407.7395ms
2025-04-24 11:16:21.746 +08:00 [DBG] Connection id "0HNC2RODU45OS" received FIN.
2025-04-24 11:16:21.748 +08:00 [DBG] Connection id "0HNC2RODU45OS" disconnecting.
2025-04-24 11:16:21.750 +08:00 [DBG] Connection id "0HNC2RODU45OS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:16:21.761 +08:00 [DBG] Connection id "0HNC2RODU45OS" stopped.
2025-04-24 11:17:05.882 +08:00 [DBG] Connection id "0HNC2RODU45OP" disconnecting.
2025-04-24 11:17:05.885 +08:00 [DBG] Connection id "0HNC2RODU45OP" stopped.
2025-04-24 11:17:05.890 +08:00 [DBG] Connection id "0HNC2RODU45OP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:17:26.491 +08:00 [DBG] Connection id "0HNC2RODU45OT" accepted.
2025-04-24 11:17:26.499 +08:00 [DBG] Connection id "0HNC2RODU45OT" started.
2025-04-24 11:17:26.519 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 108
2025-04-24 11:17:26.530 +08:00 [DBG] POST requests are not supported
2025-04-24 11:17:26.532 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:17:26.535 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:17:26.555 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:17:26.559 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:17:26.560 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:17:26.562 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:17:26.563 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:17:26.565 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:17:26.567 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:17:26.568 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:17:26.569 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:17:26.574 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:17:26.576 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:17:26.578 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:17:26.580 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 11:17:26.583 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 11:17:26.586 +08:00 [DBG] Connection id "0HNC2RODU45OT", Request id "0HNC2RODU45OT:00000001": started reading request body.
2025-04-24 11:17:26.593 +08:00 [DBG] Connection id "0HNC2RODU45OT", Request id "0HNC2RODU45OT:00000001": done reading request body.
2025-04-24 11:17:26.598 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:17:26.599 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:17:26.602 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:17:26.607 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:17:26.611 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:17:26.616 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 11:17:26.618 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 11:17:26.623 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 11:17:26.629 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 59.7592ms
2025-04-24 11:17:26.632 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:17:26.634 +08:00 [DBG] Connection id "0HNC2RODU45OT" completed keep alive response.
2025-04-24 11:17:26.635 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 283 application/json; charset=utf-8 116.0003ms
2025-04-24 11:17:26.828 +08:00 [DBG] Connection id "0HNC2RODU45OT" received FIN.
2025-04-24 11:17:26.832 +08:00 [DBG] Connection id "0HNC2RODU45OT" disconnecting.
2025-04-24 11:17:26.835 +08:00 [DBG] Connection id "0HNC2RODU45OT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:17:26.846 +08:00 [DBG] Connection id "0HNC2RODU45OT" stopped.
2025-04-24 11:19:08.274 +08:00 [DBG] Connection id "0HNC2RODU45OU" accepted.
2025-04-24 11:19:08.276 +08:00 [DBG] Connection id "0HNC2RODU45OU" received FIN.
2025-04-24 11:19:08.277 +08:00 [DBG] Connection id "0HNC2RODU45OU" started.
2025-04-24 11:19:08.278 +08:00 [DBG] Connection id "0HNC2RODU45OV" accepted.
2025-04-24 11:19:08.279 +08:00 [DBG] Connection id "0HNC2RODU45OU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 11:19:08.280 +08:00 [DBG] Connection id "0HNC2RODU45OV" started.
2025-04-24 11:19:08.284 +08:00 [DBG] Connection id "0HNC2RODU45OU" disconnecting.
2025-04-24 11:19:08.287 +08:00 [DBG] Connection id "0HNC2RODU45OU" stopped.
2025-04-24 11:19:08.286 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 11:19:08.308 +08:00 [DBG] POST requests are not supported
2025-04-24 11:19:08.309 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 11:19:08.311 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 11:19:08.312 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:19:08.324 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:19:08.326 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 11:19:08.328 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 11:19:08.338 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 11:19:08.340 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 11:19:08.343 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 11:19:08.344 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 11:19:08.347 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:19:08.360 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 11:19:08.369 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:19:08.376 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 11:19:08.378 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 11:19:08.379 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 11:19:08.380 +08:00 [DBG] Connection id "0HNC2RODU45OV", Request id "0HNC2RODU45OV:00000001": started reading request body.
2025-04-24 11:19:08.388 +08:00 [DBG] Connection id "0HNC2RODU45OV", Request id "0HNC2RODU45OV:00000001": done reading request body.
2025-04-24 11:19:08.390 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:19:08.392 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:19:08.393 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 11:19:08.394 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 11:19:08.395 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 11:19:08.405 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 11:19:08.405 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 11:19:08.406 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 11:19:08.412 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 11:19:08.427 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 11:19:08.428 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 81.5777ms
2025-04-24 11:19:08.430 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 11:19:08.442 +08:00 [DBG] Connection id "0HNC2RODU45OV" completed keep alive response.
2025-04-24 11:19:08.443 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 157.1548ms
2025-04-24 11:21:20.183 +08:00 [DBG] Connection id "0HNC2RODU45OV" disconnecting.
2025-04-24 11:21:20.200 +08:00 [DBG] Connection id "0HNC2RODU45OV" stopped.
2025-04-24 11:21:20.204 +08:00 [DBG] Connection id "0HNC2RODU45OV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:30:43.578 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 17:30:43.885 +08:00 [DBG] Hosting starting
2025-04-24 17:30:44.025 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 17:30:44.027 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 17:30:44.030 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 17:30:44.033 +08:00 [INF] Hosting environment: Development
2025-04-24 17:30:44.040 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 17:30:44.055 +08:00 [DBG] Hosting started
2025-04-24 17:30:53.537 +08:00 [DBG] Connection id "0HNC32AQP2HJA" accepted.
2025-04-24 17:30:53.562 +08:00 [DBG] Connection id "0HNC32AQP2HJB" accepted.
2025-04-24 17:30:53.565 +08:00 [DBG] Connection id "0HNC32AQP2HJA" started.
2025-04-24 17:30:53.574 +08:00 [DBG] Connection id "0HNC32AQP2HJB" started.
2025-04-24 17:30:53.693 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/ - null null
2025-04-24 17:30:53.710 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 17:30:53.762 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:30:53.771 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 17:30:53.825 +08:00 [DBG] No candidates found for the request path '/'
2025-04-24 17:30:53.828 +08:00 [DBG] Request did not match any endpoints
2025-04-24 17:30:53.840 +08:00 [DBG] Connection id "0HNC32AQP2HJA" completed keep alive response.
2025-04-24 17:30:53.844 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/ - 404 0 null 155.9519ms
2025-04-24 17:30:53.876 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5212/, Response status code: 404
2025-04-24 17:30:54.611 +08:00 [DBG] Connection id "0HNC32AQP2HJB" received FIN.
2025-04-24 17:30:54.611 +08:00 [DBG] Connection id "0HNC32AQP2HJA" received FIN.
2025-04-24 17:30:54.622 +08:00 [DBG] Connection id "0HNC32AQP2HJA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:30:54.622 +08:00 [DBG] Connection id "0HNC32AQP2HJB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:30:54.624 +08:00 [DBG] Connection id "0HNC32AQP2HJA" disconnecting.
2025-04-24 17:30:54.625 +08:00 [DBG] Connection id "0HNC32AQP2HJB" disconnecting.
2025-04-24 17:30:54.627 +08:00 [DBG] Connection id "0HNC32AQP2HJA" stopped.
2025-04-24 17:30:54.627 +08:00 [DBG] Connection id "0HNC32AQP2HJB" stopped.
2025-04-24 17:30:58.973 +08:00 [DBG] Connection id "0HNC32AQP2HJC" accepted.
2025-04-24 17:30:58.994 +08:00 [DBG] Connection id "0HNC32AQP2HJC" started.
2025-04-24 17:30:58.995 +08:00 [DBG] Connection id "0HNC32AQP2HJD" accepted.
2025-04-24 17:30:59.005 +08:00 [DBG] Connection id "0HNC32AQP2HJD" started.
2025-04-24 17:30:59.004 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 17:30:59.160 +08:00 [DBG] Connection id "0HNC32AQP2HJC" completed keep alive response.
2025-04-24 17:30:59.163 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 158.5282ms
2025-04-24 17:31:00.649 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 17:31:00.941 +08:00 [DBG] Connection id "0HNC32AQP2HJC" completed keep alive response.
2025-04-24 17:31:00.943 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 293.3426ms
2025-04-24 17:31:04.614 +08:00 [DBG] Connection id "0HNC32AQP2HJD" received FIN.
2025-04-24 17:31:04.614 +08:00 [DBG] Connection id "0HNC32AQP2HJC" received FIN.
2025-04-24 17:31:04.621 +08:00 [DBG] Connection id "0HNC32AQP2HJD" disconnecting.
2025-04-24 17:31:04.622 +08:00 [DBG] Connection id "0HNC32AQP2HJC" disconnecting.
2025-04-24 17:31:04.623 +08:00 [DBG] Connection id "0HNC32AQP2HJD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:31:04.624 +08:00 [DBG] Connection id "0HNC32AQP2HJC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:31:04.628 +08:00 [DBG] Connection id "0HNC32AQP2HJC" stopped.
2025-04-24 17:31:04.628 +08:00 [DBG] Connection id "0HNC32AQP2HJD" stopped.
2025-04-24 17:31:15.245 +08:00 [DBG] Connection id "0HNC32AQP2HJE" accepted.
2025-04-24 17:31:15.247 +08:00 [DBG] Connection id "0HNC32AQP2HJE" started.
2025-04-24 17:31:15.250 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 46
2025-04-24 17:31:15.254 +08:00 [DBG] POST requests are not supported
2025-04-24 17:31:15.272 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 17:31:15.286 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 17:31:15.288 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:15.292 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:15.335 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 17:31:15.338 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:31:15.340 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:31:15.342 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:31:15.343 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:31:15.344 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:31:15.348 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:31:15.350 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:31:15.359 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:31:15.364 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 17:31:15.367 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 17:31:15.371 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 17:31:15.378 +08:00 [DBG] Connection id "0HNC32AQP2HJE", Request id "0HNC32AQP2HJE:00000001": started reading request body.
2025-04-24 17:31:15.382 +08:00 [DBG] Connection id "0HNC32AQP2HJE", Request id "0HNC32AQP2HJE:00000001": done reading request body.
2025-04-24 17:31:15.518 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:15.521 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:15.524 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:31:15.542 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:15.673 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:31:15.680 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 17:31:15.683 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 17:31:15.686 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 17:31:15.699 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 342.9268ms
2025-04-24 17:31:15.702 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:15.704 +08:00 [DBG] Connection id "0HNC32AQP2HJE" completed keep alive response.
2025-04-24 17:31:15.707 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 456.9165ms
2025-04-24 17:31:24.640 +08:00 [DBG] Connection id "0HNC32AQP2HJE" received FIN.
2025-04-24 17:31:24.642 +08:00 [DBG] Connection id "0HNC32AQP2HJE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:31:24.644 +08:00 [DBG] Connection id "0HNC32AQP2HJE" disconnecting.
2025-04-24 17:31:24.646 +08:00 [DBG] Connection id "0HNC32AQP2HJE" stopped.
2025-04-24 17:31:25.227 +08:00 [DBG] Connection id "0HNC32AQP2HJF" accepted.
2025-04-24 17:31:25.229 +08:00 [DBG] Connection id "0HNC32AQP2HJF" started.
2025-04-24 17:31:25.230 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 46
2025-04-24 17:31:25.233 +08:00 [DBG] POST requests are not supported
2025-04-24 17:31:25.237 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 17:31:25.253 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 17:31:25.255 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:25.256 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:25.258 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 17:31:25.259 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:31:25.260 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:31:25.263 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:31:25.265 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:31:25.267 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:31:25.270 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:31:25.271 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:31:25.272 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:31:25.274 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 17:31:25.276 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 17:31:25.280 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 17:31:25.282 +08:00 [DBG] Connection id "0HNC32AQP2HJF", Request id "0HNC32AQP2HJF:00000001": started reading request body.
2025-04-24 17:31:25.283 +08:00 [DBG] Connection id "0HNC32AQP2HJF", Request id "0HNC32AQP2HJF:00000001": done reading request body.
2025-04-24 17:31:25.284 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:25.286 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:25.288 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:31:25.289 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:25.291 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:31:25.293 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 17:31:25.296 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 17:31:25.298 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 17:31:25.320 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 50.0087ms
2025-04-24 17:31:25.321 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:25.322 +08:00 [DBG] Connection id "0HNC32AQP2HJF" completed keep alive response.
2025-04-24 17:31:25.323 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 283 application/json; charset=utf-8 92.8512ms
2025-04-24 17:31:34.646 +08:00 [DBG] Connection id "0HNC32AQP2HJF" received FIN.
2025-04-24 17:31:34.649 +08:00 [DBG] Connection id "0HNC32AQP2HJF" disconnecting.
2025-04-24 17:31:34.650 +08:00 [DBG] Connection id "0HNC32AQP2HJF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:31:34.656 +08:00 [DBG] Connection id "0HNC32AQP2HJF" stopped.
2025-04-24 17:31:46.855 +08:00 [DBG] Connection id "0HNC32AQP2HJG" accepted.
2025-04-24 17:31:46.858 +08:00 [DBG] Connection id "0HNC32AQP2HJG" started.
2025-04-24 17:31:46.864 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 46
2025-04-24 17:31:46.874 +08:00 [DBG] POST requests are not supported
2025-04-24 17:31:46.878 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 17:31:46.888 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 17:31:46.890 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:46.891 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:46.892 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 17:31:46.902 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:31:46.903 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:31:46.905 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:31:46.908 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:31:46.909 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:31:46.910 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:31:46.915 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:31:46.917 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:31:46.919 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 17:31:46.922 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 17:31:46.923 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 17:31:46.924 +08:00 [DBG] Connection id "0HNC32AQP2HJG", Request id "0HNC32AQP2HJG:00000001": started reading request body.
2025-04-24 17:31:46.925 +08:00 [DBG] Connection id "0HNC32AQP2HJG", Request id "0HNC32AQP2HJG:00000001": done reading request body.
2025-04-24 17:31:46.930 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:46.932 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:46.933 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:31:46.935 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:46.938 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:31:46.940 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2025-04-24 17:31:46.941 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2025-04-24 17:31:46.942 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 17:31:46.948 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 37.9136ms
2025-04-24 17:31:46.991 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:46.992 +08:00 [DBG] Connection id "0HNC32AQP2HJG" completed keep alive response.
2025-04-24 17:31:46.995 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 283 text/json; charset=utf-8 131.0482ms
2025-04-24 17:31:54.689 +08:00 [DBG] Connection id "0HNC32AQP2HJG" received FIN.
2025-04-24 17:31:54.692 +08:00 [DBG] Connection id "0HNC32AQP2HJG" disconnecting.
2025-04-24 17:31:54.700 +08:00 [DBG] Connection id "0HNC32AQP2HJG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:31:54.714 +08:00 [DBG] Connection id "0HNC32AQP2HJG" stopped.
2025-04-24 17:31:59.484 +08:00 [DBG] Connection id "0HNC32AQP2HJH" accepted.
2025-04-24 17:31:59.488 +08:00 [DBG] Connection id "0HNC32AQP2HJH" started.
2025-04-24 17:31:59.489 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 17:31:59.492 +08:00 [DBG] POST requests are not supported
2025-04-24 17:31:59.499 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 17:31:59.502 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 17:31:59.506 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:59.519 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:59.522 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 17:31:59.524 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:31:59.534 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:31:59.535 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:31:59.537 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:31:59.538 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:31:59.539 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:31:59.541 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:31:59.546 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:31:59.548 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 17:31:59.550 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 17:31:59.552 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 17:31:59.656 +08:00 [DBG] Connection id "0HNC32AQP2HJH", Request id "0HNC32AQP2HJH:00000001": started reading request body.
2025-04-24 17:31:59.659 +08:00 [DBG] Connection id "0HNC32AQP2HJH", Request id "0HNC32AQP2HJH:00000001": done reading request body.
2025-04-24 17:31:59.662 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:59.663 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:59.665 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:31:59.666 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:31:59.683 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:31:59.688 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2025-04-24 17:31:59.689 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2025-04-24 17:31:59.690 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 17:31:59.692 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 152.1458ms
2025-04-24 17:31:59.697 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:31:59.700 +08:00 [DBG] Connection id "0HNC32AQP2HJH" completed keep alive response.
2025-04-24 17:31:59.704 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 283 text/json; charset=utf-8 214.5966ms
2025-04-24 17:32:04.703 +08:00 [DBG] Connection id "0HNC32AQP2HJH" received FIN.
2025-04-24 17:32:04.705 +08:00 [DBG] Connection id "0HNC32AQP2HJH" disconnecting.
2025-04-24 17:32:04.706 +08:00 [DBG] Connection id "0HNC32AQP2HJH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:32:04.716 +08:00 [DBG] Connection id "0HNC32AQP2HJH" stopped.
2025-04-24 17:32:58.452 +08:00 [INF] Application is shutting down...
2025-04-24 17:32:58.455 +08:00 [DBG] Hosting stopping
2025-04-24 17:32:58.472 +08:00 [DBG] Hosting stopped
2025-04-24 17:33:12.878 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 17:33:13.044 +08:00 [DBG] Hosting starting
2025-04-24 17:33:13.119 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 17:33:13.122 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 17:33:13.123 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 17:33:13.125 +08:00 [INF] Hosting environment: Development
2025-04-24 17:33:13.127 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 17:33:13.128 +08:00 [DBG] Hosting started
2025-04-24 17:33:35.409 +08:00 [DBG] Connection id "0HNC32CB0R7AF" accepted.
2025-04-24 17:33:35.412 +08:00 [DBG] Connection id "0HNC32CB0R7AF" started.
2025-04-24 17:33:35.414 +08:00 [DBG] Connection id "0HNC32CB0R7AG" accepted.
2025-04-24 17:33:35.416 +08:00 [DBG] Connection id "0HNC32CB0R7AG" started.
2025-04-24 17:33:35.474 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 17:33:35.484 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 17:33:35.633 +08:00 [DBG] Connection id "0HNC32CB0R7AF" completed keep alive response.
2025-04-24 17:33:35.636 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 167.3187ms
2025-04-24 17:33:36.919 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 17:33:37.207 +08:00 [DBG] Connection id "0HNC32CB0R7AF" completed keep alive response.
2025-04-24 17:33:37.209 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 290.0274ms
2025-04-24 17:33:44.855 +08:00 [DBG] Connection id "0HNC32CB0R7AG" received FIN.
2025-04-24 17:33:44.856 +08:00 [DBG] Connection id "0HNC32CB0R7AF" received FIN.
2025-04-24 17:33:44.863 +08:00 [DBG] Connection id "0HNC32CB0R7AF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:33:44.863 +08:00 [DBG] Connection id "0HNC32CB0R7AG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:33:44.866 +08:00 [DBG] Connection id "0HNC32CB0R7AF" disconnecting.
2025-04-24 17:33:44.867 +08:00 [DBG] Connection id "0HNC32CB0R7AG" disconnecting.
2025-04-24 17:33:44.870 +08:00 [DBG] Connection id "0HNC32CB0R7AF" stopped.
2025-04-24 17:33:44.871 +08:00 [DBG] Connection id "0HNC32CB0R7AG" stopped.
2025-04-24 17:34:32.720 +08:00 [DBG] Connection id "0HNC32CB0R7AH" accepted.
2025-04-24 17:34:32.740 +08:00 [DBG] Connection id "0HNC32CB0R7AH" started.
2025-04-24 17:34:32.743 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1?includePointsOfInterest=false - null null
2025-04-24 17:34:32.749 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:34:32.752 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 17:34:32.781 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-04-24 17:34:32.788 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-04-24 17:34:32.791 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:34:32.794 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:34:32.831 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 17:34:32.835 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:34:32.838 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:34:32.840 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:34:32.842 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:34:32.843 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:34:32.845 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:34:32.976 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-24 17:34:33.129 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:34:33.142 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-24 17:34:33.146 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-24 17:34:33.148 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:34:33.149 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:34:33.150 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-24 17:34:33.154 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-24 17:34:33.156 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:34:33.160 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-04-24 17:34:33.163 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:34:33.163 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:34:33.164 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:34:33.166 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:34:33.928 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 17:34:33.998 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2025-04-24 17:34:34.292 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: SingleQueryingEnumerable.Create<City>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            City entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                City instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(City);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (City)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                            {
                                return 
                                {
                                    City instance;
                                    instance = new City(dataReader.GetString(2));
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(City)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 17:34:34.376 +08:00 [DBG] Creating DbConnection.
2025-04-24 17:34:34.439 +08:00 [DBG] Created DbConnection. (63ms).
2025-04-24 17:34:34.446 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:34:34.488 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:34:34.493 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 17:34:34.500 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-24 17:34:34.507 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-04-24 17:34:34.515 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 17:34:34.549 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 17:34:34.582 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:34:34.610 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:34:34.616 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 55ms reading results.
2025-04-24 17:34:34.624 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:34:34.630 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-24 17:34:34.648 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:34:34.654 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 17:34:34.655 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 17:34:34.657 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 17:34:34.659 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 17:34:34.662 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2025-04-24 17:34:34.806 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1950.7804ms
2025-04-24 17:34:34.810 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:34:34.825 +08:00 [DBG] Connection id "0HNC32CB0R7AH" completed keep alive response.
2025-04-24 17:34:34.838 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 17:34:34.860 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:34:34.878 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (20ms).
2025-04-24 17:34:34.883 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1?includePointsOfInterest=false - 200 75 application/json; charset=utf-8 2140.4841ms
2025-04-24 17:34:34.938 +08:00 [DBG] Connection id "0HNC32CB0R7AH" received FIN.
2025-04-24 17:34:35.259 +08:00 [DBG] Connection id "0HNC32CB0R7AH" disconnecting.
2025-04-24 17:34:35.261 +08:00 [DBG] Connection id "0HNC32CB0R7AH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:34:35.265 +08:00 [DBG] Connection id "0HNC32CB0R7AH" stopped.
2025-04-24 17:34:42.609 +08:00 [DBG] Connection id "0HNC32CB0R7AI" accepted.
2025-04-24 17:34:42.611 +08:00 [DBG] Connection id "0HNC32CB0R7AI" started.
2025-04-24 17:34:42.613 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1?includePointsOfInterest=true - null null
2025-04-24 17:34:42.615 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:34:42.620 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-04-24 17:34:42.622 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-04-24 17:34:42.624 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:34:42.632 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:34:42.635 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 17:34:42.638 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:34:42.640 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:34:42.641 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:34:42.644 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:34:42.646 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:34:42.648 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:34:42.654 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:34:42.657 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-24 17:34:42.659 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-24 17:34:42.661 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:34:42.661 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:34:42.662 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-24 17:34:42.663 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-24 17:34:42.664 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:34:42.665 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-04-24 17:34:42.667 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:34:42.671 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:34:42.673 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:34:42.674 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:34:42.695 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 17:34:42.705 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2025-04-24 17:34:42.714 +08:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2025-04-24 17:34:42.839 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: SingleQueryingEnumerable.Create<City>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT c0.Id, c0.Description, c0.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS c0
            LEFT JOIN PointsOfInterest AS p ON c0.Id == p.CityId
            ORDER BY c0.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT c0.Id, c0.Description, c0.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS c0
            LEFT JOIN PointsOfInterest AS p ON c0.Id == p.CityId
            ORDER BY c0.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                City entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    City instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(City);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (City)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                                {
                                    return 
                                    {
                                        City instance;
                                        instance = new City(dataReader.GetString(2));
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(City)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<City, City>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (City)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: City.PointsOfInterest (ICollection<PointOfInterest>) Collection ToDependent PointOfInterest Inverse: City | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindNavigation("PointsOfInterest")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<City, ICollection<PointOfInterest>, PointOfInterest> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindNavigation("PointsOfInterest").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<City, PointOfInterest>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    PointOfInterest entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        PointOfInterest instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(PointOfInterest);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(3) ? default(object) : (object)dataReader.GetInt32(3) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (PointOfInterest)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                                    {
                                        return 
                                        {
                                            PointOfInterest instance;
                                            instance = new PointOfInterest(dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6));
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(3) ? default(int) : dataReader.GetInt32(3);
                                            instance.<CityId>k__BackingField = dataReader.IsDBNull(4) ? default(int) : dataReader.GetInt32(4);
                                            instance.<Description>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(PointOfInterest)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: PointOfInterest.City (City) ToPrincipal City Inverse: PointsOfInterest | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindNavigation("City")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<City, ICollection<PointOfInterest>, PointOfInterest> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindNavigation("PointsOfInterest").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<City>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (City)(resultContext.Values[0]) : default(City);
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 17:34:42.879 +08:00 [DBG] Creating DbConnection.
2025-04-24 17:34:42.881 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 17:34:42.886 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:34:42.891 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:34:42.894 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 17:34:42.896 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-24 17:34:42.905 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-24 17:34:42.911 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "c0"."Description", "c0"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "c0"
LEFT JOIN "PointsOfInterest" AS "p" ON "c0"."Id" = "p"."CityId"
ORDER BY "c0"."Id"
2025-04-24 17:34:42.917 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "c0"."Description", "c0"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "c0"
LEFT JOIN "PointsOfInterest" AS "p" ON "c0"."Id" = "p"."CityId"
ORDER BY "c0"."Id"
2025-04-24 17:34:42.929 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:34:42.997 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:34:43.011 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:34:43.015 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:34:43.019 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:34:43.023 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:34:43.027 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 99ms reading results.
2025-04-24 17:34:43.029 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:34:43.031 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 17:34:43.055 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:34:43.062 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 17:34:43.063 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 17:34:43.065 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 17:34:43.066 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 17:34:43.071 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2025-04-24 17:34:43.130 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 482.6607ms
2025-04-24 17:34:43.136 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:34:43.140 +08:00 [DBG] Connection id "0HNC32CB0R7AI" completed keep alive response.
2025-04-24 17:34:43.145 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 17:34:43.147 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:34:43.155 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 17:34:43.165 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1?includePointsOfInterest=true - 200 409 application/json; charset=utf-8 551.2722ms
2025-04-24 17:34:44.931 +08:00 [DBG] Connection id "0HNC32CB0R7AI" received FIN.
2025-04-24 17:34:44.932 +08:00 [DBG] Connection id "0HNC32CB0R7AI" disconnecting.
2025-04-24 17:34:44.934 +08:00 [DBG] Connection id "0HNC32CB0R7AI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:34:44.945 +08:00 [DBG] Connection id "0HNC32CB0R7AI" stopped.
2025-04-24 17:35:08.122 +08:00 [DBG] Connection id "0HNC32CB0R7AJ" accepted.
2025-04-24 17:35:08.125 +08:00 [DBG] Connection id "0HNC32CB0R7AJ" started.
2025-04-24 17:35:08.138 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/30?includePointsOfInterest=true - null null
2025-04-24 17:35:08.142 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:35:08.145 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/30'
2025-04-24 17:35:08.147 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/30'
2025-04-24 17:35:08.159 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:35:08.161 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:35:08.162 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 17:35:08.164 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:35:08.171 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:35:08.174 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:35:08.176 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:35:08.178 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:35:08.179 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:35:08.189 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:35:08.190 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-24 17:35:08.191 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-24 17:35:08.192 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:35:08.193 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:35:08.194 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-24 17:35:08.195 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-24 17:35:08.195 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:35:08.196 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-04-24 17:35:08.198 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:35:08.202 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:35:08.203 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:35:08.205 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:35:08.280 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 17:35:08.291 +08:00 [DBG] Creating DbConnection.
2025-04-24 17:35:08.292 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 17:35:08.293 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:35:08.294 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:35:08.295 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 17:35:08.296 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 17:35:08.297 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 17:35:08.298 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "c0"."Description", "c0"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "c0"
LEFT JOIN "PointsOfInterest" AS "p" ON "c0"."Id" = "p"."CityId"
ORDER BY "c0"."Id"
2025-04-24 17:35:08.305 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "c0"."Description", "c0"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "c0"
LEFT JOIN "PointsOfInterest" AS "p" ON "c0"."Id" = "p"."CityId"
ORDER BY "c0"."Id"
2025-04-24 17:35:08.308 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:35:08.310 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:35:08.312 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:35:08.313 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:35:08.320 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 12ms reading results.
2025-04-24 17:35:08.322 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:35:08.325 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 17:35:08.326 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:35:08.328 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 17:35:08.329 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 17:35:08.329 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 17:35:08.330 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 17:35:08.331 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2025-04-24 17:35:08.332 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 152.6567ms
2025-04-24 17:35:08.338 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:35:08.339 +08:00 [DBG] Connection id "0HNC32CB0R7AJ" completed keep alive response.
2025-04-24 17:35:08.340 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 17:35:08.344 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:35:08.346 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 17:35:08.358 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/30?includePointsOfInterest=true - 200 357 application/json; charset=utf-8 219.9574ms
2025-04-24 17:35:14.967 +08:00 [DBG] Connection id "0HNC32CB0R7AJ" received FIN.
2025-04-24 17:35:14.972 +08:00 [DBG] Connection id "0HNC32CB0R7AJ" disconnecting.
2025-04-24 17:35:14.974 +08:00 [DBG] Connection id "0HNC32CB0R7AJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:35:14.984 +08:00 [DBG] Connection id "0HNC32CB0R7AJ" stopped.
2025-04-24 17:35:58.750 +08:00 [DBG] Connection id "0HNC32CB0R7AK" accepted.
2025-04-24 17:35:58.752 +08:00 [DBG] Connection id "0HNC32CB0R7AK" started.
2025-04-24 17:35:58.754 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/20?includePointsOfInterest=true - null null
2025-04-24 17:35:58.756 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:35:58.759 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/20'
2025-04-24 17:35:58.773 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/20'
2025-04-24 17:35:58.780 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:35:58.784 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:35:58.787 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 17:35:58.788 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:35:58.791 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:35:58.794 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:35:58.795 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:35:58.799 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:35:58.800 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:35:58.802 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:35:58.802 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-24 17:35:58.803 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-24 17:35:58.808 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:35:58.809 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:35:58.810 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-24 17:35:58.811 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-24 17:35:58.813 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:35:58.818 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-04-24 17:35:58.820 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:35:58.821 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:35:58.822 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:35:58.823 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:35:58.826 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 17:35:58.828 +08:00 [DBG] Creating DbConnection.
2025-04-24 17:35:58.828 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 17:35:58.831 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:35:58.833 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:35:58.835 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 17:35:58.836 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 17:35:58.837 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 17:35:58.838 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "c0"."Description", "c0"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "c0"
LEFT JOIN "PointsOfInterest" AS "p" ON "c0"."Id" = "p"."CityId"
ORDER BY "c0"."Id"
2025-04-24 17:35:58.839 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "c0"."Description", "c0"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "c0"
LEFT JOIN "PointsOfInterest" AS "p" ON "c0"."Id" = "p"."CityId"
ORDER BY "c0"."Id"
2025-04-24 17:35:58.841 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:35:58.842 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:35:58.843 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:35:58.844 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:35:58.845 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2025-04-24 17:35:58.849 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:35:58.852 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 17:35:58.854 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:35:58.856 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 17:35:58.856 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 17:35:58.857 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 17:35:58.858 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 17:35:58.858 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2025-04-24 17:35:58.860 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 59.8366ms
2025-04-24 17:35:58.863 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:35:58.864 +08:00 [DBG] Connection id "0HNC32CB0R7AK" completed keep alive response.
2025-04-24 17:35:58.867 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 17:35:58.871 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:35:58.872 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 17:35:58.873 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/20?includePointsOfInterest=true - 200 376 application/json; charset=utf-8 119.6243ms
2025-04-24 17:36:00.049 +08:00 [DBG] Connection id "0HNC32CB0R7AK" received FIN.
2025-04-24 17:36:00.058 +08:00 [DBG] Connection id "0HNC32CB0R7AK" disconnecting.
2025-04-24 17:36:00.059 +08:00 [DBG] Connection id "0HNC32CB0R7AK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:36:00.062 +08:00 [DBG] Connection id "0HNC32CB0R7AK" stopped.
2025-04-24 17:36:02.336 +08:00 [DBG] Connection id "0HNC32CB0R7AL" accepted.
2025-04-24 17:36:02.338 +08:00 [DBG] Connection id "0HNC32CB0R7AL" started.
2025-04-24 17:36:02.339 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1?includePointsOfInterest=true - null null
2025-04-24 17:36:02.341 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:36:02.344 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-04-24 17:36:02.355 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-04-24 17:36:02.357 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:36:02.358 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:36:02.359 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 17:36:02.361 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:36:02.362 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:36:02.369 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:36:02.371 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:36:02.372 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:36:02.373 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:36:02.374 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:36:02.376 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-24 17:36:02.377 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-24 17:36:02.378 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:36:02.386 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:36:02.388 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-24 17:36:02.389 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-24 17:36:02.390 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:36:02.391 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-04-24 17:36:02.392 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:36:02.393 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:36:02.395 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:36:02.402 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:36:02.404 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 17:36:02.406 +08:00 [DBG] Creating DbConnection.
2025-04-24 17:36:02.407 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 17:36:02.407 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:36:02.408 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:36:02.410 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 17:36:02.411 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 17:36:02.412 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 17:36:02.421 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "c0"."Description", "c0"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "c0"
LEFT JOIN "PointsOfInterest" AS "p" ON "c0"."Id" = "p"."CityId"
ORDER BY "c0"."Id"
2025-04-24 17:36:02.423 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "c0"."Description", "c0"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "c0"
LEFT JOIN "PointsOfInterest" AS "p" ON "c0"."Id" = "p"."CityId"
ORDER BY "c0"."Id"
2025-04-24 17:36:02.424 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:36:02.427 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:36:02.428 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:36:02.436 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:36:02.437 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:36:02.439 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:36:02.440 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 16ms reading results.
2025-04-24 17:36:02.443 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:36:02.444 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 17:36:02.445 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:36:02.454 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 17:36:02.455 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 17:36:02.455 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 17:36:02.456 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 17:36:02.457 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2025-04-24 17:36:02.459 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 86.0406ms
2025-04-24 17:36:02.461 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:36:02.461 +08:00 [DBG] Connection id "0HNC32CB0R7AL" completed keep alive response.
2025-04-24 17:36:02.462 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 17:36:02.470 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:36:02.471 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 17:36:02.472 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1?includePointsOfInterest=true - 200 409 application/json; charset=utf-8 133.2315ms
2025-04-24 17:36:05.046 +08:00 [DBG] Connection id "0HNC32CB0R7AL" received FIN.
2025-04-24 17:36:05.059 +08:00 [DBG] Connection id "0HNC32CB0R7AL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:36:05.061 +08:00 [DBG] Connection id "0HNC32CB0R7AL" disconnecting.
2025-04-24 17:36:05.062 +08:00 [DBG] Connection id "0HNC32CB0R7AL" stopped.
2025-04-24 17:36:06.083 +08:00 [DBG] Connection id "0HNC32CB0R7AM" accepted.
2025-04-24 17:36:06.086 +08:00 [DBG] Connection id "0HNC32CB0R7AM" started.
2025-04-24 17:36:06.088 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2?includePointsOfInterest=true - null null
2025-04-24 17:36:06.135 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:36:06.137 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2025-04-24 17:36:06.143 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2025-04-24 17:36:06.144 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:36:06.145 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:36:06.150 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 17:36:06.152 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:36:06.153 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:36:06.154 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:36:06.156 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:36:06.158 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:36:06.159 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:36:06.160 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:36:06.161 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-24 17:36:06.166 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-24 17:36:06.172 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:36:06.175 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:36:06.176 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-24 17:36:06.177 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-24 17:36:06.178 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:36:06.182 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-04-24 17:36:06.184 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:36:06.185 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:36:06.186 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:36:06.187 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:36:06.190 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 17:36:06.192 +08:00 [DBG] Creating DbConnection.
2025-04-24 17:36:06.194 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 17:36:06.194 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:36:06.202 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:36:06.204 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 17:36:06.205 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 17:36:06.206 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 17:36:06.206 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "c0"."Description", "c0"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "c0"
LEFT JOIN "PointsOfInterest" AS "p" ON "c0"."Id" = "p"."CityId"
ORDER BY "c0"."Id"
2025-04-24 17:36:06.208 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c0"."Id", "c0"."Description", "c0"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "c0"
LEFT JOIN "PointsOfInterest" AS "p" ON "c0"."Id" = "p"."CityId"
ORDER BY "c0"."Id"
2025-04-24 17:36:06.211 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:36:06.212 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:36:06.218 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:36:06.219 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:36:06.220 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 9ms reading results.
2025-04-24 17:36:06.221 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:36:06.222 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 17:36:06.223 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:36:06.224 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 17:36:06.226 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 17:36:06.227 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 17:36:06.227 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 17:36:06.228 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2025-04-24 17:36:06.230 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 71.7388ms
2025-04-24 17:36:06.235 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:36:06.236 +08:00 [DBG] Connection id "0HNC32CB0R7AM" completed keep alive response.
2025-04-24 17:36:06.237 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 17:36:06.238 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:36:06.244 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (6ms).
2025-04-24 17:36:06.245 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2?includePointsOfInterest=true - 200 395 application/json; charset=utf-8 157.3997ms
2025-04-24 17:36:15.050 +08:00 [DBG] Connection id "0HNC32CB0R7AM" received FIN.
2025-04-24 17:36:15.052 +08:00 [DBG] Connection id "0HNC32CB0R7AM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:36:15.055 +08:00 [DBG] Connection id "0HNC32CB0R7AM" disconnecting.
2025-04-24 17:36:15.056 +08:00 [DBG] Connection id "0HNC32CB0R7AM" stopped.
2025-04-24 17:36:15.866 +08:00 [DBG] Connection id "0HNC32CB0R7AN" accepted.
2025-04-24 17:36:15.870 +08:00 [DBG] Connection id "0HNC32CB0R7AN" started.
2025-04-24 17:36:15.871 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2 - null null
2025-04-24 17:36:15.877 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:36:15.889 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2025-04-24 17:36:15.891 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2025-04-24 17:36:15.892 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:36:15.893 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:36:15.899 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 17:36:15.902 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:36:15.904 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:36:15.905 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:36:15.906 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:36:15.907 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:36:15.908 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:36:15.909 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:36:15.910 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-24 17:36:15.915 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-24 17:36:15.917 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:36:15.919 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 17:36:15.919 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-24 17:36:15.920 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-24 17:36:15.921 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:36:15.922 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2025-04-24 17:36:15.924 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:36:15.925 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:36:15.926 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:36:15.927 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 17:36:15.932 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 17:36:15.935 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 17:36:15.936 +08:00 [DBG] Creating DbConnection.
2025-04-24 17:36:15.937 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 17:36:15.938 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:36:15.939 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:36:15.939 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 17:36:15.940 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 17:36:15.942 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 17:36:15.942 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 17:36:15.944 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 17:36:15.948 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:36:15.950 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:36:15.951 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2025-04-24 17:36:15.952 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:36:15.953 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 17:36:15.954 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:36:15.956 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 17:36:15.957 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 17:36:15.957 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 17:36:15.958 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 17:36:15.958 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2025-04-24 17:36:15.960 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 51.8496ms
2025-04-24 17:36:15.965 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 17:36:15.969 +08:00 [DBG] Connection id "0HNC32CB0R7AN" completed keep alive response.
2025-04-24 17:36:15.969 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 17:36:15.972 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:36:15.973 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 17:36:15.974 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2 - 200 100 application/json; charset=utf-8 102.9634ms
2025-04-24 17:36:25.059 +08:00 [DBG] Connection id "0HNC32CB0R7AN" received FIN.
2025-04-24 17:36:25.060 +08:00 [DBG] Connection id "0HNC32CB0R7AN" disconnecting.
2025-04-24 17:36:25.062 +08:00 [DBG] Connection id "0HNC32CB0R7AN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:36:25.084 +08:00 [DBG] Connection id "0HNC32CB0R7AN" stopped.
2025-04-24 17:36:49.514 +08:00 [DBG] Connection id "0HNC32CB0R7AO" accepted.
2025-04-24 17:36:49.516 +08:00 [DBG] Connection id "0HNC32CB0R7AO" started.
2025-04-24 17:36:49.519 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 17:36:49.523 +08:00 [DBG] POST requests are not supported
2025-04-24 17:36:49.526 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 17:36:49.536 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 17:36:49.538 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:36:49.539 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:36:49.549 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 17:36:49.550 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:36:49.551 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:36:49.552 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:36:49.553 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:36:49.555 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:36:49.556 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:36:49.557 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:36:49.558 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:36:49.565 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 17:36:49.567 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 17:36:49.569 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 17:36:49.575 +08:00 [DBG] Connection id "0HNC32CB0R7AO", Request id "0HNC32CB0R7AO:00000001": started reading request body.
2025-04-24 17:36:49.581 +08:00 [DBG] Connection id "0HNC32CB0R7AO", Request id "0HNC32CB0R7AO:00000001": done reading request body.
2025-04-24 17:36:49.616 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:36:49.617 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:36:49.618 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:36:49.622 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:36:49.676 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:36:49.683 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 17:36:49.684 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 17:36:49.685 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 17:36:49.686 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 129.8532ms
2025-04-24 17:36:49.687 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:36:49.688 +08:00 [DBG] Connection id "0HNC32CB0R7AO" completed keep alive response.
2025-04-24 17:36:49.689 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 170.5082ms
2025-04-24 17:36:55.095 +08:00 [DBG] Connection id "0HNC32CB0R7AO" received FIN.
2025-04-24 17:36:55.098 +08:00 [DBG] Connection id "0HNC32CB0R7AO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:36:55.100 +08:00 [DBG] Connection id "0HNC32CB0R7AO" disconnecting.
2025-04-24 17:36:55.102 +08:00 [DBG] Connection id "0HNC32CB0R7AO" stopped.
2025-04-24 17:56:36.278 +08:00 [INF] Application is shutting down...
2025-04-24 17:56:36.281 +08:00 [DBG] Hosting stopping
2025-04-24 17:56:36.318 +08:00 [DBG] Hosting stopped
2025-04-24 17:56:54.844 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 17:56:55.023 +08:00 [DBG] Hosting starting
2025-04-24 17:56:55.059 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 17:56:55.082 +08:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2025-04-24 17:56:55.083 +08:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2025-04-24 17:56:55.088 +08:00 [INF] Creating key {921e173d-5e38-48fb-a73b-0d9c13e74309} with creation date 2025-04-24 09:56:55Z, activation date 2025-04-24 09:56:55Z, and expiration date 2025-07-23 09:56:55Z.
2025-04-24 17:56:55.117 +08:00 [DBG] Descriptor deserializer type for key {921e173d-5e38-48fb-a73b-0d9c13e74309} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2025-04-24 17:56:55.123 +08:00 [DBG] No key escrow sink found. Not writing key {921e173d-5e38-48fb-a73b-0d9c13e74309} to escrow.
2025-04-24 17:56:55.136 +08:00 [DBG] Encrypting to Windows DPAPI for current user account (AISURU\aisur).
2025-04-24 17:56:55.155 +08:00 [INF] Writing data to file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 17:56:55.160 +08:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2025-04-24 17:56:55.169 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 17:56:55.235 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 17:56:55.242 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 17:56:55.249 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 17:56:55.252 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 17:56:55.254 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 17:56:55.266 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 17:56:55.268 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 17:56:55.272 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 17:56:55.274 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 17:56:55.370 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 17:56:55.372 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 17:56:55.374 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 17:56:55.377 +08:00 [INF] Hosting environment: Development
2025-04-24 17:56:55.378 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 17:56:55.379 +08:00 [DBG] Hosting started
2025-04-24 17:57:55.663 +08:00 [DBG] Connection id "0HNC32PU6TBBJ" received FIN.
2025-04-24 17:57:55.688 +08:00 [DBG] Connection id "0HNC32PU6TBBJ" accepted.
2025-04-24 17:57:55.698 +08:00 [DBG] Connection id "0HNC32PU6TBBJ" started.
2025-04-24 17:57:55.711 +08:00 [DBG] Connection id "0HNC32PU6TBBK" accepted.
2025-04-24 17:57:55.787 +08:00 [DBG] Connection id "0HNC32PU6TBBK" started.
2025-04-24 17:57:55.783 +08:00 [DBG] Connection id "0HNC32PU6TBBJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:57:55.801 +08:00 [DBG] Connection id "0HNC32PU6TBBJ" disconnecting.
2025-04-24 17:57:55.968 +08:00 [DBG] Connection id "0HNC32PU6TBBJ" stopped.
2025-04-24 17:57:56.054 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 17:57:56.218 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 17:57:56.653 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:57:57.315 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 17:57:57.934 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 17:57:58.054 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 17:57:58.068 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 17:57:58.297 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 17:57:58.303 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 17:57:58.314 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 17:57:58.321 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 17:57:58.332 +08:00 [DBG] Connection id "0HNC32PU6TBBK" completed keep alive response.
2025-04-24 17:57:58.337 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 2300.1516ms
2025-04-24 17:58:26.633 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 17:58:26.649 +08:00 [DBG] POST requests are not supported
2025-04-24 17:58:26.651 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 17:58:26.653 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 17:58:26.670 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:58:26.882 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 17:58:26.934 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:58:27.049 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 17:58:27.109 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:58:27.131 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:58:27.147 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:58:27.149 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:58:27.150 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:58:27.164 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:58:27.169 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 17:58:27.193 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:58:27.199 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 17:58:27.212 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 17:58:27.220 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 17:58:27.261 +08:00 [DBG] Connection id "0HNC32PU6TBBK", Request id "0HNC32PU6TBBK:00000002": started reading request body.
2025-04-24 17:58:27.264 +08:00 [DBG] Connection id "0HNC32PU6TBBK", Request id "0HNC32PU6TBBK:00000002": done reading request body.
2025-04-24 17:58:27.501 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:58:27.506 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:58:27.514 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 17:58:27.547 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 17:58:27.675 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:58:27.700 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 17:58:27.702 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 17:58:27.720 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 17:58:27.736 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 17:58:27.751 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 17:58:27.802 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 616.2295ms
2025-04-24 17:58:27.844 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 17:58:27.851 +08:00 [DBG] Connection id "0HNC32PU6TBBK" completed keep alive response.
2025-04-24 17:58:27.878 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 1244.1523ms
2025-04-24 17:59:08.798 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 17:59:08.809 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:59:08.817 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 17:59:08.834 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 17:59:08.843 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 17:59:08.971 +08:00 [DBG] Successfully validated the token.
2025-04-24 17:59:08.973 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 17:59:08.979 +08:00 [DBG] Authorization was successful.
2025-04-24 17:59:08.981 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 17:59:09.011 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 17:59:09.013 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 17:59:09.014 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 17:59:09.015 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 17:59:09.017 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 17:59:09.022 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 17:59:09.027 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:59:09.281 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-24 17:59:09.491 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 17:59:09.493 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 17:59:09.494 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 17:59:09.496 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 17:59:09.497 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 17:59:09.499 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 17:59:09.500 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 17:59:09.501 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 17:59:09.505 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 17:59:09.508 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 17:59:09.515 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 17:59:09.516 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 17:59:09.517 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 17:59:09.523 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 17:59:09.525 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 17:59:09.528 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 17:59:09.532 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-24 17:59:09.534 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 17:59:09.543 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 17:59:09.545 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 17:59:09.546 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 17:59:09.548 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 17:59:09.549 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 17:59:09.550 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-24 17:59:09.558 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-24 17:59:09.560 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 17:59:09.562 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 17:59:09.563 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 17:59:09.564 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 17:59:10.449 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 17:59:10.492 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-24 17:59:10.834 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 17:59:10.884 +08:00 [DBG] Creating DbConnection.
2025-04-24 17:59:10.913 +08:00 [DBG] Created DbConnection. (27ms).
2025-04-24 17:59:10.917 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:59:10.948 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:59:10.963 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 17:59:10.976 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-24 17:59:10.979 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-04-24 17:59:10.993 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 17:59:11.026 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 17:59:11.049 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:59:11.063 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 26ms reading results.
2025-04-24 17:59:11.067 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:59:11.079 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (11ms).
2025-04-24 17:59:11.098 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-24 17:59:11.190 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 17:59:11.210 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:59:11.212 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:59:11.214 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 17:59:11.217 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-24 17:59:11.228 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-04-24 17:59:11.234 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 17:59:11.245 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 17:59:11.315 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:59:11.349 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:59:11.350 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:59:11.360 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:59:11.362 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:59:11.363 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:59:11.365 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:59:11.366 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:59:11.367 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:59:11.373 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 17:59:11.376 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:59:11.378 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 129ms reading results.
2025-04-24 17:59:11.381 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 17:59:11.400 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (19ms).
2025-04-24 17:59:11.555 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 17:59:11.559 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 17:59:11.561 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 17:59:11.563 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 17:59:11.565 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 17:59:11.580 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 17:59:11.778 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2751.6638ms
2025-04-24 17:59:11.862 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 17:59:11.863 +08:00 [DBG] Connection id "0HNC32PU6TBBK" completed keep alive response.
2025-04-24 17:59:11.867 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 17:59:11.900 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 17:59:11.933 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (39ms).
2025-04-24 17:59:11.943 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 3144.7866ms
2025-04-24 17:59:20.241 +08:00 [DBG] Connection id "0HNC32PU6TBBL" accepted.
2025-04-24 17:59:20.267 +08:00 [DBG] Connection id "0HNC32PU6TBBM" accepted.
2025-04-24 17:59:20.278 +08:00 [DBG] Connection id "0HNC32PU6TBBL" started.
2025-04-24 17:59:20.284 +08:00 [DBG] Connection id "0HNC32PU6TBBM" started.
2025-04-24 17:59:20.297 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 17:59:20.437 +08:00 [DBG] Connection id "0HNC32PU6TBBM" completed keep alive response.
2025-04-24 17:59:20.439 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 141.2697ms
2025-04-24 17:59:22.059 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 17:59:22.374 +08:00 [DBG] Connection id "0HNC32PU6TBBM" completed keep alive response.
2025-04-24 17:59:22.375 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 315.7517ms
2025-04-24 17:59:27.120 +08:00 [DBG] Connection id "0HNC32PU6TBBL" received FIN.
2025-04-24 17:59:27.121 +08:00 [DBG] Connection id "0HNC32PU6TBBM" received FIN.
2025-04-24 17:59:27.125 +08:00 [DBG] Connection id "0HNC32PU6TBBL" disconnecting.
2025-04-24 17:59:27.125 +08:00 [DBG] Connection id "0HNC32PU6TBBM" disconnecting.
2025-04-24 17:59:27.127 +08:00 [DBG] Connection id "0HNC32PU6TBBL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:59:27.133 +08:00 [DBG] Connection id "0HNC32PU6TBBM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:59:27.147 +08:00 [DBG] Connection id "0HNC32PU6TBBL" stopped.
2025-04-24 17:59:27.154 +08:00 [DBG] Connection id "0HNC32PU6TBBM" stopped.
2025-04-24 17:59:33.560 +08:00 [DBG] Connection id "0HNC32PU6TBBN" accepted.
2025-04-24 17:59:33.563 +08:00 [DBG] Connection id "0HNC32PU6TBBN" started.
2025-04-24 17:59:33.566 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 17:59:33.589 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:59:33.592 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 17:59:33.594 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 17:59:33.596 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 17:59:33.606 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 17:59:33.614 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 17:59:33.628 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 17:59:33.630 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 17:59:33.639 +08:00 [DBG] Connection id "0HNC32PU6TBBN" completed keep alive response.
2025-04-24 17:59:33.663 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 97.1401ms
2025-04-24 17:59:37.124 +08:00 [DBG] Connection id "0HNC32PU6TBBN" received FIN.
2025-04-24 17:59:37.128 +08:00 [DBG] Connection id "0HNC32PU6TBBN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:59:37.132 +08:00 [DBG] Connection id "0HNC32PU6TBBN" disconnecting.
2025-04-24 17:59:37.135 +08:00 [DBG] Connection id "0HNC32PU6TBBN" stopped.
2025-04-24 17:59:38.666 +08:00 [DBG] Connection id "0HNC32PU6TBBO" accepted.
2025-04-24 17:59:38.668 +08:00 [DBG] Connection id "0HNC32PU6TBBO" started.
2025-04-24 17:59:38.673 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 17:59:38.694 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:59:38.696 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 17:59:38.698 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 17:59:38.711 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 17:59:38.716 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 17:59:38.724 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 17:59:38.726 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 17:59:38.727 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 17:59:38.729 +08:00 [DBG] Connection id "0HNC32PU6TBBO" completed keep alive response.
2025-04-24 17:59:38.776 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 103.1585ms
2025-04-24 17:59:47.128 +08:00 [DBG] Connection id "0HNC32PU6TBBO" received FIN.
2025-04-24 17:59:47.130 +08:00 [DBG] Connection id "0HNC32PU6TBBO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:59:47.136 +08:00 [DBG] Connection id "0HNC32PU6TBBO" disconnecting.
2025-04-24 17:59:47.140 +08:00 [DBG] Connection id "0HNC32PU6TBBO" stopped.
2025-04-24 17:59:50.408 +08:00 [DBG] Connection id "0HNC32PU6TBBP" accepted.
2025-04-24 17:59:50.410 +08:00 [DBG] Connection id "0HNC32PU6TBBP" started.
2025-04-24 17:59:50.411 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-24 17:59:50.414 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 17:59:50.419 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-24 17:59:50.423 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-24 17:59:50.426 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 17:59:50.427 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 17:59:50.440 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 17:59:50.458 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 17:59:50.460 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 17:59:50.461 +08:00 [DBG] Connection id "0HNC32PU6TBBP" completed keep alive response.
2025-04-24 17:59:50.463 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 401 0 null 52.5443ms
2025-04-24 17:59:57.136 +08:00 [DBG] Connection id "0HNC32PU6TBBP" received FIN.
2025-04-24 17:59:57.139 +08:00 [DBG] Connection id "0HNC32PU6TBBP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 17:59:57.143 +08:00 [DBG] Connection id "0HNC32PU6TBBP" disconnecting.
2025-04-24 17:59:57.146 +08:00 [DBG] Connection id "0HNC32PU6TBBP" stopped.
2025-04-24 18:00:05.347 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1 - null null
2025-04-24 18:00:05.350 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:00:05.355 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-04-24 18:00:05.359 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-04-24 18:00:05.362 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 18:00:05.365 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:00:05.372 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:00:05.378 +08:00 [DBG] Authorization was successful.
2025-04-24 18:00:05.380 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 18:00:05.437 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:00:05.446 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:00:05.454 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:00:05.457 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:00:05.460 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:00:05.461 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:00:05.463 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:00:05.473 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:00:05.475 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-24 18:00:05.476 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-24 18:00:05.492 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 18:00:05.493 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 18:00:05.494 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-24 18:00:05.496 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-24 18:00:05.503 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 18:00:05.505 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2025-04-24 18:00:05.507 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 18:00:05.526 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 18:00:05.545 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 18:00:05.811 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 18:00:05.815 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 18:00:05.954 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:00:05.964 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2025-04-24 18:00:06.009 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: SingleQueryingEnumerable.Create<City>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            City entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                City instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(City);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (City)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                            {
                                return 
                                {
                                    City instance;
                                    instance = new City(dataReader.GetString(2));
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(City)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 18:00:06.023 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:00:06.024 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 18:00:06.025 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:00:06.027 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:00:06.028 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:00:06.029 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:00:06.030 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:00:06.031 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 18:00:06.038 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 18:00:06.040 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:00:06.041 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:00:06.043 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-24 18:00:06.044 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:00:06.045 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:00:06.048 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:00:06.061 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 18:00:06.061 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 18:00:06.062 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 18:00:06.063 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:00:06.064 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2025-04-24 18:00:06.069 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 606.5563ms
2025-04-24 18:00:06.075 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 18:00:06.079 +08:00 [DBG] Connection id "0HNC32PU6TBBK" completed keep alive response.
2025-04-24 18:00:06.080 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:00:06.081 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:00:06.087 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (6ms).
2025-04-24 18:00:06.090 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1 - 200 75 application/json; charset=utf-8 742.5392ms
2025-04-24 18:00:12.092 +08:00 [DBG] Connection id "0HNC32PU6TBBQ" accepted.
2025-04-24 18:00:12.094 +08:00 [DBG] Connection id "0HNC32PU6TBBQ" started.
2025-04-24 18:00:12.096 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-24 18:00:12.154 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:00:12.157 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-24 18:00:12.164 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-24 18:00:12.171 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:00:12.176 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:00:12.177 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:00:12.179 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:00:12.180 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:00:12.184 +08:00 [DBG] Connection id "0HNC32PU6TBBQ" completed keep alive response.
2025-04-24 18:00:12.192 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 401 0 null 95.47ms
2025-04-24 18:00:17.162 +08:00 [DBG] Connection id "0HNC32PU6TBBQ" received FIN.
2025-04-24 18:00:17.178 +08:00 [DBG] Connection id "0HNC32PU6TBBQ" disconnecting.
2025-04-24 18:00:17.210 +08:00 [DBG] Connection id "0HNC32PU6TBBQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:00:17.223 +08:00 [DBG] Connection id "0HNC32PU6TBBQ" stopped.
2025-04-24 18:00:32.757 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 18:00:32.772 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:00:32.778 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:00:32.793 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:00:32.796 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:00:32.808 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:00:32.811 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:00:32.859 +08:00 [DBG] Authorization was successful.
2025-04-24 18:00:32.860 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:00:32.862 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:00:32.874 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:00:32.875 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:00:32.877 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:00:32.879 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:00:32.892 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:00:32.897 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:00:32.927 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:00:32.928 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:00:32.930 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:00:32.941 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:00:32.942 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:00:32.943 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:00:32.944 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:00:32.945 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:00:32.946 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:00:32.955 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:00:32.957 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:00:32.958 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:00:32.959 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:00:32.960 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:00:32.961 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:00:32.962 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:00:32.963 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-24 18:00:32.973 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:00:32.974 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:00:32.975 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:00:32.976 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:00:32.977 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:00:32.978 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:00:32.979 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-24 18:00:32.990 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:00:33.013 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:00:33.042 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:00:33.043 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:00:33.044 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:00:33.205 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:00:33.208 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:00:33.209 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:00:33.210 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:00:33.212 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:00:33.225 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:00:33.226 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:00:33.228 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:00:33.229 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:00:33.242 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:00:33.243 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:00:33.245 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:00:33.260 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:00:33.263 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 18:00:33.293 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:00:33.294 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:00:33.301 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:00:33.313 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-04-24 18:00:33.325 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2025-04-24 18:00:33.326 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:00:33.327 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:00:33.329 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:00:33.342 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:00:33.343 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:00:33.345 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:00:33.345 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:00:33.347 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:00:33.357 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:00:33.359 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:00:33.360 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:00:33.362 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:00:33.375 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:00:33.377 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 47ms reading results.
2025-04-24 18:00:33.380 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:00:33.393 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (13ms).
2025-04-24 18:00:33.423 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:00:33.461 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 18:00:33.462 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 18:00:33.463 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 18:00:33.475 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:00:33.477 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:00:33.480 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 583.0703ms
2025-04-24 18:00:33.563 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:00:33.573 +08:00 [DBG] Connection id "0HNC32PU6TBBK" completed keep alive response.
2025-04-24 18:00:33.575 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:00:33.579 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:00:33.588 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (9ms).
2025-04-24 18:00:33.592 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 835.1746ms
2025-04-24 18:02:43.904 +08:00 [DBG] Connection id "0HNC32PU6TBBK" disconnecting.
2025-04-24 18:02:43.906 +08:00 [DBG] Connection id "0HNC32PU6TBBK" stopped.
2025-04-24 18:02:43.909 +08:00 [DBG] Connection id "0HNC32PU6TBBK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:03:46.362 +08:00 [DBG] Connection id "0HNC32PU6TBBR" accepted.
2025-04-24 18:03:46.364 +08:00 [DBG] Connection id "0HNC32PU6TBBR" started.
2025-04-24 18:03:46.366 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - null null
2025-04-24 18:03:46.384 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:03:46.385 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:03:46.392 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:03:46.395 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:03:46.396 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:03:46.398 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:03:46.400 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:03:46.415 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:03:46.417 +08:00 [DBG] Connection id "0HNC32PU6TBBR" completed keep alive response.
2025-04-24 18:03:46.430 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - 401 0 null 63.9934ms
2025-04-24 18:03:47.430 +08:00 [DBG] Connection id "0HNC32PU6TBBR" received FIN.
2025-04-24 18:03:47.433 +08:00 [DBG] Connection id "0HNC32PU6TBBR" disconnecting.
2025-04-24 18:03:47.435 +08:00 [DBG] Connection id "0HNC32PU6TBBR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:03:47.449 +08:00 [DBG] Connection id "0HNC32PU6TBBR" stopped.
2025-04-24 18:03:50.812 +08:00 [DBG] Connection id "0HNC32PU6TBBS" accepted.
2025-04-24 18:03:50.816 +08:00 [DBG] Connection id "0HNC32PU6TBBS" started.
2025-04-24 18:03:50.818 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - null null
2025-04-24 18:03:50.836 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:03:50.845 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:03:50.846 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:03:50.848 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:03:50.850 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:03:50.855 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:03:50.859 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:03:50.861 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:03:50.862 +08:00 [DBG] Connection id "0HNC32PU6TBBS" completed keep alive response.
2025-04-24 18:03:50.865 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - 401 0 null 46.1576ms
2025-04-24 18:03:57.451 +08:00 [DBG] Connection id "0HNC32PU6TBBS" received FIN.
2025-04-24 18:03:57.454 +08:00 [DBG] Connection id "0HNC32PU6TBBS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:03:57.459 +08:00 [DBG] Connection id "0HNC32PU6TBBS" disconnecting.
2025-04-24 18:03:57.462 +08:00 [DBG] Connection id "0HNC32PU6TBBS" stopped.
2025-04-24 18:04:08.626 +08:00 [DBG] Connection id "0HNC32PU6TBBT" accepted.
2025-04-24 18:04:08.630 +08:00 [DBG] Connection id "0HNC32PU6TBBT" started.
2025-04-24 18:04:08.632 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&searchQuery=the&pageNumber=1&pageSize=10 - null null
2025-04-24 18:04:08.640 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:04:08.642 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:04:08.647 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:04:08.657 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:04:08.722 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:04:08.723 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:04:08.726 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:04:08.727 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:04:08.728 +08:00 [DBG] Connection id "0HNC32PU6TBBT" completed keep alive response.
2025-04-24 18:04:08.732 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&searchQuery=the&pageNumber=1&pageSize=10 - 401 0 null 99.4048ms
2025-04-24 18:04:17.482 +08:00 [DBG] Connection id "0HNC32PU6TBBT" received FIN.
2025-04-24 18:04:17.485 +08:00 [DBG] Connection id "0HNC32PU6TBBT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:04:17.490 +08:00 [DBG] Connection id "0HNC32PU6TBBT" disconnecting.
2025-04-24 18:04:17.492 +08:00 [DBG] Connection id "0HNC32PU6TBBT" stopped.
2025-04-24 18:04:29.032 +08:00 [DBG] Connection id "0HNC32PU6TBBU" accepted.
2025-04-24 18:04:29.036 +08:00 [DBG] Connection id "0HNC32PU6TBBU" started.
2025-04-24 18:04:29.039 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=1&pageSize=10 - null null
2025-04-24 18:04:29.054 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:04:29.061 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:04:29.063 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:04:29.112 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:04:29.114 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:04:29.115 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:04:29.117 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:04:29.121 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:04:29.123 +08:00 [DBG] Connection id "0HNC32PU6TBBU" completed keep alive response.
2025-04-24 18:04:29.126 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=1&pageSize=10 - 401 0 null 87.2373ms
2025-04-24 18:04:37.503 +08:00 [DBG] Connection id "0HNC32PU6TBBU" received FIN.
2025-04-24 18:04:37.508 +08:00 [DBG] Connection id "0HNC32PU6TBBU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:04:37.516 +08:00 [DBG] Connection id "0HNC32PU6TBBU" disconnecting.
2025-04-24 18:04:37.629 +08:00 [DBG] Connection id "0HNC32PU6TBBU" stopped.
2025-04-24 18:05:01.225 +08:00 [DBG] Connection id "0HNC32PU6TBBV" accepted.
2025-04-24 18:05:01.239 +08:00 [DBG] Connection id "0HNC32PU6TBBV" started.
2025-04-24 18:05:01.271 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 108
2025-04-24 18:05:01.275 +08:00 [DBG] POST requests are not supported
2025-04-24 18:05:01.277 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 18:05:01.280 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 18:05:01.287 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:05:01.289 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:05:01.292 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:05:01.294 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 18:05:01.303 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:05:01.305 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:05:01.308 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:05:01.323 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:05:01.325 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:05:01.327 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:05:01.329 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:05:01.331 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:05:01.338 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 18:05:01.340 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:05:01.341 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:05:01.343 +08:00 [DBG] Connection id "0HNC32PU6TBBV", Request id "0HNC32PU6TBBV:00000001": started reading request body.
2025-04-24 18:05:01.344 +08:00 [DBG] Connection id "0HNC32PU6TBBV", Request id "0HNC32PU6TBBV:00000001": done reading request body.
2025-04-24 18:05:01.345 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:05:01.346 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:05:01.348 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:05:01.351 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:05:01.353 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:05:01.357 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:05:01.360 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:05:01.362 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 18:05:01.363 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 36.3966ms
2025-04-24 18:05:01.386 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:05:01.391 +08:00 [DBG] Connection id "0HNC32PU6TBBV" completed keep alive response.
2025-04-24 18:05:01.393 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 289 application/json; charset=utf-8 121.8308ms
2025-04-24 18:05:07.551 +08:00 [DBG] Connection id "0HNC32PU6TBBV" received FIN.
2025-04-24 18:05:07.554 +08:00 [DBG] Connection id "0HNC32PU6TBBV" disconnecting.
2025-04-24 18:05:07.587 +08:00 [DBG] Connection id "0HNC32PU6TBBV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:05:07.605 +08:00 [DBG] Connection id "0HNC32PU6TBBV" stopped.
2025-04-24 18:05:10.938 +08:00 [DBG] Connection id "0HNC32PU6TBC0" accepted.
2025-04-24 18:05:10.943 +08:00 [DBG] Connection id "0HNC32PU6TBC0" started.
2025-04-24 18:05:10.946 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=1&pageSize=10 - null null
2025-04-24 18:05:10.953 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:05:10.955 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:05:10.958 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:05:10.961 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:05:10.963 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:05:10.965 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:05:10.975 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:05:10.976 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:05:10.978 +08:00 [DBG] Connection id "0HNC32PU6TBC0" completed keep alive response.
2025-04-24 18:05:10.984 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=1&pageSize=10 - 401 0 null 37.9112ms
2025-04-24 18:05:17.560 +08:00 [DBG] Connection id "0HNC32PU6TBC0" received FIN.
2025-04-24 18:05:17.642 +08:00 [DBG] Connection id "0HNC32PU6TBC0" disconnecting.
2025-04-24 18:05:17.646 +08:00 [DBG] Connection id "0HNC32PU6TBC0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:05:17.672 +08:00 [DBG] Connection id "0HNC32PU6TBC0" stopped.
2025-04-24 18:10:08.463 +08:00 [DBG] Connection id "0HNC32PU6TBC1" accepted.
2025-04-24 18:10:08.467 +08:00 [DBG] Connection id "0HNC32PU6TBC1" started.
2025-04-24 18:10:08.470 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 108
2025-04-24 18:10:08.509 +08:00 [DBG] POST requests are not supported
2025-04-24 18:10:08.513 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 18:10:08.515 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 18:10:08.520 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:10:08.521 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:10:08.528 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:10:08.530 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 18:10:08.577 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:10:08.581 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:10:08.588 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:10:08.591 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:10:08.593 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:10:08.594 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:10:08.598 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:10:08.607 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:10:08.609 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 18:10:08.612 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:10:08.614 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:10:08.622 +08:00 [DBG] Connection id "0HNC32PU6TBC1", Request id "0HNC32PU6TBC1:00000001": started reading request body.
2025-04-24 18:10:08.623 +08:00 [DBG] Connection id "0HNC32PU6TBC1", Request id "0HNC32PU6TBC1:00000001": done reading request body.
2025-04-24 18:10:08.624 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:10:08.628 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:10:08.629 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:10:08.630 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:10:08.637 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:10:08.643 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 18:10:08.644 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 18:10:08.646 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 18:10:08.647 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 53.3596ms
2025-04-24 18:10:08.658 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:10:08.660 +08:00 [DBG] Connection id "0HNC32PU6TBC1" completed keep alive response.
2025-04-24 18:10:08.661 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 190.9564ms
2025-04-24 18:10:18.047 +08:00 [DBG] Connection id "0HNC32PU6TBC1" received FIN.
2025-04-24 18:10:18.053 +08:00 [DBG] Connection id "0HNC32PU6TBC1" disconnecting.
2025-04-24 18:10:18.056 +08:00 [DBG] Connection id "0HNC32PU6TBC1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:10:18.063 +08:00 [DBG] Connection id "0HNC32PU6TBC1" stopped.
2025-04-24 18:11:05.406 +08:00 [INF] Application is shutting down...
2025-04-24 18:11:05.416 +08:00 [DBG] Hosting stopping
2025-04-24 18:11:05.444 +08:00 [DBG] Hosting stopped
2025-04-24 18:11:55.280 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:11:55.696 +08:00 [DBG] Hosting starting
2025-04-24 18:11:55.735 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:11:55.762 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:11:55.823 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:11:55.849 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:11:55.857 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:11:55.865 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:11:55.870 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:11:55.888 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:11:55.892 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:11:55.900 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:11:55.902 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:11:56.014 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:11:56.016 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:11:56.017 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:11:56.018 +08:00 [INF] Hosting environment: Development
2025-04-24 18:11:56.020 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:11:56.021 +08:00 [DBG] Hosting started
2025-04-24 18:12:00.141 +08:00 [DBG] Connection id "0HNC331PSFFBL" accepted.
2025-04-24 18:12:00.146 +08:00 [DBG] Connection id "0HNC331PSFFBL" started.
2025-04-24 18:12:00.152 +08:00 [DBG] Connection id "0HNC331PSFFBM" accepted.
2025-04-24 18:12:00.154 +08:00 [DBG] Connection id "0HNC331PSFFBM" started.
2025-04-24 18:12:00.217 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:12:00.222 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:12:00.274 +08:00 [DBG] The request path /swagger/index.html does not match an existing file
2025-04-24 18:12:00.279 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 18:12:00.320 +08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-04-24 18:12:00.322 +08:00 [DBG] Request did not match any endpoints
2025-04-24 18:12:00.388 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:12:00.397 +08:00 [DBG] Connection id "0HNC331PSFFBM" completed keep alive response.
2025-04-24 18:12:00.401 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 404 0 null 187.1403ms
2025-04-24 18:12:00.423 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5212/swagger/index.html, Response status code: 404
2025-04-24 18:12:03.204 +08:00 [DBG] Connection id "0HNC331PSFFBM" received FIN.
2025-04-24 18:12:03.204 +08:00 [DBG] Connection id "0HNC331PSFFBL" received FIN.
2025-04-24 18:12:03.211 +08:00 [DBG] Connection id "0HNC331PSFFBM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:12:03.211 +08:00 [DBG] Connection id "0HNC331PSFFBL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:12:03.218 +08:00 [DBG] Connection id "0HNC331PSFFBM" disconnecting.
2025-04-24 18:12:03.219 +08:00 [DBG] Connection id "0HNC331PSFFBL" disconnecting.
2025-04-24 18:12:03.223 +08:00 [DBG] Connection id "0HNC331PSFFBM" stopped.
2025-04-24 18:12:03.224 +08:00 [DBG] Connection id "0HNC331PSFFBL" stopped.
2025-04-24 18:12:03.519 +08:00 [DBG] Connection id "0HNC331PSFFBN" accepted.
2025-04-24 18:12:03.536 +08:00 [DBG] Connection id "0HNC331PSFFBO" accepted.
2025-04-24 18:12:03.540 +08:00 [DBG] Connection id "0HNC331PSFFBO" started.
2025-04-24 18:12:03.537 +08:00 [DBG] Connection id "0HNC331PSFFBN" started.
2025-04-24 18:12:03.549 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:12:03.564 +08:00 [DBG] The request path /swagger/index.html does not match an existing file
2025-04-24 18:12:03.570 +08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-04-24 18:12:03.571 +08:00 [DBG] Request did not match any endpoints
2025-04-24 18:12:03.574 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:12:03.585 +08:00 [DBG] Connection id "0HNC331PSFFBO" completed keep alive response.
2025-04-24 18:12:03.589 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 404 0 null 39.1919ms
2025-04-24 18:12:03.601 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5212/swagger/index.html, Response status code: 404
2025-04-24 18:12:09.539 +08:00 [INF] Application is shutting down...
2025-04-24 18:12:09.541 +08:00 [DBG] Hosting stopping
2025-04-24 18:12:09.554 +08:00 [DBG] Connection id "0HNC331PSFFBN" disconnecting.
2025-04-24 18:12:09.554 +08:00 [DBG] Connection id "0HNC331PSFFBO" disconnecting.
2025-04-24 18:12:09.556 +08:00 [DBG] Connection id "0HNC331PSFFBN" stopped.
2025-04-24 18:12:09.557 +08:00 [DBG] Connection id "0HNC331PSFFBO" stopped.
2025-04-24 18:12:09.559 +08:00 [DBG] Connection id "0HNC331PSFFBN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:12:09.561 +08:00 [DBG] Connection id "0HNC331PSFFBO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:12:09.573 +08:00 [DBG] Hosting stopped
2025-04-24 18:12:20.767 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:12:20.969 +08:00 [DBG] Hosting starting
2025-04-24 18:12:20.990 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:12:21.031 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:12:21.057 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:12:21.092 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:12:21.105 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:12:21.153 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:12:21.163 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:12:21.172 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:12:21.177 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:12:21.183 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:12:21.189 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:12:21.268 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:12:21.270 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:12:21.272 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:12:21.273 +08:00 [INF] Hosting environment: Development
2025-04-24 18:12:21.276 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:12:21.277 +08:00 [DBG] Hosting started
2025-04-24 18:12:26.081 +08:00 [DBG] Connection id "0HNC3321JRR5H" accepted.
2025-04-24 18:12:26.085 +08:00 [DBG] Connection id "0HNC3321JRR5H" started.
2025-04-24 18:12:26.087 +08:00 [DBG] Connection id "0HNC3321JRR5I" accepted.
2025-04-24 18:12:26.119 +08:00 [DBG] Connection id "0HNC3321JRR5I" started.
2025-04-24 18:12:26.199 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:12:26.216 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:12:26.280 +08:00 [DBG] The request path /swagger/index.html does not match an existing file
2025-04-24 18:12:26.283 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 18:12:26.321 +08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-04-24 18:12:26.335 +08:00 [DBG] Request did not match any endpoints
2025-04-24 18:12:26.424 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:12:26.432 +08:00 [DBG] Connection id "0HNC3321JRR5H" completed keep alive response.
2025-04-24 18:12:26.435 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 404 0 null 252.1331ms
2025-04-24 18:12:26.504 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5212/swagger/index.html, Response status code: 404
2025-04-24 18:12:33.249 +08:00 [DBG] Connection id "0HNC3321JRR5I" received FIN.
2025-04-24 18:12:33.249 +08:00 [DBG] Connection id "0HNC3321JRR5H" received FIN.
2025-04-24 18:12:33.255 +08:00 [DBG] Connection id "0HNC3321JRR5I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:12:33.255 +08:00 [DBG] Connection id "0HNC3321JRR5H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:12:33.260 +08:00 [DBG] Connection id "0HNC3321JRR5I" disconnecting.
2025-04-24 18:12:33.262 +08:00 [DBG] Connection id "0HNC3321JRR5H" disconnecting.
2025-04-24 18:12:33.267 +08:00 [DBG] Connection id "0HNC3321JRR5I" stopped.
2025-04-24 18:12:33.270 +08:00 [DBG] Connection id "0HNC3321JRR5H" stopped.
2025-04-24 18:12:42.027 +08:00 [INF] Application is shutting down...
2025-04-24 18:12:42.030 +08:00 [DBG] Hosting stopping
2025-04-24 18:12:42.048 +08:00 [DBG] Hosting stopped
2025-04-24 18:12:59.392 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:12:59.587 +08:00 [DBG] Hosting starting
2025-04-24 18:12:59.610 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:12:59.632 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:12:59.650 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:12:59.662 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:12:59.670 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:12:59.674 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:12:59.678 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:12:59.686 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:12:59.688 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:12:59.690 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:12:59.691 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:12:59.720 +08:00 [DBG] Middleware loaded
2025-04-24 18:12:59.723 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-24 18:12:59.725 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-24 18:12:59.782 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-24 18:12:59.800 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:12:59.801 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:12:59.802 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-24 18:12:59.802 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:12:59.802 +08:00 [INF] Hosting environment: Development
2025-04-24 18:12:59.802 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:12:59.802 +08:00 [DBG] Hosting started
2025-04-24 18:13:00.135 +08:00 [DBG] Connection id "0HNC332BOK3OH" accepted.
2025-04-24 18:13:00.137 +08:00 [DBG] Connection id "0HNC332BOK3OI" accepted.
2025-04-24 18:13:00.141 +08:00 [DBG] Connection id "0HNC332BOK3OH" started.
2025-04-24 18:13:00.161 +08:00 [DBG] Connection id "0HNC332BOK3OI" started.
2025-04-24 18:13:00.343 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:13:00.378 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:13:00.414 +08:00 [DBG] The request path /swagger/index.html does not match an existing file
2025-04-24 18:13:00.416 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 18:13:00.454 +08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-04-24 18:13:00.458 +08:00 [DBG] Request did not match any endpoints
2025-04-24 18:13:00.499 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:13:00.504 +08:00 [DBG] Connection id "0HNC332BOK3OI" completed keep alive response.
2025-04-24 18:13:00.510 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 404 0 null 173.6038ms
2025-04-24 18:13:00.518 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5212/swagger/index.html, Response status code: 404
2025-04-24 18:13:03.285 +08:00 [DBG] Connection id "0HNC332BOK3OH" received FIN.
2025-04-24 18:13:03.285 +08:00 [DBG] Connection id "0HNC332BOK3OI" received FIN.
2025-04-24 18:13:03.287 +08:00 [DBG] Connection id "0HNC332BOK3OH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:13:03.289 +08:00 [DBG] Connection id "0HNC332BOK3OH" disconnecting.
2025-04-24 18:13:03.289 +08:00 [DBG] Connection id "0HNC332BOK3OI" disconnecting.
2025-04-24 18:13:03.291 +08:00 [DBG] Connection id "0HNC332BOK3OI" stopped.
2025-04-24 18:13:03.291 +08:00 [DBG] Connection id "0HNC332BOK3OH" stopped.
2025-04-24 18:13:03.293 +08:00 [DBG] Connection id "0HNC332BOK3OI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:14:47.525 +08:00 [INF] Application is shutting down...
2025-04-24 18:14:47.528 +08:00 [DBG] Hosting stopping
2025-04-24 18:14:47.581 +08:00 [DBG] Hosting stopped
2025-04-24 18:15:00.986 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:15:01.523 +08:00 [DBG] Hosting starting
2025-04-24 18:15:01.555 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:15:01.587 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:15:01.622 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:15:01.653 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:15:01.671 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:15:01.683 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:15:01.707 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:15:01.723 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:15:01.728 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:15:01.747 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:15:01.769 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:15:01.869 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:15:01.881 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:15:01.885 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:15:01.886 +08:00 [INF] Hosting environment: Development
2025-04-24 18:15:01.888 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:15:01.889 +08:00 [DBG] Hosting started
2025-04-24 18:15:03.884 +08:00 [DBG] Connection id "0HNC333GKPJD2" accepted.
2025-04-24 18:15:03.895 +08:00 [DBG] Connection id "0HNC333GKPJD2" started.
2025-04-24 18:15:03.904 +08:00 [DBG] Connection id "0HNC333GKPJD3" accepted.
2025-04-24 18:15:03.967 +08:00 [DBG] Connection id "0HNC333GKPJD3" started.
2025-04-24 18:15:04.029 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:15:04.172 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:15:04.380 +08:00 [DBG] Connection id "0HNC333GKPJD3" completed keep alive response.
2025-04-24 18:15:04.385 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 359.213ms
2025-04-24 18:15:05.720 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:15:06.058 +08:00 [DBG] Connection id "0HNC333GKPJD3" completed keep alive response.
2025-04-24 18:15:06.105 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 385.0418ms
2025-04-24 18:15:08.477 +08:00 [DBG] Connection id "0HNC333GKPJD3" received FIN.
2025-04-24 18:15:08.478 +08:00 [DBG] Connection id "0HNC333GKPJD2" received FIN.
2025-04-24 18:15:08.481 +08:00 [DBG] Connection id "0HNC333GKPJD3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:15:08.491 +08:00 [DBG] Connection id "0HNC333GKPJD2" disconnecting.
2025-04-24 18:15:08.495 +08:00 [DBG] Connection id "0HNC333GKPJD3" disconnecting.
2025-04-24 18:15:08.504 +08:00 [DBG] Connection id "0HNC333GKPJD2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:15:08.512 +08:00 [DBG] Connection id "0HNC333GKPJD3" stopped.
2025-04-24 18:15:08.529 +08:00 [DBG] Connection id "0HNC333GKPJD2" stopped.
2025-04-24 18:16:27.776 +08:00 [INF] Application is shutting down...
2025-04-24 18:16:27.778 +08:00 [DBG] Hosting stopping
2025-04-24 18:16:27.798 +08:00 [DBG] Hosting stopped
2025-04-24 18:16:52.835 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:16:53.164 +08:00 [DBG] Hosting starting
2025-04-24 18:16:53.200 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:16:53.241 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:16:53.288 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:16:53.337 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:16:53.358 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:16:53.367 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:16:53.372 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:16:53.394 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:16:53.402 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:16:53.407 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:16:53.411 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:16:53.521 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:16:53.527 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:16:53.529 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:16:53.531 +08:00 [INF] Hosting environment: Development
2025-04-24 18:16:53.533 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:16:53.538 +08:00 [DBG] Hosting started
2025-04-24 18:17:06.852 +08:00 [DBG] Connection id "0HNC334L9GB0B" accepted.
2025-04-24 18:17:06.879 +08:00 [DBG] Connection id "0HNC334L9GB0C" accepted.
2025-04-24 18:17:06.881 +08:00 [DBG] Connection id "0HNC334L9GB0B" started.
2025-04-24 18:17:06.901 +08:00 [DBG] Connection id "0HNC334L9GB0C" started.
2025-04-24 18:17:06.988 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:17:07.029 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:17:07.189 +08:00 [DBG] Connection id "0HNC334L9GB0B" completed keep alive response.
2025-04-24 18:17:07.193 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 211.2335ms
2025-04-24 18:17:07.495 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:17:07.787 +08:00 [DBG] Connection id "0HNC334L9GB0B" completed keep alive response.
2025-04-24 18:17:07.793 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 297.2263ms
2025-04-24 18:17:08.737 +08:00 [DBG] Connection id "0HNC334L9GB0C" received FIN.
2025-04-24 18:17:08.737 +08:00 [DBG] Connection id "0HNC334L9GB0B" received FIN.
2025-04-24 18:17:08.746 +08:00 [DBG] Connection id "0HNC334L9GB0C" disconnecting.
2025-04-24 18:17:08.747 +08:00 [DBG] Connection id "0HNC334L9GB0B" disconnecting.
2025-04-24 18:17:08.750 +08:00 [DBG] Connection id "0HNC334L9GB0C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:17:08.752 +08:00 [DBG] Connection id "0HNC334L9GB0B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:17:08.766 +08:00 [DBG] Connection id "0HNC334L9GB0C" stopped.
2025-04-24 18:17:08.766 +08:00 [DBG] Connection id "0HNC334L9GB0B" stopped.
2025-04-24 18:17:21.362 +08:00 [DBG] Connection id "0HNC334L9GB0D" accepted.
2025-04-24 18:17:21.369 +08:00 [DBG] Connection id "0HNC334L9GB0D" started.
2025-04-24 18:17:21.401 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 108
2025-04-24 18:17:21.432 +08:00 [DBG] POST requests are not supported
2025-04-24 18:17:21.440 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 18:17:21.510 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 18:17:21.516 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 18:17:21.518 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:17:21.582 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:17:21.586 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:17:21.627 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 18:17:21.631 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:17:21.633 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:17:21.636 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:17:21.639 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:17:21.640 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:17:21.649 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:17:21.652 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:17:21.661 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:17:21.665 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 18:17:21.670 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:17:21.672 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:17:21.690 +08:00 [DBG] Connection id "0HNC334L9GB0D", Request id "0HNC334L9GB0D:00000001": started reading request body.
2025-04-24 18:17:21.695 +08:00 [DBG] Connection id "0HNC334L9GB0D", Request id "0HNC334L9GB0D:00000001": done reading request body.
2025-04-24 18:17:21.810 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:17:21.812 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:17:21.813 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:17:21.820 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:17:21.888 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:17:21.894 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 18:17:21.896 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 18:17:21.910 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 18:17:21.922 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 268.3154ms
2025-04-24 18:17:21.923 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:17:21.926 +08:00 [DBG] Connection id "0HNC334L9GB0D" completed keep alive response.
2025-04-24 18:17:21.929 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 528.3427ms
2025-04-24 18:17:28.752 +08:00 [DBG] Connection id "0HNC334L9GB0D" received FIN.
2025-04-24 18:17:28.757 +08:00 [DBG] Connection id "0HNC334L9GB0D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:17:28.760 +08:00 [DBG] Connection id "0HNC334L9GB0D" disconnecting.
2025-04-24 18:17:28.762 +08:00 [DBG] Connection id "0HNC334L9GB0D" stopped.
2025-04-24 18:17:40.954 +08:00 [DBG] Connection id "0HNC334L9GB0E" accepted.
2025-04-24 18:17:40.956 +08:00 [DBG] Connection id "0HNC334L9GB0E" started.
2025-04-24 18:17:40.962 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - null null
2025-04-24 18:17:40.987 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:17:40.997 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:17:40.999 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:17:41.018 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:17:41.055 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:17:41.159 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:17:41.212 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:17:41.242 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:17:41.243 +08:00 [DBG] Connection id "0HNC334L9GB0E" completed keep alive response.
2025-04-24 18:17:41.256 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - 401 0 null 293.8685ms
2025-04-24 18:17:48.759 +08:00 [DBG] Connection id "0HNC334L9GB0E" received FIN.
2025-04-24 18:17:48.768 +08:00 [DBG] Connection id "0HNC334L9GB0E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:17:48.783 +08:00 [DBG] Connection id "0HNC334L9GB0E" disconnecting.
2025-04-24 18:17:48.791 +08:00 [DBG] Connection id "0HNC334L9GB0E" stopped.
2025-04-24 18:17:52.321 +08:00 [DBG] Connection id "0HNC334L9GB0F" accepted.
2025-04-24 18:17:52.324 +08:00 [DBG] Connection id "0HNC334L9GB0F" started.
2025-04-24 18:17:52.327 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - null null
2025-04-24 18:17:52.352 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:17:52.363 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:17:52.377 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:17:52.386 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:17:52.503 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:17:52.505 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:17:52.510 +08:00 [DBG] Authorization was successful.
2025-04-24 18:17:52.511 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:17:52.522 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:17:52.526 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:17:52.529 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:17:52.530 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:17:52.531 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:17:52.532 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:17:52.533 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:17:52.666 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-24 18:17:52.827 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:17:52.832 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:17:52.835 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-04-24 18:17:52.837 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:17:52.839 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:17:52.846 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:17:52.848 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:17:52.849 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:17:52.850 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:17:52.852 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:17:52.854 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:17:52.855 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:17:52.860 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:17:52.862 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:17:52.864 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:17:52.865 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:17:52.867 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:17:52.868 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:17:52.875 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:17:52.884 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:17:52.885 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:17:52.886 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:17:52.887 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:17:52.888 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:17:52.891 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:17:52.893 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:17:53.876 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:17:53.948 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .Count()'
2025-04-24 18:17:54.264 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE c.Name == @__name_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE c.Name == @__name_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 18:17:54.315 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:17:54.333 +08:00 [DBG] Created DbConnection. (16ms).
2025-04-24 18:17:54.337 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:17:54.363 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:54.370 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:17:54.382 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-04-24 18:17:54.387 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-04-24 18:17:54.402 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:17:54.455 +08:00 [INF] Executed DbCommand (55ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:17:54.468 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:54.481 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 11ms reading results.
2025-04-24 18:17:54.485 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:54.494 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2025-04-24 18:17:54.506 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Id)
    .Skip(__p_1)
    .Take(__p_2)'
2025-04-24 18:17:54.598 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Id ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Id ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 18:17:54.607 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:17:54.609 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:54.610 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:17:54.611 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:17:54.614 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:17:54.615 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:17:54.619 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__name_0='?' (Size = 7), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:17:54.662 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:17:54.682 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:54.683 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 56ms reading results.
2025-04-24 18:17:54.688 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:54.691 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-24 18:17:54.759 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:17:54.763 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 18:17:54.769 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 18:17:54.776 +08:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2025-04-24 18:17:54.785 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:17:54.794 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-04-24 18:17:54.801 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 18:17:54.805 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2271.8453ms
2025-04-24 18:17:54.809 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:17:54.814 +08:00 [DBG] Connection id "0HNC334L9GB0F" completed keep alive response.
2025-04-24 18:17:54.839 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:17:54.864 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:17:54.878 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (11ms).
2025-04-24 18:17:54.897 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - 406 0 null 2570.3825ms
2025-04-24 18:17:57.810 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - null null
2025-04-24 18:17:57.814 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:17:57.815 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:17:57.821 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:17:57.829 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:17:57.847 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:17:57.854 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:17:57.862 +08:00 [DBG] Authorization was successful.
2025-04-24 18:17:57.867 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:17:57.869 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:17:57.871 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:17:57.883 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:17:57.884 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:17:57.887 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:17:57.896 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:17:57.898 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:17:57.901 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:17:57.903 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:17:57.905 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-04-24 18:17:57.914 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:17:57.916 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:17:57.917 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:17:57.918 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:17:57.919 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:17:57.920 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:17:57.921 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:17:57.927 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:17:57.928 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:17:57.929 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:17:57.930 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:17:57.931 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:17:57.933 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:17:57.934 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:17:57.935 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:17:57.936 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:17:57.936 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:17:57.937 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:17:57.943 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:17:57.944 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:17:57.945 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:17:57.946 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:17:57.947 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:17:57.968 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:17:57.978 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:17:57.979 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:17:57.980 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:17:57.982 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:57.983 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:17:57.984 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:17:57.984 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:17:57.986 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:17:57.988 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:17:57.994 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:57.995 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:17:57.996 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:57.997 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:17:58.000 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:17:58.001 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:58.002 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:17:58.003 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:17:58.005 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:17:58.014 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:17:58.019 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__name_0='?' (Size = 7), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:17:58.022 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:17:58.032 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:58.034 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 12ms reading results.
2025-04-24 18:17:58.046 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:17:58.047 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:17:58.049 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:17:58.052 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:17:58.053 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:17:58.054 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:17:58.129 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 231.1339ms
2025-04-24 18:17:58.133 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:17:58.134 +08:00 [DBG] Connection id "0HNC334L9GB0F" completed keep alive response.
2025-04-24 18:17:58.136 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:17:58.138 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:17:58.150 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (11ms).
2025-04-24 18:17:58.152 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - 200 102 application/json; charset=utf-8 341.7721ms
2025-04-24 18:17:58.770 +08:00 [DBG] Connection id "0HNC334L9GB0F" received FIN.
2025-04-24 18:17:58.779 +08:00 [DBG] Connection id "0HNC334L9GB0F" disconnecting.
2025-04-24 18:17:58.782 +08:00 [DBG] Connection id "0HNC334L9GB0F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:17:58.785 +08:00 [DBG] Connection id "0HNC334L9GB0F" stopped.
2025-04-24 18:18:11.560 +08:00 [DBG] Connection id "0HNC334L9GB0G" accepted.
2025-04-24 18:18:11.563 +08:00 [DBG] Connection id "0HNC334L9GB0G" started.
2025-04-24 18:18:11.564 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - null null
2025-04-24 18:18:11.632 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:18:11.633 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:18:11.643 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:18:11.646 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:18:11.649 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:18:11.652 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:18:11.653 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:18:11.654 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:18:11.658 +08:00 [DBG] Connection id "0HNC334L9GB0G" completed keep alive response.
2025-04-24 18:18:11.663 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Antwerp&pageNumber=1&pageSize=10 - 401 0 null 98.3473ms
2025-04-24 18:18:18.808 +08:00 [DBG] Connection id "0HNC334L9GB0G" received FIN.
2025-04-24 18:18:18.815 +08:00 [DBG] Connection id "0HNC334L9GB0G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:18:18.817 +08:00 [DBG] Connection id "0HNC334L9GB0G" disconnecting.
2025-04-24 18:18:18.820 +08:00 [DBG] Connection id "0HNC334L9GB0G" stopped.
2025-04-24 18:18:20.373 +08:00 [DBG] Connection id "0HNC334L9GB0H" accepted.
2025-04-24 18:18:20.375 +08:00 [DBG] Connection id "0HNC334L9GB0H" started.
2025-04-24 18:18:20.376 +08:00 [DBG] Connection id "0HNC334L9GB0H" received FIN.
2025-04-24 18:18:20.376 +08:00 [DBG] Connection id "0HNC334L9GB0I" accepted.
2025-04-24 18:18:20.378 +08:00 [DBG] Connection id "0HNC334L9GB0H" disconnecting.
2025-04-24 18:18:20.379 +08:00 [DBG] Connection id "0HNC334L9GB0I" started.
2025-04-24 18:18:20.382 +08:00 [DBG] Connection id "0HNC334L9GB0H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:18:20.392 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 18:18:20.396 +08:00 [DBG] Connection id "0HNC334L9GB0H" stopped.
2025-04-24 18:18:20.403 +08:00 [DBG] POST requests are not supported
2025-04-24 18:18:20.419 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 18:18:20.431 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 18:18:20.443 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:18:20.453 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:18:20.462 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:18:20.464 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 18:18:20.467 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:18:20.469 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:18:20.470 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:18:20.480 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:18:20.481 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:18:20.482 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:18:20.483 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:18:20.485 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:18:20.489 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 18:18:20.495 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 18:18:20.497 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 18:18:20.499 +08:00 [DBG] Connection id "0HNC334L9GB0I", Request id "0HNC334L9GB0I:00000001": started reading request body.
2025-04-24 18:18:20.500 +08:00 [DBG] Connection id "0HNC334L9GB0I", Request id "0HNC334L9GB0I:00000001": done reading request body.
2025-04-24 18:18:20.502 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:18:20.503 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:18:20.504 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:18:20.513 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:18:20.515 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:18:20.518 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 18:18:20.519 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 18:18:20.520 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 18:18:20.528 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 18:18:20.530 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 18:18:20.531 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 49.248ms
2025-04-24 18:18:20.537 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:18:20.551 +08:00 [DBG] Connection id "0HNC334L9GB0I" completed keep alive response.
2025-04-24 18:18:20.561 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 169.8419ms
2025-04-24 18:18:25.570 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 18:18:25.577 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:18:25.578 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:18:25.583 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:18:25.586 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:18:25.603 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:18:25.618 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:18:25.619 +08:00 [DBG] Authorization was successful.
2025-04-24 18:18:25.630 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:18:25.633 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:18:25.635 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:18:25.636 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:18:25.642 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:18:25.647 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:18:25.650 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:18:25.652 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:18:25.680 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:18:25.707 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:18:25.728 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:18:26.216 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:18:26.228 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:18:26.253 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:18:26.419 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:18:26.429 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:18:26.450 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:18:26.464 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:18:26.469 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:18:26.480 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:18:26.482 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:18:26.484 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:18:26.485 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:18:26.492 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:18:26.497 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-24 18:18:26.513 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:18:26.517 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:18:26.519 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:18:26.526 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:18:26.528 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:18:26.530 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:18:26.532 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-24 18:18:26.535 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:18:26.550 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:18:26.560 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:18:26.567 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:18:26.569 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:18:26.685 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:18:26.691 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-24 18:18:26.696 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 18:18:26.699 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:18:26.700 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:18:26.701 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:18:26.701 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:26.702 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:18:26.703 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:18:26.707 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-24 18:18:26.708 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:18:26.711 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:18:26.713 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:26.717 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2025-04-24 18:18:26.719 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:26.720 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:18:26.727 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-24 18:18:26.734 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 18:18:26.743 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:18:26.744 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:26.745 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:18:26.746 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:18:26.759 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-04-24 18:18:26.761 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:18:26.769 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:18:26.775 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:26.776 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:26.778 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:26.779 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:26.782 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:26.784 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:26.786 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:26.791 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:26.795 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:26.798 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:26.800 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:26.801 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 26ms reading results.
2025-04-24 18:18:26.803 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:26.807 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-24 18:18:26.810 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:18:26.815 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 18:18:26.816 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 18:18:26.817 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 18:18:26.818 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:18:26.820 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:18:26.829 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1177.6759ms
2025-04-24 18:18:26.830 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:18:26.833 +08:00 [DBG] Connection id "0HNC334L9GB0I" completed keep alive response.
2025-04-24 18:18:26.834 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:18:26.835 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:18:26.836 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:18:26.842 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 1270.1ms
2025-04-24 18:18:42.705 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 18:18:42.709 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:18:42.711 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:18:42.713 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:18:42.714 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:18:42.715 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:18:42.717 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:18:42.718 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:18:42.729 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:18:42.731 +08:00 [DBG] Connection id "0HNC334L9GB0I" completed keep alive response.
2025-04-24 18:18:42.735 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 29.5831ms
2025-04-24 18:18:47.805 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 18:18:47.814 +08:00 [DBG] POST requests are not supported
2025-04-24 18:18:47.815 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 18:18:47.817 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 18:18:47.833 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:18:47.835 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:18:47.836 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:18:47.878 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 18:18:47.884 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:18:47.885 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:18:47.898 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:18:47.900 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:18:47.901 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:18:47.910 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:18:47.912 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:18:47.913 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:18:47.914 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 18:18:47.916 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 18:18:47.918 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 18:18:47.929 +08:00 [DBG] Connection id "0HNC334L9GB0I", Request id "0HNC334L9GB0I:00000004": started reading request body.
2025-04-24 18:18:47.930 +08:00 [DBG] Connection id "0HNC334L9GB0I", Request id "0HNC334L9GB0I:00000004": done reading request body.
2025-04-24 18:18:47.932 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:18:47.943 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:18:47.946 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:18:47.948 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:18:47.950 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:18:47.963 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 18:18:47.964 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 18:18:47.966 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 18:18:47.967 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 18:18:47.978 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 18:18:47.981 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 70.2221ms
2025-04-24 18:18:47.984 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:18:47.999 +08:00 [DBG] Connection id "0HNC334L9GB0I" completed keep alive response.
2025-04-24 18:18:48.071 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 265.8186ms
2025-04-24 18:18:56.088 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 18:18:56.094 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:18:56.095 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:18:56.097 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:18:56.109 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:18:56.114 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:18:56.115 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:18:56.120 +08:00 [DBG] Authorization was successful.
2025-04-24 18:18:56.123 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:18:56.127 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:18:56.151 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:18:56.152 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:18:56.158 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:18:56.168 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:18:56.207 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:18:56.210 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:18:56.216 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:18:56.217 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:18:56.218 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:18:56.225 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:18:56.227 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:18:56.230 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:18:56.231 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:18:56.232 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:18:56.233 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:18:56.234 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:18:56.235 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:18:56.242 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:18:56.243 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:18:56.245 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:18:56.246 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:18:56.247 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:18:56.248 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-24 18:18:56.249 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:18:56.250 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:18:56.251 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:18:56.257 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:18:56.259 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:18:56.260 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:18:56.262 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-24 18:18:56.263 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:18:56.264 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:18:56.265 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:18:56.266 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:18:56.267 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:18:56.275 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:18:56.279 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:18:56.281 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 18:18:56.282 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:18:56.283 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:56.284 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:18:56.288 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:18:56.296 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-04-24 18:18:56.299 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:18:56.302 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:18:56.318 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:56.344 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 26ms reading results.
2025-04-24 18:18:56.347 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:56.350 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 18:18:56.352 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:18:56.360 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:56.362 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:18:56.363 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:18:56.368 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-24 18:18:56.377 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:18:56.382 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:18:56.401 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:56.431 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:56.441 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:56.447 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:56.450 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:56.452 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:56.462 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:56.465 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:56.467 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:56.477 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:18:56.482 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:56.484 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 82ms reading results.
2025-04-24 18:18:56.509 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:18:56.513 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-24 18:18:56.519 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:18:56.543 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 18:18:56.547 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 18:18:56.550 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 18:18:56.552 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:18:56.563 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:18:56.577 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 367.3066ms
2025-04-24 18:18:56.600 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:18:56.661 +08:00 [DBG] Connection id "0HNC334L9GB0I" completed keep alive response.
2025-04-24 18:18:56.664 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:18:56.665 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:18:56.667 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:18:56.677 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 589.553ms
2025-04-24 18:19:16.225 +08:00 [DBG] Connection id "0HNC334L9GB0J" accepted.
2025-04-24 18:19:16.230 +08:00 [DBG] Connection id "0HNC334L9GB0J" started.
2025-04-24 18:19:16.233 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:19:16.244 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:19:16.249 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:19:16.254 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:19:16.260 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:19:16.261 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:19:16.263 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:19:16.264 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:19:16.267 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:19:16.273 +08:00 [DBG] Connection id "0HNC334L9GB0J" completed keep alive response.
2025-04-24 18:19:16.278 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 45.1014ms
2025-04-24 18:19:20.775 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:19:20.779 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:19:20.782 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:19:20.796 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:19:20.803 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:19:20.807 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:19:20.808 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:19:20.811 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:19:20.815 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:19:20.816 +08:00 [DBG] Connection id "0HNC334L9GB0J" completed keep alive response.
2025-04-24 18:19:20.845 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 69.8277ms
2025-04-24 18:19:23.883 +08:00 [DBG] Connection id "0HNC334L9GB0J" received FIN.
2025-04-24 18:19:23.887 +08:00 [DBG] Connection id "0HNC334L9GB0J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:19:23.892 +08:00 [DBG] Connection id "0HNC334L9GB0J" disconnecting.
2025-04-24 18:19:23.960 +08:00 [DBG] Connection id "0HNC334L9GB0J" stopped.
2025-04-24 18:19:51.099 +08:00 [DBG] Connection id "0HNC334L9GB0K" accepted.
2025-04-24 18:19:51.101 +08:00 [DBG] Connection id "0HNC334L9GB0K" started.
2025-04-24 18:19:51.103 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:19:51.108 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:19:51.115 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:19:51.143 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:19:51.145 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:19:51.146 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:19:51.148 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:19:51.149 +08:00 [DBG] Authorization was successful.
2025-04-24 18:19:51.152 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:19:51.164 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 18:19:51.175 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:19:51.176 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:19:51.181 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:19:51.207 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:19:51.209 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:19:51.210 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:19:51.212 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:19:51.213 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:19:51.214 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 18:19:51.215 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:19:51.218 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:19:51.219 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:19:51.220 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:19:51.224 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:19:51.230 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-24 18:19:51.245 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 18:19:51.256 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:19:51.258 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 18:19:51.259 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:19:51.261 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:19:51.262 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:19:51.263 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:19:51.265 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:19:51.269 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:19:51.272 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:19:51.274 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:19:51.275 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:19:51.276 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:19:51.278 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:19:51.281 +08:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-04-24 18:19:51.291 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PointOfInterest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PointOfInterest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PointOfInterest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PointOfInterest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (PointOfInterest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                        {
                            return 
                            {
                                PointOfInterest instance;
                                instance = new PointOfInterest(dataReader.GetString(3));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CityId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PointOfInterest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 18:19:51.297 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:19:51.298 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:19:51.302 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:19:51.305 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:19:51.306 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-24 18:19:51.307 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:19:51.309 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:19:51.314 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:19:51.325 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:19:51.328 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:19:51.329 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:19:51.331 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:19:51.332 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 21ms reading results.
2025-04-24 18:19:51.336 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:19:51.338 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:19:51.344 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:19:51.347 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:19:51.348 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:19:51.349 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:19:51.362 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 152.111ms
2025-04-24 18:19:51.376 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:19:51.377 +08:00 [DBG] Connection id "0HNC334L9GB0K" completed keep alive response.
2025-04-24 18:19:51.378 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:19:51.379 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:19:51.380 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:19:51.392 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 200 285 application/json; charset=utf-8 288.6406ms
2025-04-24 18:19:53.902 +08:00 [DBG] Connection id "0HNC334L9GB0K" received FIN.
2025-04-24 18:19:53.904 +08:00 [DBG] Connection id "0HNC334L9GB0K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:19:53.914 +08:00 [DBG] Connection id "0HNC334L9GB0K" disconnecting.
2025-04-24 18:19:53.921 +08:00 [DBG] Connection id "0HNC334L9GB0K" stopped.
2025-04-24 18:20:09.324 +08:00 [DBG] Connection id "0HNC334L9GB0L" accepted.
2025-04-24 18:20:09.326 +08:00 [DBG] Connection id "0HNC334L9GB0L" received FIN.
2025-04-24 18:20:09.329 +08:00 [DBG] Connection id "0HNC334L9GB0L" started.
2025-04-24 18:20:09.329 +08:00 [DBG] Connection id "0HNC334L9GB0M" accepted.
2025-04-24 18:20:09.334 +08:00 [DBG] Connection id "0HNC334L9GB0L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:20:09.335 +08:00 [DBG] Connection id "0HNC334L9GB0M" started.
2025-04-24 18:20:09.358 +08:00 [DBG] Connection id "0HNC334L9GB0L" disconnecting.
2025-04-24 18:20:09.362 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1 - null null
2025-04-24 18:20:09.363 +08:00 [DBG] Connection id "0HNC334L9GB0L" stopped.
2025-04-24 18:20:09.368 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:20:09.372 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-04-24 18:20:09.373 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-04-24 18:20:09.375 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 18:20:09.377 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:20:09.378 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:20:09.379 +08:00 [DBG] Authorization was successful.
2025-04-24 18:20:09.380 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 18:20:09.393 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:20:09.396 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:20:09.400 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:20:09.404 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:20:09.407 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:20:09.413 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:20:09.445 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:20:09.465 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:20:09.472 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-24 18:20:09.474 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-24 18:20:09.475 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 18:20:09.477 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-24 18:20:09.477 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-24 18:20:09.479 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-24 18:20:09.481 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 18:20:09.489 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2025-04-24 18:20:09.491 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 18:20:09.492 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 18:20:09.493 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 18:20:09.494 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-24 18:20:09.495 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-24 18:20:09.503 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:20:09.507 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2025-04-24 18:20:09.515 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: SingleQueryingEnumerable.Create<City>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            City entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                City instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(City);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (City)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                            {
                                return 
                                {
                                    City instance;
                                    instance = new City(dataReader.GetString(2));
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(City)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 18:20:09.525 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:20:09.526 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:20:09.528 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:20:09.529 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:20:09.530 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:20:09.530 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:20:09.531 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:20:09.536 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 18:20:09.538 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-24 18:20:09.540 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:20:09.541 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:20:09.542 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:20:09.544 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:20:09.545 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:20:09.551 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:20:09.556 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 18:20:09.557 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 18:20:09.558 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 18:20:09.558 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:20:09.559 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2025-04-24 18:20:09.560 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 115.5702ms
2025-04-24 18:20:09.562 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-24 18:20:09.563 +08:00 [DBG] Connection id "0HNC334L9GB0M" completed keep alive response.
2025-04-24 18:20:09.564 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:20:09.575 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:20:09.576 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:20:09.577 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1 - 200 75 application/json; charset=utf-8 215.8245ms
2025-04-24 18:21:08.652 +08:00 [DBG] Connection id "0HNC334L9GB0I" disconnecting.
2025-04-24 18:21:08.654 +08:00 [DBG] Connection id "0HNC334L9GB0I" stopped.
2025-04-24 18:21:08.656 +08:00 [DBG] Connection id "0HNC334L9GB0I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:21:16.771 +08:00 [DBG] Connection id "0HNC334L9GB0N" accepted.
2025-04-24 18:21:16.773 +08:00 [DBG] Connection id "0HNC334L9GB0N" started.
2025-04-24 18:21:16.794 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-24 18:21:16.822 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:21:16.824 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-24 18:21:16.826 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-24 18:21:16.830 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:21:16.833 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:21:16.835 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:21:16.837 +08:00 [DBG] Authorization was successful.
2025-04-24 18:21:16.838 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:21:16.840 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 18:21:16.842 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:21:16.843 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:21:16.847 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:21:16.851 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:21:16.853 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:21:16.856 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:21:16.858 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:21:16.859 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:21:16.861 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 18:21:16.868 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:21:16.870 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:21:16.871 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:21:16.872 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:21:16.874 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:21:16.877 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:21:16.881 +08:00 [DBG] Created DbConnection. (3ms).
2025-04-24 18:21:16.882 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:21:16.884 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:16.885 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:21:16.886 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:21:16.887 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:21:16.892 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:21:16.904 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:21:16.932 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:16.933 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:21:16.935 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:16.936 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:21:16.938 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:21:16.943 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:16.949 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:21:16.951 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:21:16.952 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:21:16.953 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:21:16.957 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:21:16.968 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:21:16.971 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:21:16.975 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:16.976 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2025-04-24 18:21:16.982 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:16.985 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-24 18:21:16.987 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:21:16.989 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:21:16.990 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:21:16.991 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:21:16.992 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 135.7896ms
2025-04-24 18:21:16.999 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:21:17.002 +08:00 [DBG] Connection id "0HNC334L9GB0N" completed keep alive response.
2025-04-24 18:21:17.004 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:21:17.005 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:21:17.006 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:21:17.007 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 200 246 application/json; charset=utf-8 213.4271ms
2025-04-24 18:21:22.960 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:21:22.965 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:21:22.968 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:21:22.989 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:21:22.992 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:21:22.999 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:21:23.000 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:21:23.002 +08:00 [DBG] Authorization was successful.
2025-04-24 18:21:23.003 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:21:23.006 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 18:21:23.009 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:21:23.022 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:21:23.037 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:21:23.041 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:21:23.053 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:21:23.069 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:21:23.071 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:21:23.074 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:21:23.076 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 18:21:23.082 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:21:23.084 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:21:23.085 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:21:23.087 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:21:23.088 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:21:23.090 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:21:23.091 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:21:23.092 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:21:23.097 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:23.101 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:21:23.103 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:21:23.105 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:21:23.106 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:21:23.108 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:21:23.110 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:23.119 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2025-04-24 18:21:23.121 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:23.123 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:21:23.124 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:21:23.126 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:23.133 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:21:23.135 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:21:23.136 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:21:23.137 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:21:23.138 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:21:23.140 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:21:23.142 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:21:23.143 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:21:23.152 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:21:23.153 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:23.156 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 15ms reading results.
2025-04-24 18:21:23.158 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:23.160 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:21:23.169 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:21:23.171 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:21:23.172 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:21:23.173 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:21:23.174 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 105.6182ms
2025-04-24 18:21:23.180 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:21:23.184 +08:00 [DBG] Connection id "0HNC334L9GB0N" completed keep alive response.
2025-04-24 18:21:23.185 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:21:23.186 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:21:23.203 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (16ms).
2025-04-24 18:21:23.204 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 200 285 application/json; charset=utf-8 244.2951ms
2025-04-24 18:21:24.005 +08:00 [DBG] Connection id "0HNC334L9GB0N" received FIN.
2025-04-24 18:21:24.008 +08:00 [DBG] Connection id "0HNC334L9GB0N" disconnecting.
2025-04-24 18:21:24.014 +08:00 [DBG] Connection id "0HNC334L9GB0N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:21:24.021 +08:00 [DBG] Connection id "0HNC334L9GB0N" stopped.
2025-04-24 18:21:40.810 +08:00 [DBG] Connection id "0HNC334L9GB0O" accepted.
2025-04-24 18:21:40.812 +08:00 [DBG] Connection id "0HNC334L9GB0O" received FIN.
2025-04-24 18:21:40.815 +08:00 [DBG] Connection id "0HNC334L9GB0O" started.
2025-04-24 18:21:40.815 +08:00 [DBG] Connection id "0HNC334L9GB0P" accepted.
2025-04-24 18:21:40.818 +08:00 [DBG] Connection id "0HNC334L9GB0O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:21:40.819 +08:00 [DBG] Connection id "0HNC334L9GB0P" started.
2025-04-24 18:21:40.821 +08:00 [DBG] Connection id "0HNC334L9GB0O" disconnecting.
2025-04-24 18:21:40.823 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - null null
2025-04-24 18:21:40.825 +08:00 [DBG] Connection id "0HNC334L9GB0O" stopped.
2025-04-24 18:21:40.837 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:21:40.841 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 18:21:40.843 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 18:21:40.851 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:21:40.853 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:21:40.854 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:21:40.856 +08:00 [DBG] Authorization was successful.
2025-04-24 18:21:40.857 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:21:40.858 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 18:21:40.869 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:21:40.871 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:21:40.873 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:21:40.875 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:21:40.876 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:21:40.886 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:21:40.889 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:21:40.890 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:21:40.891 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 18:21:40.892 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:21:40.903 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:21:40.906 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:21:40.909 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:21:40.954 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:21:40.986 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:21:40.988 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 18:21:41.001 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:21:41.007 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:41.009 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:21:41.019 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-04-24 18:21:41.021 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-04-24 18:21:41.023 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:21:41.036 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:21:41.075 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:41.108 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 32ms reading results.
2025-04-24 18:21:41.142 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:41.191 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (48ms).
2025-04-24 18:21:41.193 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:21:41.205 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:41.207 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:21:41.208 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:21:41.220 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-04-24 18:21:41.224 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:21:41.252 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:21:41.257 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:21:41.259 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:21:41.272 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:21:41.275 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:21:41.292 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:41.321 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 65ms reading results.
2025-04-24 18:21:41.323 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:21:41.324 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:21:41.340 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:21:41.354 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 18:21:41.355 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 18:21:41.359 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 18:21:41.368 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:21:41.371 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:21:41.375 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 488.5308ms
2025-04-24 18:21:41.399 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:21:41.404 +08:00 [DBG] Connection id "0HNC334L9GB0P" completed keep alive response.
2025-04-24 18:21:41.425 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:21:41.450 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:21:41.475 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (21ms).
2025-04-24 18:21:41.651 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - 200 285 application/json; charset=utf-8 827.7422ms
2025-04-24 18:22:20.477 +08:00 [DBG] Connection id "0HNC334L9GB0M" disconnecting.
2025-04-24 18:22:20.479 +08:00 [DBG] Connection id "0HNC334L9GB0M" stopped.
2025-04-24 18:22:20.480 +08:00 [DBG] Connection id "0HNC334L9GB0M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:22:40.981 +08:00 [DBG] Connection id "0HNC334L9GB0Q" accepted.
2025-04-24 18:22:40.982 +08:00 [DBG] Connection id "0HNC334L9GB0Q" received FIN.
2025-04-24 18:22:40.984 +08:00 [DBG] Connection id "0HNC334L9GB0R" accepted.
2025-04-24 18:22:40.984 +08:00 [DBG] Connection id "0HNC334L9GB0Q" started.
2025-04-24 18:22:40.987 +08:00 [DBG] Connection id "0HNC334L9GB0R" started.
2025-04-24 18:22:40.989 +08:00 [DBG] Connection id "0HNC334L9GB0Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:22:40.991 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - null null
2025-04-24 18:22:41.002 +08:00 [DBG] Connection id "0HNC334L9GB0Q" disconnecting.
2025-04-24 18:22:41.004 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:22:41.005 +08:00 [DBG] Connection id "0HNC334L9GB0Q" stopped.
2025-04-24 18:22:41.006 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 18:22:41.012 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 18:22:41.015 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:22:41.018 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:22:41.019 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:22:41.020 +08:00 [DBG] Authorization was successful.
2025-04-24 18:22:41.021 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:22:41.022 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 18:22:41.048 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:22:41.050 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:22:41.070 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:22:41.075 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:22:41.083 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:22:41.084 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:22:41.086 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:22:41.088 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:22:41.089 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 18:22:41.096 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:22:41.098 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:22:41.099 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:22:41.101 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:22:41.103 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:22:41.105 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:22:41.105 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:22:41.118 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:22:41.136 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:41.138 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:22:41.139 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:22:41.144 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-24 18:22:41.146 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:22:41.148 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:22:41.150 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:41.151 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:22:41.152 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:41.153 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:22:41.154 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:22:41.155 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:41.161 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:22:41.162 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:22:41.164 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:22:41.164 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:22:41.166 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:22:41.168 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:22:41.168 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:22:41.170 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:22:41.171 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:22:41.172 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:41.185 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 17ms reading results.
2025-04-24 18:22:41.186 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:41.188 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:22:41.189 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:22:41.200 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 18:22:41.202 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 18:22:41.203 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 18:22:41.203 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:22:41.204 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:22:41.205 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 120.8683ms
2025-04-24 18:22:41.230 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:22:41.231 +08:00 [DBG] Connection id "0HNC334L9GB0R" completed keep alive response.
2025-04-24 18:22:41.232 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:22:41.233 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:22:41.235 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:22:41.237 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - 200 285 application/json; charset=utf-8 246.0596ms
2025-04-24 18:22:50.803 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - null null
2025-04-24 18:22:50.809 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:22:50.832 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 18:22:50.833 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 18:22:50.835 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:22:50.835 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:22:50.836 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:22:50.837 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:22:50.839 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:22:50.848 +08:00 [DBG] Connection id "0HNC334L9GB0R" completed keep alive response.
2025-04-24 18:22:50.855 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - 401 0 null 51.7249ms
2025-04-24 18:22:56.105 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - null null
2025-04-24 18:22:56.112 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:22:56.113 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 18:22:56.115 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 18:22:56.120 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:22:56.122 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:22:56.131 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:22:56.136 +08:00 [DBG] Authorization was successful.
2025-04-24 18:22:56.137 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:22:56.145 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 18:22:56.151 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:22:56.153 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:22:56.158 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:22:56.166 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:22:56.167 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:22:56.169 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:22:56.171 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:22:56.180 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:22:56.183 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 18:22:56.185 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:22:56.197 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:22:56.213 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:22:56.216 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:22:56.218 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:22:56.235 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:22:56.236 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:22:56.236 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:22:56.237 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:56.247 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:22:56.251 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:22:56.252 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-24 18:22:56.254 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:22:56.267 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:22:56.278 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:56.285 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 13ms reading results.
2025-04-24 18:22:56.286 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:56.287 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:22:56.291 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:22:56.297 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:56.299 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:22:56.301 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:22:56.302 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:22:56.303 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:22:56.305 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:22:56.315 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:22:56.316 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:22:56.317 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:22:56.318 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:22:56.319 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:56.321 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 5ms reading results.
2025-04-24 18:22:56.355 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:22:56.463 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (108ms).
2025-04-24 18:22:57.047 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:22:57.168 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 18:22:57.203 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 18:22:57.213 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 18:22:57.230 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:22:57.233 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:22:57.234 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 1065.3795ms
2025-04-24 18:22:57.238 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:22:57.255 +08:00 [DBG] Connection id "0HNC334L9GB0R" completed keep alive response.
2025-04-24 18:22:57.367 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:22:57.382 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:22:57.385 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-24 18:22:57.387 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - 200 285 application/json; charset=utf-8 1281.9007ms
2025-04-24 18:23:52.408 +08:00 [DBG] Connection id "0HNC334L9GB0P" disconnecting.
2025-04-24 18:23:52.410 +08:00 [DBG] Connection id "0HNC334L9GB0P" stopped.
2025-04-24 18:23:52.412 +08:00 [DBG] Connection id "0HNC334L9GB0P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:25:08.616 +08:00 [DBG] Connection id "0HNC334L9GB0R" disconnecting.
2025-04-24 18:25:08.618 +08:00 [DBG] Connection id "0HNC334L9GB0R" stopped.
2025-04-24 18:25:08.620 +08:00 [DBG] Connection id "0HNC334L9GB0R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:26:00.275 +08:00 [INF] Application is shutting down...
2025-04-24 18:26:00.289 +08:00 [DBG] Hosting stopping
2025-04-24 18:26:00.327 +08:00 [DBG] Hosting stopped
2025-04-24 18:27:16.900 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:27:17.080 +08:00 [DBG] Hosting starting
2025-04-24 18:27:17.115 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:27:17.139 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:27:17.165 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:27:17.185 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:27:17.190 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:27:17.195 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:27:17.197 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:27:17.205 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:27:17.206 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:27:17.209 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:27:17.211 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:27:17.219 +08:00 [DBG] Middleware loaded
2025-04-24 18:27:17.222 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-24 18:27:17.223 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-24 18:27:17.306 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-24 18:27:17.338 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:27:17.338 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:27:17.339 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-24 18:27:17.339 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:27:17.339 +08:00 [INF] Hosting environment: Development
2025-04-24 18:27:17.339 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:27:17.339 +08:00 [DBG] Hosting started
2025-04-24 18:27:18.047 +08:00 [DBG] Connection id "0HNC33ABEA1BC" accepted.
2025-04-24 18:27:18.049 +08:00 [DBG] Connection id "0HNC33ABEA1BD" accepted.
2025-04-24 18:27:18.051 +08:00 [DBG] Connection id "0HNC33ABEA1BC" started.
2025-04-24 18:27:18.074 +08:00 [DBG] Connection id "0HNC33ABEA1BD" started.
2025-04-24 18:27:18.247 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:27:18.263 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:27:18.490 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 18:27:18.516 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 18:27:18.518 +08:00 [DBG] Connection id "0HNC33ABEA1BD" completed keep alive response.
2025-04-24 18:27:18.521 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 305.4452ms
2025-04-24 18:27:18.703 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 18:27:18.707 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 18:27:18.709 +08:00 [DBG] Connection id "0HNC33ABEA1BD" completed keep alive response.
2025-04-24 18:27:18.710 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 6.9306ms
2025-04-24 18:27:20.496 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:27:20.954 +08:00 [DBG] Connection id "0HNC33ABEA1BD" completed keep alive response.
2025-04-24 18:27:20.955 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 458.4265ms
2025-04-24 18:27:24.545 +08:00 [DBG] Connection id "0HNC33ABEA1BD" received FIN.
2025-04-24 18:27:24.546 +08:00 [DBG] Connection id "0HNC33ABEA1BC" received FIN.
2025-04-24 18:27:24.548 +08:00 [DBG] Connection id "0HNC33ABEA1BC" disconnecting.
2025-04-24 18:27:24.554 +08:00 [DBG] Connection id "0HNC33ABEA1BD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:27:24.555 +08:00 [DBG] Connection id "0HNC33ABEA1BD" disconnecting.
2025-04-24 18:27:24.555 +08:00 [DBG] Connection id "0HNC33ABEA1BC" stopped.
2025-04-24 18:27:24.557 +08:00 [DBG] Connection id "0HNC33ABEA1BC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:27:24.558 +08:00 [DBG] Connection id "0HNC33ABEA1BD" stopped.
2025-04-24 18:27:33.543 +08:00 [DBG] Connection id "0HNC33ABEA1BE" accepted.
2025-04-24 18:27:33.544 +08:00 [DBG] Connection id "0HNC33ABEA1BE" started.
2025-04-24 18:27:33.546 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 18:27:33.550 +08:00 [DBG] POST requests are not supported
2025-04-24 18:27:33.553 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 18:27:33.653 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 18:27:33.662 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 18:27:33.663 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:27:33.712 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:27:33.714 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:27:33.748 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 18:27:33.749 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:27:33.750 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:27:33.752 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:27:33.753 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:27:33.753 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:27:33.754 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:27:33.755 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:27:33.762 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:27:33.764 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 18:27:33.765 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:27:33.765 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:27:33.773 +08:00 [DBG] Connection id "0HNC33ABEA1BE", Request id "0HNC33ABEA1BE:00000001": started reading request body.
2025-04-24 18:27:33.775 +08:00 [DBG] Connection id "0HNC33ABEA1BE", Request id "0HNC33ABEA1BE:00000001": done reading request body.
2025-04-24 18:27:33.870 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:27:33.870 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:27:33.870 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:27:33.879 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:27:33.949 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:27:33.951 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 18:27:33.952 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 18:27:33.952 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 18:27:33.956 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 200.3184ms
2025-04-24 18:27:33.957 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:27:33.958 +08:00 [DBG] Connection id "0HNC33ABEA1BE" completed keep alive response.
2025-04-24 18:27:33.958 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 412.6565ms
2025-04-24 18:27:34.550 +08:00 [DBG] Connection id "0HNC33ABEA1BE" received FIN.
2025-04-24 18:27:34.550 +08:00 [DBG] Connection id "0HNC33ABEA1BE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:27:34.554 +08:00 [DBG] Connection id "0HNC33ABEA1BE" disconnecting.
2025-04-24 18:27:34.555 +08:00 [DBG] Connection id "0HNC33ABEA1BE" stopped.
2025-04-24 18:27:57.583 +08:00 [DBG] Connection id "0HNC33ABEA1BF" accepted.
2025-04-24 18:27:57.584 +08:00 [DBG] Connection id "0HNC33ABEA1BF" started.
2025-04-24 18:27:57.585 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:27:57.585 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:27:57.588 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:27:57.592 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:27:57.593 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:27:57.597 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:27:57.601 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:27:57.603 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:27:57.616 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:27:57.617 +08:00 [DBG] Connection id "0HNC33ABEA1BF" completed keep alive response.
2025-04-24 18:27:57.617 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 32.2109ms
2025-04-24 18:28:04.569 +08:00 [DBG] Connection id "0HNC33ABEA1BF" received FIN.
2025-04-24 18:28:04.569 +08:00 [DBG] Connection id "0HNC33ABEA1BF" disconnecting.
2025-04-24 18:28:04.570 +08:00 [DBG] Connection id "0HNC33ABEA1BF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:28:04.570 +08:00 [DBG] Connection id "0HNC33ABEA1BF" stopped.
2025-04-24 18:28:16.899 +08:00 [DBG] Connection id "0HNC33ABEA1BG" accepted.
2025-04-24 18:28:16.899 +08:00 [DBG] Connection id "0HNC33ABEA1BG" started.
2025-04-24 18:28:16.900 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:28:16.900 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:28:16.900 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:28:16.901 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:28:16.901 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:28:16.905 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:28:16.908 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:28:16.909 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:28:16.911 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:28:16.911 +08:00 [DBG] Connection id "0HNC33ABEA1BG" completed keep alive response.
2025-04-24 18:28:16.911 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 11.4105ms
2025-04-24 18:28:20.272 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:28:20.273 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:28:20.273 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:28:20.273 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:28:20.273 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:28:20.273 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:28:20.275 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:28:20.276 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:28:20.276 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:28:20.276 +08:00 [DBG] Connection id "0HNC33ABEA1BG" completed keep alive response.
2025-04-24 18:28:20.276 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 4.6086ms
2025-04-24 18:28:24.605 +08:00 [DBG] Connection id "0HNC33ABEA1BG" received FIN.
2025-04-24 18:28:24.605 +08:00 [DBG] Connection id "0HNC33ABEA1BG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:28:24.606 +08:00 [DBG] Connection id "0HNC33ABEA1BG" disconnecting.
2025-04-24 18:28:24.606 +08:00 [DBG] Connection id "0HNC33ABEA1BG" stopped.
2025-04-24 18:30:18.655 +08:00 [INF] Application is shutting down...
2025-04-24 18:30:18.658 +08:00 [DBG] Hosting stopping
2025-04-24 18:30:18.679 +08:00 [DBG] Hosting stopped
2025-04-24 18:32:40.498 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:32:40.687 +08:00 [DBG] Hosting starting
2025-04-24 18:32:40.717 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:32:40.739 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:32:40.840 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:32:40.963 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:32:40.973 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:32:40.980 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:32:40.985 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:32:41.016 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:32:41.023 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:32:41.029 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:32:41.031 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:32:41.119 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:32:41.121 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:32:41.122 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:32:41.123 +08:00 [INF] Hosting environment: Development
2025-04-24 18:32:41.124 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:32:41.126 +08:00 [DBG] Hosting started
2025-04-24 18:32:43.036 +08:00 [DBG] Connection id "0HNC33DC9KRJD" accepted.
2025-04-24 18:32:43.055 +08:00 [DBG] Connection id "0HNC33DC9KRJE" accepted.
2025-04-24 18:32:43.084 +08:00 [DBG] Connection id "0HNC33DC9KRJD" started.
2025-04-24 18:32:43.121 +08:00 [DBG] Connection id "0HNC33DC9KRJE" started.
2025-04-24 18:32:43.263 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:32:43.269 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:32:43.458 +08:00 [DBG] Connection id "0HNC33DC9KRJD" completed keep alive response.
2025-04-24 18:32:43.462 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 203.2575ms
2025-04-24 18:32:44.687 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:32:44.979 +08:00 [DBG] Connection id "0HNC33DC9KRJD" completed keep alive response.
2025-04-24 18:32:44.980 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 292.6873ms
2025-04-24 18:32:45.052 +08:00 [DBG] Connection id "0HNC33DC9KRJE" received FIN.
2025-04-24 18:32:45.060 +08:00 [DBG] Connection id "0HNC33DC9KRJD" received FIN.
2025-04-24 18:32:45.163 +08:00 [DBG] Connection id "0HNC33DC9KRJE" disconnecting.
2025-04-24 18:32:45.171 +08:00 [DBG] Connection id "0HNC33DC9KRJD" disconnecting.
2025-04-24 18:32:45.172 +08:00 [DBG] Connection id "0HNC33DC9KRJE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:32:45.176 +08:00 [DBG] Connection id "0HNC33DC9KRJD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:32:45.195 +08:00 [DBG] Connection id "0HNC33DC9KRJE" stopped.
2025-04-24 18:32:45.195 +08:00 [DBG] Connection id "0HNC33DC9KRJD" stopped.
2025-04-24 18:33:15.030 +08:00 [DBG] Connection id "0HNC33DC9KRJF" accepted.
2025-04-24 18:33:15.035 +08:00 [DBG] Connection id "0HNC33DC9KRJF" started.
2025-04-24 18:33:15.043 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:33:15.097 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:33:15.101 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 18:33:15.144 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:33:15.148 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:33:15.151 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:33:15.219 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:33:15.226 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:33:15.229 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:33:15.234 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:33:15.235 +08:00 [DBG] Connection id "0HNC33DC9KRJF" completed keep alive response.
2025-04-24 18:33:15.240 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 197.297ms
2025-04-24 18:33:25.056 +08:00 [DBG] Connection id "0HNC33DC9KRJF" received FIN.
2025-04-24 18:33:25.059 +08:00 [DBG] Connection id "0HNC33DC9KRJF" disconnecting.
2025-04-24 18:33:25.062 +08:00 [DBG] Connection id "0HNC33DC9KRJF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:33:25.082 +08:00 [DBG] Connection id "0HNC33DC9KRJF" stopped.
2025-04-24 18:35:14.571 +08:00 [INF] Application is shutting down...
2025-04-24 18:35:14.574 +08:00 [DBG] Hosting stopping
2025-04-24 18:35:14.587 +08:00 [DBG] Hosting stopped
2025-04-24 18:35:38.819 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:35:39.384 +08:00 [DBG] Hosting starting
2025-04-24 18:35:39.471 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:35:39.511 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:35:39.886 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:35:39.967 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:35:39.995 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:35:40.033 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:35:40.061 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:35:40.278 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:35:40.354 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:35:40.360 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:35:40.362 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:35:40.958 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:35:41.459 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:35:42.005 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:35:42.350 +08:00 [INF] Hosting environment: Development
2025-04-24 18:35:42.378 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:35:42.401 +08:00 [DBG] Hosting started
2025-04-24 18:35:56.073 +08:00 [DBG] Connection id "0HNC33F5QJCAS" accepted.
2025-04-24 18:35:56.084 +08:00 [DBG] Connection id "0HNC33F5QJCAS" started.
2025-04-24 18:35:56.109 +08:00 [DBG] Connection id "0HNC33F5QJCAT" accepted.
2025-04-24 18:35:56.111 +08:00 [DBG] Connection id "0HNC33F5QJCAT" started.
2025-04-24 18:35:56.187 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:35:56.195 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:35:56.492 +08:00 [DBG] Connection id "0HNC33F5QJCAT" completed keep alive response.
2025-04-24 18:35:56.500 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 318.8159ms
2025-04-24 18:35:57.794 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:35:58.054 +08:00 [DBG] Connection id "0HNC33F5QJCAT" completed keep alive response.
2025-04-24 18:35:58.057 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 262.861ms
2025-04-24 18:36:00.244 +08:00 [DBG] Connection id "0HNC33F5QJCAT" received FIN.
2025-04-24 18:36:00.244 +08:00 [DBG] Connection id "0HNC33F5QJCAS" received FIN.
2025-04-24 18:36:00.256 +08:00 [DBG] Connection id "0HNC33F5QJCAT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:36:00.261 +08:00 [DBG] Connection id "0HNC33F5QJCAS" disconnecting.
2025-04-24 18:36:00.273 +08:00 [DBG] Connection id "0HNC33F5QJCAT" disconnecting.
2025-04-24 18:36:00.274 +08:00 [DBG] Connection id "0HNC33F5QJCAS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:36:00.278 +08:00 [DBG] Connection id "0HNC33F5QJCAT" stopped.
2025-04-24 18:36:00.290 +08:00 [DBG] Connection id "0HNC33F5QJCAS" stopped.
2025-04-24 18:36:09.827 +08:00 [INF] Application is shutting down...
2025-04-24 18:36:09.829 +08:00 [DBG] Hosting stopping
2025-04-24 18:36:09.871 +08:00 [DBG] Hosting stopped
2025-04-24 18:36:28.376 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:36:28.585 +08:00 [DBG] Hosting starting
2025-04-24 18:36:28.613 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:36:28.635 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:36:28.651 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:36:28.669 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:36:28.685 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:36:28.689 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:36:28.691 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:36:28.704 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:36:28.706 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:36:28.709 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:36:28.710 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:36:28.722 +08:00 [DBG] Middleware loaded
2025-04-24 18:36:28.724 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-24 18:36:28.726 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-24 18:36:28.791 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-24 18:36:28.819 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:36:28.819 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:36:28.820 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-24 18:36:28.820 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:36:28.821 +08:00 [INF] Hosting environment: Development
2025-04-24 18:36:28.821 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:36:28.821 +08:00 [DBG] Hosting started
2025-04-24 18:36:29.218 +08:00 [DBG] Connection id "0HNC33FFMMFBK" accepted.
2025-04-24 18:36:29.220 +08:00 [DBG] Connection id "0HNC33FFMMFBL" accepted.
2025-04-24 18:36:29.221 +08:00 [DBG] Connection id "0HNC33FFMMFBK" started.
2025-04-24 18:36:29.233 +08:00 [DBG] Connection id "0HNC33FFMMFBL" started.
2025-04-24 18:36:29.600 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:36:29.673 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:36:29.942 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 18:36:29.959 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 18:36:29.959 +08:00 [DBG] Connection id "0HNC33FFMMFBK" completed keep alive response.
2025-04-24 18:36:29.966 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 367.4673ms
2025-04-24 18:36:30.133 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 18:36:30.135 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 18:36:30.136 +08:00 [DBG] Connection id "0HNC33FFMMFBK" completed keep alive response.
2025-04-24 18:36:30.136 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 3.6615ms
2025-04-24 18:36:30.336 +08:00 [DBG] Connection id "0HNC33FFMMFBL" received FIN.
2025-04-24 18:36:30.338 +08:00 [DBG] Connection id "0HNC33FFMMFBK" received FIN.
2025-04-24 18:36:30.339 +08:00 [DBG] Connection id "0HNC33FFMMFBL" disconnecting.
2025-04-24 18:36:30.340 +08:00 [DBG] Connection id "0HNC33FFMMFBL" stopped.
2025-04-24 18:36:30.346 +08:00 [DBG] Connection id "0HNC33FFMMFBK" disconnecting.
2025-04-24 18:36:30.346 +08:00 [DBG] Connection id "0HNC33FFMMFBK" stopped.
2025-04-24 18:36:30.346 +08:00 [DBG] Connection id "0HNC33FFMMFBL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:36:30.351 +08:00 [DBG] Connection id "0HNC33FFMMFBK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:36:31.399 +08:00 [DBG] Connection id "0HNC33FFMMFBM" accepted.
2025-04-24 18:36:31.399 +08:00 [DBG] Connection id "0HNC33FFMMFBM" started.
2025-04-24 18:36:31.400 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:36:31.732 +08:00 [DBG] Connection id "0HNC33FFMMFBM" completed keep alive response.
2025-04-24 18:36:31.732 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 332.832ms
2025-04-24 18:36:40.347 +08:00 [DBG] Connection id "0HNC33FFMMFBM" received FIN.
2025-04-24 18:36:40.348 +08:00 [DBG] Connection id "0HNC33FFMMFBM" disconnecting.
2025-04-24 18:36:40.348 +08:00 [DBG] Connection id "0HNC33FFMMFBM" stopped.
2025-04-24 18:36:40.348 +08:00 [DBG] Connection id "0HNC33FFMMFBM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:37:14.718 +08:00 [DBG] Connection id "0HNC33FFMMFBN" accepted.
2025-04-24 18:37:14.719 +08:00 [DBG] Connection id "0HNC33FFMMFBO" accepted.
2025-04-24 18:37:14.720 +08:00 [DBG] Connection id "0HNC33FFMMFBN" started.
2025-04-24 18:37:14.720 +08:00 [DBG] Connection id "0HNC33FFMMFBO" started.
2025-04-24 18:37:14.724 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:37:14.730 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 18:37:14.732 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 18:37:14.733 +08:00 [DBG] Connection id "0HNC33FFMMFBO" completed keep alive response.
2025-04-24 18:37:14.736 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 12.4605ms
2025-04-24 18:37:14.822 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 18:37:14.823 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 18:37:14.826 +08:00 [DBG] Connection id "0HNC33FFMMFBO" completed keep alive response.
2025-04-24 18:37:14.827 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 4.6061ms
2025-04-24 18:37:15.040 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:37:15.100 +08:00 [DBG] Connection id "0HNC33FFMMFBO" completed keep alive response.
2025-04-24 18:37:15.101 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.4409ms
2025-04-24 18:38:12.359 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 18:38:12.370 +08:00 [DBG] POST requests are not supported
2025-04-24 18:38:12.378 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 18:38:12.448 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 18:38:12.453 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 18:38:12.454 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:38:12.520 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:38:12.525 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:38:12.574 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 18:38:12.579 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:38:12.581 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:38:12.582 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:38:12.583 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:38:12.583 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:38:12.587 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:38:12.587 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:38:12.599 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:38:12.601 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 18:38:12.603 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:38:12.604 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:38:12.621 +08:00 [DBG] Connection id "0HNC33FFMMFBO", Request id "0HNC33FFMMFBO:00000004": started reading request body.
2025-04-24 18:38:12.626 +08:00 [DBG] Connection id "0HNC33FFMMFBO", Request id "0HNC33FFMMFBO:00000004": done reading request body.
2025-04-24 18:38:12.787 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:38:12.789 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:38:12.789 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:38:12.800 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:38:12.887 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:38:12.895 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 18:38:12.897 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 18:38:12.899 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 18:38:12.917 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 318.4093ms
2025-04-24 18:38:12.917 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:38:12.917 +08:00 [DBG] Connection id "0HNC33FFMMFBO" completed keep alive response.
2025-04-24 18:38:12.921 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 561.6691ms
2025-04-24 18:38:16.186 +08:00 [DBG] Connection id "0HNC33FFMMFBN" received FIN.
2025-04-24 18:38:16.186 +08:00 [DBG] Connection id "0HNC33FFMMFBN" disconnecting.
2025-04-24 18:38:16.186 +08:00 [DBG] Connection id "0HNC33FFMMFBN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:38:16.193 +08:00 [DBG] Connection id "0HNC33FFMMFBN" stopped.
2025-04-24 18:38:16.193 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:38:16.195 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 18:38:16.195 +08:00 [DBG] Connection id "0HNC33FFMMFBP" accepted.
2025-04-24 18:38:16.196 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 18:38:16.196 +08:00 [DBG] Connection id "0HNC33FFMMFBO" completed keep alive response.
2025-04-24 18:38:16.196 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 2.3202ms
2025-04-24 18:38:16.196 +08:00 [DBG] Connection id "0HNC33FFMMFBP" started.
2025-04-24 18:38:16.267 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 18:38:16.267 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 18:38:16.267 +08:00 [DBG] Connection id "0HNC33FFMMFBO" completed keep alive response.
2025-04-24 18:38:16.267 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.7554ms
2025-04-24 18:38:17.380 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:38:17.418 +08:00 [DBG] Connection id "0HNC33FFMMFBO" completed keep alive response.
2025-04-24 18:38:17.419 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.4438ms
2025-04-24 18:38:23.525 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 18:38:23.525 +08:00 [DBG] POST requests are not supported
2025-04-24 18:38:23.528 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 18:38:23.528 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 18:38:23.529 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:38:23.534 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:38:23.534 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:38:23.534 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 18:38:23.535 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:38:23.535 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:38:23.535 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:38:23.535 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:38:23.535 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:38:23.535 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:38:23.535 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:38:23.547 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:38:23.549 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 18:38:23.549 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:38:23.549 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:38:23.550 +08:00 [DBG] Connection id "0HNC33FFMMFBO", Request id "0HNC33FFMMFBO:00000008": started reading request body.
2025-04-24 18:38:23.550 +08:00 [DBG] Connection id "0HNC33FFMMFBO", Request id "0HNC33FFMMFBO:00000008": done reading request body.
2025-04-24 18:38:23.551 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:38:23.551 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:38:23.551 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:38:23.553 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:38:23.563 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:38:23.564 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 18:38:23.564 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 18:38:23.564 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 18:38:23.565 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 29.5832ms
2025-04-24 18:38:23.565 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:38:23.565 +08:00 [DBG] Connection id "0HNC33FFMMFBO" completed keep alive response.
2025-04-24 18:38:23.565 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 40.3206ms
2025-04-24 18:38:34.139 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:38:34.140 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:38:34.140 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:38:34.140 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:38:34.140 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:38:34.196 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:38:34.203 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:38:34.217 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:38:34.224 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:38:34.225 +08:00 [DBG] Connection id "0HNC33FFMMFBO" completed keep alive response.
2025-04-24 18:38:34.225 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 85.9268ms
2025-04-24 18:38:56.611 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:38:56.611 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:38:56.612 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:38:56.612 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:38:56.612 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:38:56.700 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:38:56.701 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:38:56.705 +08:00 [DBG] Authorization was successful.
2025-04-24 18:38:56.705 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:38:56.713 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 18:38:56.713 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:38:56.713 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:38:56.713 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:38:56.713 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:38:56.713 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:38:56.713 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:38:56.840 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-24 18:38:56.992 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:38:56.992 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:38:56.992 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 18:38:56.994 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:38:56.994 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:38:56.994 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:38:56.994 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:38:57.765 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:38:57.806 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-24 18:38:58.046 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 18:38:58.095 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:38:58.115 +08:00 [DBG] Created DbConnection. (19ms).
2025-04-24 18:38:58.117 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:38:58.147 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:38:58.157 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:38:58.166 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-04-24 18:38:58.178 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2025-04-24 18:38:58.193 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:38:58.233 +08:00 [INF] Executed DbCommand (44ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:38:58.246 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:38:58.250 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 13ms reading results.
2025-04-24 18:38:58.257 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:38:58.262 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-24 18:38:58.268 +08:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-04-24 18:38:58.342 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PointOfInterest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PointOfInterest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PointOfInterest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PointOfInterest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (PointOfInterest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                        {
                            return 
                            {
                                PointOfInterest instance;
                                instance = new PointOfInterest(dataReader.GetString(3));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CityId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PointOfInterest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 18:38:58.361 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:38:58.361 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:38:58.361 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:38:58.361 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:38:58.362 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:38:58.362 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:38:58.363 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:38:58.382 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:38:58.407 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:38:58.408 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:38:58.408 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:38:58.409 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:38:58.409 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 45ms reading results.
2025-04-24 18:38:58.409 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:38:58.409 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:38:58.426 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:38:58.426 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 18:38:58.429 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 18:38:58.429 +08:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2025-04-24 18:38:58.431 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:38:58.432 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-04-24 18:38:58.432 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 18:38:58.432 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 1719.1351ms
2025-04-24 18:38:58.432 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:38:58.432 +08:00 [DBG] Connection id "0HNC33FFMMFBO" completed keep alive response.
2025-04-24 18:38:58.442 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:38:58.450 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:38:58.451 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:38:58.458 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 406 0 null 1847.6269ms
2025-04-24 18:39:00.522 +08:00 [DBG] Connection id "0HNC33FFMMFBP" received FIN.
2025-04-24 18:39:00.522 +08:00 [DBG] Connection id "0HNC33FFMMFBO" received FIN.
2025-04-24 18:39:00.522 +08:00 [DBG] Connection id "0HNC33FFMMFBP" disconnecting.
2025-04-24 18:39:00.522 +08:00 [DBG] Connection id "0HNC33FFMMFBP" stopped.
2025-04-24 18:39:00.522 +08:00 [DBG] Connection id "0HNC33FFMMFBO" disconnecting.
2025-04-24 18:39:00.522 +08:00 [DBG] Connection id "0HNC33FFMMFBO" stopped.
2025-04-24 18:39:00.522 +08:00 [DBG] Connection id "0HNC33FFMMFBP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:39:00.523 +08:00 [DBG] Connection id "0HNC33FFMMFBO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:39:03.727 +08:00 [DBG] Connection id "0HNC33FFMMFBQ" accepted.
2025-04-24 18:39:03.727 +08:00 [DBG] Connection id "0HNC33FFMMFBQ" started.
2025-04-24 18:39:03.728 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:39:03.731 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:39:03.731 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:39:03.732 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:39:03.732 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:39:03.734 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:39:03.734 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:39:03.740 +08:00 [DBG] Authorization was successful.
2025-04-24 18:39:03.741 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:39:03.741 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 18:39:03.741 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:39:03.741 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:39:03.741 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:39:03.742 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:39:03.742 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:39:03.742 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:39:03.746 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:39:03.747 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:39:03.748 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 18:39:03.748 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:39:03.748 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:39:03.748 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:39:03.748 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:39:03.782 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:39:03.790 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:39:03.792 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:39:03.792 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:39:03.793 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:39:03.793 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:39:03.793 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:39:03.793 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:39:03.793 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:39:03.793 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:39:03.794 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:39:03.794 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2025-04-24 18:39:03.794 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:39:03.794 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:39:03.795 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:39:03.795 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:39:03.796 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:39:03.796 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:39:03.796 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:39:03.797 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:39:03.797 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:39:03.797 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:39:03.797 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:39:03.797 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:39:03.798 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:39:03.800 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:39:03.800 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-24 18:39:03.800 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:39:03.800 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:39:03.801 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:39:03.801 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 18:39:03.801 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 18:39:03.801 +08:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2025-04-24 18:39:03.801 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:39:03.807 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-04-24 18:39:03.807 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 18:39:03.807 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 65.5782ms
2025-04-24 18:39:03.807 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:39:03.807 +08:00 [DBG] Connection id "0HNC33FFMMFBQ" completed keep alive response.
2025-04-24 18:39:03.808 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:39:03.808 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:39:03.808 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:39:03.808 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 406 0 null 80.0045ms
2025-04-24 18:39:04.351 +08:00 [DBG] Connection id "0HNC33FFMMFBR" accepted.
2025-04-24 18:39:04.352 +08:00 [DBG] Connection id "0HNC33FFMMFBR" started.
2025-04-24 18:39:04.379 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:39:04.380 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 18:39:04.381 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 18:39:04.381 +08:00 [DBG] Connection id "0HNC33FFMMFBQ" completed keep alive response.
2025-04-24 18:39:04.383 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 2.6939ms
2025-04-24 18:39:04.455 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 18:39:04.456 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 18:39:04.456 +08:00 [DBG] Connection id "0HNC33FFMMFBQ" completed keep alive response.
2025-04-24 18:39:04.456 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.5191ms
2025-04-24 18:39:04.588 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:39:04.629 +08:00 [DBG] Connection id "0HNC33FFMMFBQ" completed keep alive response.
2025-04-24 18:39:04.629 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.5822ms
2025-04-24 18:39:10.536 +08:00 [DBG] Connection id "0HNC33FFMMFBR" received FIN.
2025-04-24 18:39:10.536 +08:00 [DBG] Connection id "0HNC33FFMMFBQ" received FIN.
2025-04-24 18:39:10.536 +08:00 [DBG] Connection id "0HNC33FFMMFBQ" disconnecting.
2025-04-24 18:39:10.537 +08:00 [DBG] Connection id "0HNC33FFMMFBQ" stopped.
2025-04-24 18:39:10.537 +08:00 [DBG] Connection id "0HNC33FFMMFBQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:39:10.540 +08:00 [DBG] Connection id "0HNC33FFMMFBR" disconnecting.
2025-04-24 18:39:10.541 +08:00 [DBG] Connection id "0HNC33FFMMFBR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:39:10.542 +08:00 [DBG] Connection id "0HNC33FFMMFBR" stopped.
2025-04-24 18:39:12.496 +08:00 [INF] Application is shutting down...
2025-04-24 18:39:12.498 +08:00 [DBG] Hosting stopping
2025-04-24 18:39:12.524 +08:00 [DBG] Hosting stopped
2025-04-24 18:39:37.705 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:39:37.981 +08:00 [DBG] Hosting starting
2025-04-24 18:39:38.010 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:39:38.041 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:39:38.062 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:39:38.078 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:39:38.090 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:39:38.110 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:39:38.117 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:39:38.144 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:39:38.156 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:39:38.214 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:39:38.222 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:39:38.306 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:39:38.311 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:39:38.316 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:39:38.318 +08:00 [INF] Hosting environment: Development
2025-04-24 18:39:38.319 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:39:38.320 +08:00 [DBG] Hosting started
2025-04-24 18:39:41.086 +08:00 [DBG] Connection id "0HNC33H8SFNQP" accepted.
2025-04-24 18:39:41.094 +08:00 [DBG] Connection id "0HNC33H8SFNQP" started.
2025-04-24 18:39:41.097 +08:00 [DBG] Connection id "0HNC33H8SFNQQ" accepted.
2025-04-24 18:39:41.106 +08:00 [DBG] Connection id "0HNC33H8SFNQQ" started.
2025-04-24 18:39:41.172 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:39:41.178 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:39:41.343 +08:00 [DBG] Connection id "0HNC33H8SFNQP" completed keep alive response.
2025-04-24 18:39:41.345 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 180.2887ms
2025-04-24 18:39:42.653 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:39:42.930 +08:00 [DBG] Connection id "0HNC33H8SFNQP" completed keep alive response.
2025-04-24 18:39:42.936 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 283.0903ms
2025-04-24 18:39:45.592 +08:00 [DBG] Connection id "0HNC33H8SFNQP" received FIN.
2025-04-24 18:39:45.592 +08:00 [DBG] Connection id "0HNC33H8SFNQQ" received FIN.
2025-04-24 18:39:45.601 +08:00 [DBG] Connection id "0HNC33H8SFNQQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:39:45.601 +08:00 [DBG] Connection id "0HNC33H8SFNQP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:39:45.609 +08:00 [DBG] Connection id "0HNC33H8SFNQQ" disconnecting.
2025-04-24 18:39:45.611 +08:00 [DBG] Connection id "0HNC33H8SFNQP" disconnecting.
2025-04-24 18:39:45.619 +08:00 [DBG] Connection id "0HNC33H8SFNQP" stopped.
2025-04-24 18:39:45.623 +08:00 [DBG] Connection id "0HNC33H8SFNQQ" stopped.
2025-04-24 18:39:51.533 +08:00 [DBG] Connection id "0HNC33H8SFNQR" accepted.
2025-04-24 18:39:51.536 +08:00 [DBG] Connection id "0HNC33H8SFNQR" started.
2025-04-24 18:39:51.541 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 18:39:51.559 +08:00 [DBG] POST requests are not supported
2025-04-24 18:39:51.565 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 18:39:51.630 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 18:39:51.636 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 18:39:51.639 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:39:51.678 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:39:51.681 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:39:51.720 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 18:39:51.723 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:39:51.725 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:39:51.727 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:39:51.729 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:39:51.730 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:39:51.736 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:39:51.739 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:39:51.744 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:39:51.757 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 18:39:51.761 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:39:51.764 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:39:51.776 +08:00 [DBG] Connection id "0HNC33H8SFNQR", Request id "0HNC33H8SFNQR:00000001": started reading request body.
2025-04-24 18:39:51.778 +08:00 [DBG] Connection id "0HNC33H8SFNQR", Request id "0HNC33H8SFNQR:00000001": done reading request body.
2025-04-24 18:39:51.884 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:39:51.886 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:39:51.888 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:39:51.897 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:39:51.970 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:39:51.975 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 18:39:51.977 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 18:39:51.980 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 18:39:51.995 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 259.0409ms
2025-04-24 18:39:51.997 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:39:51.998 +08:00 [DBG] Connection id "0HNC33H8SFNQR" completed keep alive response.
2025-04-24 18:39:52.007 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 465.9153ms
2025-04-24 18:39:55.608 +08:00 [DBG] Connection id "0HNC33H8SFNQR" received FIN.
2025-04-24 18:39:55.614 +08:00 [DBG] Connection id "0HNC33H8SFNQR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:39:55.618 +08:00 [DBG] Connection id "0HNC33H8SFNQR" disconnecting.
2025-04-24 18:39:55.621 +08:00 [DBG] Connection id "0HNC33H8SFNQR" stopped.
2025-04-24 18:40:00.904 +08:00 [DBG] Connection id "0HNC33H8SFNQS" accepted.
2025-04-24 18:40:00.908 +08:00 [DBG] Connection id "0HNC33H8SFNQS" started.
2025-04-24 18:40:00.911 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:40:00.926 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:40:00.929 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:40:00.931 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:40:00.937 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:40:00.940 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:40:00.944 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:40:00.950 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:40:00.959 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:40:00.960 +08:00 [DBG] Connection id "0HNC33H8SFNQS" completed keep alive response.
2025-04-24 18:40:00.962 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 50.8505ms
2025-04-24 18:40:04.817 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:40:04.829 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:40:04.842 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:40:04.845 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:40:04.847 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:40:04.856 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:40:04.858 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:40:04.859 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:40:04.861 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:40:04.862 +08:00 [DBG] Connection id "0HNC33H8SFNQS" completed keep alive response.
2025-04-24 18:40:04.864 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 46.2589ms
2025-04-24 18:40:05.619 +08:00 [DBG] Connection id "0HNC33H8SFNQS" received FIN.
2025-04-24 18:40:05.625 +08:00 [DBG] Connection id "0HNC33H8SFNQS" disconnecting.
2025-04-24 18:40:05.637 +08:00 [DBG] Connection id "0HNC33H8SFNQS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:40:05.642 +08:00 [DBG] Connection id "0HNC33H8SFNQS" stopped.
2025-04-24 18:40:14.453 +08:00 [DBG] Connection id "0HNC33H8SFNQT" accepted.
2025-04-24 18:40:14.455 +08:00 [DBG] Connection id "0HNC33H8SFNQT" started.
2025-04-24 18:40:14.457 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:40:14.460 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:40:14.464 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:40:14.474 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:40:14.477 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:40:14.555 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:40:14.556 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:40:14.559 +08:00 [DBG] Authorization was successful.
2025-04-24 18:40:14.561 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:40:14.573 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 18:40:14.575 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:40:14.577 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:40:14.578 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:40:14.580 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:40:14.585 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:40:14.587 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:40:14.729 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-24 18:40:14.918 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:40:14.919 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:40:14.923 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 18:40:14.925 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:40:14.927 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:40:14.928 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:40:14.929 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:40:15.610 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:40:15.662 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-24 18:40:15.928 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 18:40:15.980 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:40:16.002 +08:00 [DBG] Created DbConnection. (17ms).
2025-04-24 18:40:16.006 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:40:16.025 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:40:16.028 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:40:16.040 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-24 18:40:16.044 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-04-24 18:40:16.055 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:40:16.085 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:40:16.096 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:40:16.108 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 14ms reading results.
2025-04-24 18:40:16.112 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:40:16.121 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (9ms).
2025-04-24 18:40:16.128 +08:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-04-24 18:40:16.220 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PointOfInterest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PointOfInterest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PointOfInterest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PointOfInterest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (PointOfInterest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                        {
                            return 
                            {
                                PointOfInterest instance;
                                instance = new PointOfInterest(dataReader.GetString(3));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CityId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PointOfInterest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 18:40:16.228 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:40:16.229 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:40:16.234 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:40:16.240 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-24 18:40:16.241 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-24 18:40:16.242 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:40:16.244 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:40:16.285 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:40:16.310 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:40:16.311 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:40:16.312 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:40:16.314 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:40:16.318 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 72ms reading results.
2025-04-24 18:40:16.321 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:40:16.325 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-24 18:40:16.362 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:40:16.377 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:40:16.378 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:40:16.380 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:40:16.457 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 1870.2392ms
2025-04-24 18:40:16.525 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:40:16.626 +08:00 [DBG] Connection id "0HNC33H8SFNQT" completed keep alive response.
2025-04-24 18:40:16.751 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:40:16.794 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:40:16.821 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (24ms).
2025-04-24 18:40:16.835 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 200 285 application/json; charset=utf-8 2377.8484ms
2025-04-24 18:40:25.655 +08:00 [DBG] Connection id "0HNC33H8SFNQT" received FIN.
2025-04-24 18:40:25.659 +08:00 [DBG] Connection id "0HNC33H8SFNQT" disconnecting.
2025-04-24 18:40:25.661 +08:00 [DBG] Connection id "0HNC33H8SFNQT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:40:25.677 +08:00 [DBG] Connection id "0HNC33H8SFNQT" stopped.
2025-04-24 18:41:11.828 +08:00 [INF] Application is shutting down...
2025-04-24 18:41:11.830 +08:00 [DBG] Hosting stopping
2025-04-24 18:41:11.844 +08:00 [DBG] Hosting stopped
2025-04-24 18:41:24.567 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:41:24.916 +08:00 [DBG] Hosting starting
2025-04-24 18:41:24.949 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:41:24.970 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:41:24.987 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:41:25.008 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:41:25.018 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:41:25.024 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:41:25.026 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:41:25.038 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:41:25.040 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:41:25.042 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:41:25.043 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:41:25.050 +08:00 [DBG] Middleware loaded
2025-04-24 18:41:25.053 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-24 18:41:25.054 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-24 18:41:25.117 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-24 18:41:25.134 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:41:25.134 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:41:25.135 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-24 18:41:25.135 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:41:25.135 +08:00 [INF] Hosting environment: Development
2025-04-24 18:41:25.135 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:41:25.136 +08:00 [DBG] Hosting started
2025-04-24 18:41:25.523 +08:00 [DBG] Connection id "0HNC33I80FJH7" accepted.
2025-04-24 18:41:25.525 +08:00 [DBG] Connection id "0HNC33I80FJH8" accepted.
2025-04-24 18:41:25.528 +08:00 [DBG] Connection id "0HNC33I80FJH7" started.
2025-04-24 18:41:25.540 +08:00 [DBG] Connection id "0HNC33I80FJH8" started.
2025-04-24 18:41:25.728 +08:00 [DBG] Connection id "0HNC33I80FJH7" received FIN.
2025-04-24 18:41:25.732 +08:00 [DBG] Connection id "0HNC33I80FJH7" disconnecting.
2025-04-24 18:41:25.734 +08:00 [DBG] Connection id "0HNC33I80FJH7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:41:25.740 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:41:25.741 +08:00 [DBG] Connection id "0HNC33I80FJH7" stopped.
2025-04-24 18:41:25.767 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:41:26.039 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 18:41:26.056 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 18:41:26.056 +08:00 [DBG] Connection id "0HNC33I80FJH8" completed keep alive response.
2025-04-24 18:41:26.062 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 322.7996ms
2025-04-24 18:41:26.421 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 18:41:26.426 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 18:41:26.430 +08:00 [DBG] Connection id "0HNC33I80FJH8" completed keep alive response.
2025-04-24 18:41:26.431 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 11.89ms
2025-04-24 18:41:26.748 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:41:27.065 +08:00 [DBG] Connection id "0HNC33I80FJH8" completed keep alive response.
2025-04-24 18:41:27.066 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 317.1956ms
2025-04-24 18:41:35.725 +08:00 [DBG] Connection id "0HNC33I80FJH8" received FIN.
2025-04-24 18:41:35.732 +08:00 [DBG] Connection id "0HNC33I80FJH8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:41:35.733 +08:00 [DBG] Connection id "0HNC33I80FJH8" disconnecting.
2025-04-24 18:41:35.747 +08:00 [DBG] Connection id "0HNC33I80FJH8" stopped.
2025-04-24 18:41:35.808 +08:00 [DBG] Connection id "0HNC33I80FJH9" accepted.
2025-04-24 18:41:35.808 +08:00 [DBG] Connection id "0HNC33I80FJH9" started.
2025-04-24 18:41:35.809 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 18:41:35.813 +08:00 [DBG] POST requests are not supported
2025-04-24 18:41:35.815 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 18:41:35.859 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 18:41:35.866 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 18:41:35.868 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:41:35.892 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:41:35.898 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:41:35.931 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 18:41:35.933 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:41:35.933 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:41:35.935 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:41:35.935 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:41:35.935 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:41:35.938 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:41:35.939 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:41:35.942 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:41:35.947 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 18:41:35.950 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:41:35.950 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:41:35.955 +08:00 [DBG] Connection id "0HNC33I80FJH9", Request id "0HNC33I80FJH9:00000001": started reading request body.
2025-04-24 18:41:35.956 +08:00 [DBG] Connection id "0HNC33I80FJH9", Request id "0HNC33I80FJH9:00000001": done reading request body.
2025-04-24 18:41:36.040 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:41:36.040 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:41:36.040 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:41:36.049 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:41:36.090 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:41:36.092 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 18:41:36.095 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 18:41:36.097 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 18:41:36.101 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 162.6053ms
2025-04-24 18:41:36.101 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:41:36.102 +08:00 [DBG] Connection id "0HNC33I80FJH9" completed keep alive response.
2025-04-24 18:41:36.102 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 292.3588ms
2025-04-24 18:41:45.734 +08:00 [DBG] Connection id "0HNC33I80FJH9" received FIN.
2025-04-24 18:41:45.735 +08:00 [DBG] Connection id "0HNC33I80FJH9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:41:45.735 +08:00 [DBG] Connection id "0HNC33I80FJH9" disconnecting.
2025-04-24 18:41:45.735 +08:00 [DBG] Connection id "0HNC33I80FJH9" stopped.
2025-04-24 18:41:58.315 +08:00 [DBG] Connection id "0HNC33I80FJHA" accepted.
2025-04-24 18:41:58.316 +08:00 [DBG] Connection id "0HNC33I80FJHA" started.
2025-04-24 18:41:58.316 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:41:58.317 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:41:58.319 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:41:58.319 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:41:58.319 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:41:58.322 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:41:58.326 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:41:58.335 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:41:58.345 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:41:58.348 +08:00 [DBG] Connection id "0HNC33I80FJHA" completed keep alive response.
2025-04-24 18:41:58.348 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 31.5025ms
2025-04-24 18:42:05.741 +08:00 [DBG] Connection id "0HNC33I80FJHA" received FIN.
2025-04-24 18:42:05.741 +08:00 [DBG] Connection id "0HNC33I80FJHA" disconnecting.
2025-04-24 18:42:05.742 +08:00 [DBG] Connection id "0HNC33I80FJHA" stopped.
2025-04-24 18:42:05.743 +08:00 [DBG] Connection id "0HNC33I80FJHA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:42:08.189 +08:00 [DBG] Connection id "0HNC33I80FJHB" accepted.
2025-04-24 18:42:08.189 +08:00 [DBG] Connection id "0HNC33I80FJHB" started.
2025-04-24 18:42:08.190 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-24 18:42:08.190 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:42:08.190 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:42:08.190 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-24 18:42:08.190 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:42:08.295 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:42:08.296 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:42:08.300 +08:00 [DBG] Authorization was successful.
2025-04-24 18:42:08.300 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:42:08.307 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 18:42:08.307 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:42:08.307 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:42:08.311 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:42:08.311 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:42:08.312 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:42:08.312 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:42:08.438 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-24 18:42:08.611 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:42:08.612 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:42:08.612 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 18:42:08.613 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:42:08.613 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:42:08.613 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:42:08.614 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:42:09.240 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:42:09.284 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-24 18:42:09.600 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 18:42:09.659 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:42:09.686 +08:00 [DBG] Created DbConnection. (23ms).
2025-04-24 18:42:09.693 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:42:09.718 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:09.724 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:42:09.736 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-04-24 18:42:09.740 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-04-24 18:42:09.754 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:42:09.787 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:42:09.800 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:09.808 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 13ms reading results.
2025-04-24 18:42:09.814 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:09.818 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-24 18:42:09.824 +08:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-04-24 18:42:09.889 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PointOfInterest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PointOfInterest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PointOfInterest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PointOfInterest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (PointOfInterest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                        {
                            return 
                            {
                                PointOfInterest instance;
                                instance = new PointOfInterest(dataReader.GetString(3));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CityId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PointOfInterest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 18:42:09.900 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:42:09.901 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:09.901 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:42:09.901 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:42:09.901 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:42:09.901 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:42:09.902 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:42:09.926 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:42:09.950 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:42:09.950 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:09.950 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 48ms reading results.
2025-04-24 18:42:09.950 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:09.951 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:42:09.965 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:42:09.966 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:42:09.966 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:42:09.966 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:42:10.033 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 1721.1212ms
2025-04-24 18:42:10.033 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:42:10.033 +08:00 [DBG] Connection id "0HNC33I80FJHB" completed keep alive response.
2025-04-24 18:42:10.037 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:42:10.045 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:42:10.050 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-24 18:42:10.065 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 200 207 application/json; charset=utf-8 1875.2324ms
2025-04-24 18:42:15.766 +08:00 [DBG] Connection id "0HNC33I80FJHB" received FIN.
2025-04-24 18:42:15.766 +08:00 [DBG] Connection id "0HNC33I80FJHB" disconnecting.
2025-04-24 18:42:15.766 +08:00 [DBG] Connection id "0HNC33I80FJHB" stopped.
2025-04-24 18:42:15.766 +08:00 [DBG] Connection id "0HNC33I80FJHB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:42:15.869 +08:00 [DBG] Connection id "0HNC33I80FJHC" accepted.
2025-04-24 18:42:15.869 +08:00 [DBG] Connection id "0HNC33I80FJHC" started.
2025-04-24 18:42:15.872 +08:00 [DBG] Connection id "0HNC33I80FJHD" accepted.
2025-04-24 18:42:15.873 +08:00 [DBG] Connection id "0HNC33I80FJHD" started.
2025-04-24 18:42:15.900 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:42:15.903 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 18:42:15.903 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 18:42:15.903 +08:00 [DBG] Connection id "0HNC33I80FJHC" completed keep alive response.
2025-04-24 18:42:15.903 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 3.5331ms
2025-04-24 18:42:15.978 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 18:42:15.980 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 18:42:15.980 +08:00 [DBG] Connection id "0HNC33I80FJHC" completed keep alive response.
2025-04-24 18:42:15.980 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 1.3889ms
2025-04-24 18:42:17.605 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:42:17.634 +08:00 [DBG] Connection id "0HNC33I80FJHC" completed keep alive response.
2025-04-24 18:42:17.634 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.9794ms
2025-04-24 18:42:19.706 +08:00 [DBG] Connection id "0HNC33I80FJHE" accepted.
2025-04-24 18:42:19.707 +08:00 [DBG] Connection id "0HNC33I80FJHE" started.
2025-04-24 18:42:19.714 +08:00 [DBG] Connection id "0HNC33I80FJHE" received FIN.
2025-04-24 18:42:19.715 +08:00 [DBG] Connection id "0HNC33I80FJHF" accepted.
2025-04-24 18:42:19.716 +08:00 [DBG] Connection id "0HNC33I80FJHE" disconnecting.
2025-04-24 18:42:19.716 +08:00 [DBG] Connection id "0HNC33I80FJHE" stopped.
2025-04-24 18:42:19.716 +08:00 [DBG] Connection id "0HNC33I80FJHF" started.
2025-04-24 18:42:19.717 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - null null
2025-04-24 18:42:19.717 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:42:19.717 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 18:42:19.717 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 18:42:19.717 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:42:19.719 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:42:19.719 +08:00 [DBG] Connection id "0HNC33I80FJHE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:42:19.719 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:42:19.721 +08:00 [DBG] Authorization was successful.
2025-04-24 18:42:19.721 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:42:19.721 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 18:42:19.722 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:42:19.722 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:42:19.722 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:42:19.722 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:42:19.722 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:42:19.722 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:42:19.729 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 18:42:19.730 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:42:19.730 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 18:42:19.730 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:42:19.730 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:42:19.730 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 18:42:19.730 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 18:42:19.783 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:42:19.801 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:42:19.802 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:42:19.802 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:42:19.802 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:19.802 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:42:19.802 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:42:19.802 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:42:19.802 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:42:19.803 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 18:42:19.803 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:19.803 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2025-04-24 18:42:19.803 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:19.804 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:42:19.804 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:42:19.805 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:19.805 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:42:19.805 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:42:19.805 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:42:19.805 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:42:19.805 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 18:42:19.806 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:42:19.806 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:42:19.806 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:19.806 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2025-04-24 18:42:19.806 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:42:19.806 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:42:19.812 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:42:19.813 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 18:42:19.813 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 18:42:19.813 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 18:42:19.814 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:42:19.814 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:42:19.815 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 93.2294ms
2025-04-24 18:42:19.815 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 18:42:19.815 +08:00 [DBG] Connection id "0HNC33I80FJHF" completed keep alive response.
2025-04-24 18:42:19.816 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:42:19.816 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:42:19.816 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:42:19.841 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - 200 207 application/json; charset=utf-8 124.1574ms
2025-04-24 18:42:23.895 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:42:23.896 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 18:42:23.896 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 18:42:23.896 +08:00 [DBG] Connection id "0HNC33I80FJHC" completed keep alive response.
2025-04-24 18:42:23.897 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.1181ms
2025-04-24 18:42:23.985 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 18:42:23.985 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 18:42:23.985 +08:00 [DBG] Connection id "0HNC33I80FJHC" completed keep alive response.
2025-04-24 18:42:23.985 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4473ms
2025-04-24 18:42:25.101 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:42:25.131 +08:00 [DBG] Connection id "0HNC33I80FJHC" completed keep alive response.
2025-04-24 18:42:25.132 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.8456ms
2025-04-24 18:42:25.775 +08:00 [DBG] Connection id "0HNC33I80FJHD" received FIN.
2025-04-24 18:42:25.775 +08:00 [DBG] Connection id "0HNC33I80FJHC" received FIN.
2025-04-24 18:42:25.776 +08:00 [DBG] Connection id "0HNC33I80FJHD" disconnecting.
2025-04-24 18:42:25.776 +08:00 [DBG] Connection id "0HNC33I80FJHD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:42:25.776 +08:00 [DBG] Connection id "0HNC33I80FJHC" disconnecting.
2025-04-24 18:42:25.776 +08:00 [DBG] Connection id "0HNC33I80FJHC" stopped.
2025-04-24 18:42:25.776 +08:00 [DBG] Connection id "0HNC33I80FJHC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:42:25.778 +08:00 [DBG] Connection id "0HNC33I80FJHD" stopped.
2025-04-24 18:43:12.153 +08:00 [DBG] Connection id "0HNC33I80FJHG" accepted.
2025-04-24 18:43:12.157 +08:00 [DBG] Connection id "0HNC33I80FJHH" accepted.
2025-04-24 18:43:12.158 +08:00 [DBG] Connection id "0HNC33I80FJHG" started.
2025-04-24 18:43:12.158 +08:00 [DBG] Connection id "0HNC33I80FJHH" started.
2025-04-24 18:43:12.166 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:43:12.167 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 18:43:12.167 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 18:43:12.167 +08:00 [DBG] Connection id "0HNC33I80FJHG" completed keep alive response.
2025-04-24 18:43:12.167 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.3758ms
2025-04-24 18:43:12.540 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 18:43:12.541 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 18:43:12.541 +08:00 [DBG] Connection id "0HNC33I80FJHG" completed keep alive response.
2025-04-24 18:43:12.541 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4879ms
2025-04-24 18:43:15.863 +08:00 [DBG] Connection id "0HNC33I80FJHH" received FIN.
2025-04-24 18:43:15.864 +08:00 [DBG] Connection id "0HNC33I80FJHG" received FIN.
2025-04-24 18:43:15.864 +08:00 [DBG] Connection id "0HNC33I80FJHH" disconnecting.
2025-04-24 18:43:15.864 +08:00 [DBG] Connection id "0HNC33I80FJHH" stopped.
2025-04-24 18:43:15.864 +08:00 [DBG] Connection id "0HNC33I80FJHG" disconnecting.
2025-04-24 18:43:15.864 +08:00 [DBG] Connection id "0HNC33I80FJHG" stopped.
2025-04-24 18:43:15.864 +08:00 [DBG] Connection id "0HNC33I80FJHH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:43:15.865 +08:00 [DBG] Connection id "0HNC33I80FJHG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:43:31.352 +08:00 [DBG] Connection id "0HNC33I80FJHI" accepted.
2025-04-24 18:43:31.352 +08:00 [DBG] Connection id "0HNC33I80FJHI" started.
2025-04-24 18:43:31.352 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:43:31.381 +08:00 [DBG] Connection id "0HNC33I80FJHI" completed keep alive response.
2025-04-24 18:43:31.381 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.6445ms
2025-04-24 18:43:33.631 +08:00 [DBG] Connection id "0HNC33I80FJHJ" accepted.
2025-04-24 18:43:33.631 +08:00 [DBG] Connection id "0HNC33I80FJHJ" started.
2025-04-24 18:43:33.634 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:43:33.635 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-24 18:43:33.636 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-24 18:43:33.636 +08:00 [DBG] Connection id "0HNC33I80FJHI" completed keep alive response.
2025-04-24 18:43:33.636 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.991ms
2025-04-24 18:43:33.702 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 18:43:33.702 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 18:43:33.702 +08:00 [DBG] Connection id "0HNC33I80FJHI" completed keep alive response.
2025-04-24 18:43:33.703 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.7492ms
2025-04-24 18:43:35.287 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:43:35.293 +08:00 [DBG] Connection id "0HNC33I80FJHI" completed keep alive response.
2025-04-24 18:43:35.293 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.5608ms
2025-04-24 18:43:35.877 +08:00 [DBG] Connection id "0HNC33I80FJHJ" received FIN.
2025-04-24 18:43:35.877 +08:00 [DBG] Connection id "0HNC33I80FJHI" received FIN.
2025-04-24 18:43:35.878 +08:00 [DBG] Connection id "0HNC33I80FJHJ" disconnecting.
2025-04-24 18:43:35.878 +08:00 [DBG] Connection id "0HNC33I80FJHJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:43:35.879 +08:00 [DBG] Connection id "0HNC33I80FJHI" disconnecting.
2025-04-24 18:43:35.879 +08:00 [DBG] Connection id "0HNC33I80FJHI" stopped.
2025-04-24 18:43:35.879 +08:00 [DBG] Connection id "0HNC33I80FJHI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:43:35.880 +08:00 [DBG] Connection id "0HNC33I80FJHJ" stopped.
2025-04-24 18:44:10.221 +08:00 [INF] Application is shutting down...
2025-04-24 18:44:10.226 +08:00 [DBG] Hosting stopping
2025-04-24 18:44:10.250 +08:00 [DBG] Connection id "0HNC33I80FJHF" disconnecting.
2025-04-24 18:44:10.250 +08:00 [DBG] Connection id "0HNC33I80FJHF" stopped.
2025-04-24 18:44:10.250 +08:00 [DBG] Connection id "0HNC33I80FJHF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:44:10.266 +08:00 [DBG] Hosting stopped
2025-04-24 18:44:19.951 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:44:20.139 +08:00 [DBG] Hosting starting
2025-04-24 18:44:20.164 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:44:20.191 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:44:20.250 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:44:20.273 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:44:20.282 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:44:20.336 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:44:20.345 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:44:20.361 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:44:20.364 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:44:20.366 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:44:20.373 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:44:20.448 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:44:20.450 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:44:20.452 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:44:20.453 +08:00 [INF] Hosting environment: Development
2025-04-24 18:44:20.455 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:44:20.457 +08:00 [DBG] Hosting started
2025-04-24 18:44:23.918 +08:00 [DBG] Connection id "0HNC33JT5P44V" accepted.
2025-04-24 18:44:23.922 +08:00 [DBG] Connection id "0HNC33JT5P44V" started.
2025-04-24 18:44:23.925 +08:00 [DBG] Connection id "0HNC33JT5P450" accepted.
2025-04-24 18:44:23.929 +08:00 [DBG] Connection id "0HNC33JT5P450" started.
2025-04-24 18:44:23.991 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:44:23.997 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:44:24.212 +08:00 [DBG] Connection id "0HNC33JT5P44V" completed keep alive response.
2025-04-24 18:44:24.219 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 232.6045ms
2025-04-24 18:44:25.426 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:44:25.699 +08:00 [DBG] Connection id "0HNC33JT5P44V" completed keep alive response.
2025-04-24 18:44:25.738 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 311.651ms
2025-04-24 18:44:25.957 +08:00 [DBG] Connection id "0HNC33JT5P44V" received FIN.
2025-04-24 18:44:25.957 +08:00 [DBG] Connection id "0HNC33JT5P450" received FIN.
2025-04-24 18:44:25.964 +08:00 [DBG] Connection id "0HNC33JT5P44V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:44:25.965 +08:00 [DBG] Connection id "0HNC33JT5P450" disconnecting.
2025-04-24 18:44:25.970 +08:00 [DBG] Connection id "0HNC33JT5P44V" disconnecting.
2025-04-24 18:44:25.972 +08:00 [DBG] Connection id "0HNC33JT5P450" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:44:25.974 +08:00 [DBG] Connection id "0HNC33JT5P44V" stopped.
2025-04-24 18:44:25.987 +08:00 [DBG] Connection id "0HNC33JT5P450" stopped.
2025-04-24 18:45:23.413 +08:00 [INF] Application is shutting down...
2025-04-24 18:45:23.417 +08:00 [DBG] Hosting stopping
2025-04-24 18:45:23.427 +08:00 [DBG] Hosting stopped
2025-04-24 18:45:57.008 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:45:57.240 +08:00 [DBG] Hosting starting
2025-04-24 18:45:57.268 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:45:57.301 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:45:57.322 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:45:57.345 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:45:57.358 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:45:57.363 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:45:57.369 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:45:57.388 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:45:57.395 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:45:57.402 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:45:57.405 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:45:57.460 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:45:57.461 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:45:57.464 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:45:57.465 +08:00 [INF] Hosting environment: Development
2025-04-24 18:45:57.466 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:45:57.467 +08:00 [DBG] Hosting started
2025-04-24 18:45:58.602 +08:00 [DBG] Connection id "0HNC33KPCOKT9" accepted.
2025-04-24 18:45:58.783 +08:00 [DBG] Connection id "0HNC33KPCOKT9" started.
2025-04-24 18:45:58.800 +08:00 [DBG] Connection id "0HNC33KPCOKTA" accepted.
2025-04-24 18:45:58.805 +08:00 [DBG] Connection id "0HNC33KPCOKTA" started.
2025-04-24 18:45:58.868 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:45:58.875 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:45:59.113 +08:00 [DBG] Connection id "0HNC33KPCOKTA" completed keep alive response.
2025-04-24 18:45:59.118 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 256.0452ms
2025-04-24 18:46:00.416 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:46:00.702 +08:00 [DBG] Connection id "0HNC33KPCOKTA" completed keep alive response.
2025-04-24 18:46:00.704 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 287.9231ms
2025-04-24 18:46:06.070 +08:00 [DBG] Connection id "0HNC33KPCOKTA" received FIN.
2025-04-24 18:46:06.071 +08:00 [DBG] Connection id "0HNC33KPCOKT9" received FIN.
2025-04-24 18:46:06.082 +08:00 [DBG] Connection id "0HNC33KPCOKTA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:46:06.082 +08:00 [DBG] Connection id "0HNC33KPCOKT9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:46:06.100 +08:00 [DBG] Connection id "0HNC33KPCOKTA" disconnecting.
2025-04-24 18:46:06.103 +08:00 [DBG] Connection id "0HNC33KPCOKT9" disconnecting.
2025-04-24 18:46:06.107 +08:00 [DBG] Connection id "0HNC33KPCOKTA" stopped.
2025-04-24 18:46:06.108 +08:00 [DBG] Connection id "0HNC33KPCOKT9" stopped.
2025-04-24 18:46:15.574 +08:00 [INF] Application is shutting down...
2025-04-24 18:46:15.576 +08:00 [DBG] Hosting stopping
2025-04-24 18:46:15.589 +08:00 [DBG] Hosting stopped
2025-04-24 18:46:24.899 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:46:25.102 +08:00 [DBG] Hosting starting
2025-04-24 18:46:25.134 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:46:25.168 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:46:25.189 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:46:25.204 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:46:25.209 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:46:25.216 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:46:25.219 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:46:25.227 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:46:25.231 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:46:25.235 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:46:25.237 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:46:25.318 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:46:25.322 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:46:25.325 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:46:25.326 +08:00 [INF] Hosting environment: Development
2025-04-24 18:46:25.330 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:46:25.334 +08:00 [DBG] Hosting started
2025-04-24 18:46:26.401 +08:00 [DBG] Connection id "0HNC33L1LS5KO" accepted.
2025-04-24 18:46:26.412 +08:00 [DBG] Connection id "0HNC33L1LS5KP" accepted.
2025-04-24 18:46:26.419 +08:00 [DBG] Connection id "0HNC33L1LS5KO" started.
2025-04-24 18:46:26.421 +08:00 [DBG] Connection id "0HNC33L1LS5KP" started.
2025-04-24 18:46:26.485 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:46:26.489 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:46:26.687 +08:00 [DBG] Connection id "0HNC33L1LS5KO" completed keep alive response.
2025-04-24 18:46:26.690 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 208.0397ms
2025-04-24 18:46:27.848 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:46:28.218 +08:00 [DBG] Connection id "0HNC33L1LS5KO" completed keep alive response.
2025-04-24 18:46:28.221 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 372.8822ms
2025-04-24 18:46:36.120 +08:00 [DBG] Connection id "0HNC33L1LS5KO" received FIN.
2025-04-24 18:46:36.121 +08:00 [DBG] Connection id "0HNC33L1LS5KP" received FIN.
2025-04-24 18:46:36.125 +08:00 [DBG] Connection id "0HNC33L1LS5KO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:46:36.125 +08:00 [DBG] Connection id "0HNC33L1LS5KP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:46:36.130 +08:00 [DBG] Connection id "0HNC33L1LS5KO" disconnecting.
2025-04-24 18:46:36.131 +08:00 [DBG] Connection id "0HNC33L1LS5KP" disconnecting.
2025-04-24 18:46:36.136 +08:00 [DBG] Connection id "0HNC33L1LS5KO" stopped.
2025-04-24 18:46:36.136 +08:00 [DBG] Connection id "0HNC33L1LS5KP" stopped.
2025-04-24 18:47:44.528 +08:00 [INF] Application is shutting down...
2025-04-24 18:47:44.531 +08:00 [DBG] Hosting stopping
2025-04-24 18:47:44.550 +08:00 [DBG] Hosting stopped
2025-04-24 18:48:11.403 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:48:11.571 +08:00 [DBG] Hosting starting
2025-04-24 18:48:11.587 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:48:11.617 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:48:11.631 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:48:11.647 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:48:11.665 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:48:11.669 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:48:11.673 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:48:11.680 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:48:11.682 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:48:11.685 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:48:11.686 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:48:11.737 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:48:11.740 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:48:11.742 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:48:11.743 +08:00 [INF] Hosting environment: Development
2025-04-24 18:48:11.744 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:48:11.745 +08:00 [DBG] Hosting started
2025-04-24 18:48:16.231 +08:00 [DBG] Connection id "0HNC33M2D9O60" accepted.
2025-04-24 18:48:16.239 +08:00 [DBG] Connection id "0HNC33M2D9O60" started.
2025-04-24 18:48:16.247 +08:00 [DBG] Connection id "0HNC33M2D9O61" accepted.
2025-04-24 18:48:16.250 +08:00 [DBG] Connection id "0HNC33M2D9O61" started.
2025-04-24 18:48:16.300 +08:00 [DBG] Connection id "0HNC33M2D9O60" received FIN.
2025-04-24 18:48:16.328 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:48:16.329 +08:00 [DBG] Connection id "0HNC33M2D9O60" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:48:16.337 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:48:16.341 +08:00 [DBG] Connection id "0HNC33M2D9O60" disconnecting.
2025-04-24 18:48:16.350 +08:00 [DBG] Connection id "0HNC33M2D9O60" stopped.
2025-04-24 18:48:16.532 +08:00 [DBG] Connection id "0HNC33M2D9O61" completed keep alive response.
2025-04-24 18:48:16.535 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 211.5159ms
2025-04-24 18:48:17.662 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:48:17.912 +08:00 [DBG] Connection id "0HNC33M2D9O61" completed keep alive response.
2025-04-24 18:48:17.948 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 286.9774ms
2025-04-24 18:48:26.303 +08:00 [DBG] Connection id "0HNC33M2D9O61" received FIN.
2025-04-24 18:48:26.314 +08:00 [DBG] Connection id "0HNC33M2D9O61" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:48:26.328 +08:00 [DBG] Connection id "0HNC33M2D9O61" disconnecting.
2025-04-24 18:48:26.340 +08:00 [DBG] Connection id "0HNC33M2D9O61" stopped.
2025-04-24 18:48:29.353 +08:00 [INF] Application is shutting down...
2025-04-24 18:48:29.355 +08:00 [DBG] Hosting stopping
2025-04-24 18:48:29.364 +08:00 [DBG] Hosting stopped
2025-04-24 18:48:48.071 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 18:48:48.234 +08:00 [DBG] Hosting starting
2025-04-24 18:48:48.261 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 18:48:48.283 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-24 18:48:48.342 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-24 18:48:48.557 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-24 18:48:48.566 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:48:48.575 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 18:48:48.579 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 18:48:48.593 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 18:48:48.599 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 18:48:48.603 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-24 18:48:48.607 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-24 18:48:48.666 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-24 18:48:48.668 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-24 18:48:48.670 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 18:48:48.671 +08:00 [INF] Hosting environment: Development
2025-04-24 18:48:48.672 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-24 18:48:48.673 +08:00 [DBG] Hosting started
2025-04-24 18:49:10.780 +08:00 [DBG] Connection id "0HNC33MILGQBK" accepted.
2025-04-24 18:49:10.783 +08:00 [DBG] Connection id "0HNC33MILGQBK" started.
2025-04-24 18:49:10.783 +08:00 [DBG] Connection id "0HNC33MILGQBL" accepted.
2025-04-24 18:49:10.906 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 18:49:10.945 +08:00 [DBG] Connection id "0HNC33MILGQBL" started.
2025-04-24 18:49:10.948 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 18:49:11.137 +08:00 [DBG] Connection id "0HNC33MILGQBK" completed keep alive response.
2025-04-24 18:49:11.142 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 241.9135ms
2025-04-24 18:49:11.356 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 18:49:11.666 +08:00 [DBG] Connection id "0HNC33MILGQBK" completed keep alive response.
2025-04-24 18:49:11.686 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 328.2671ms
2025-04-24 18:49:16.363 +08:00 [DBG] Connection id "0HNC33MILGQBL" received FIN.
2025-04-24 18:49:16.363 +08:00 [DBG] Connection id "0HNC33MILGQBK" received FIN.
2025-04-24 18:49:16.371 +08:00 [DBG] Connection id "0HNC33MILGQBL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:49:16.372 +08:00 [DBG] Connection id "0HNC33MILGQBK" disconnecting.
2025-04-24 18:49:16.377 +08:00 [DBG] Connection id "0HNC33MILGQBL" disconnecting.
2025-04-24 18:49:16.383 +08:00 [DBG] Connection id "0HNC33MILGQBK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:49:16.394 +08:00 [DBG] Connection id "0HNC33MILGQBK" stopped.
2025-04-24 18:49:16.394 +08:00 [DBG] Connection id "0HNC33MILGQBL" stopped.
2025-04-24 18:49:50.035 +08:00 [DBG] Connection id "0HNC33MILGQBM" accepted.
2025-04-24 18:49:50.044 +08:00 [DBG] Connection id "0HNC33MILGQBM" started.
2025-04-24 18:49:50.075 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=1&pageSize=10 - null null
2025-04-24 18:49:50.105 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:49:50.131 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-24 18:49:50.178 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:49:50.186 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:49:50.188 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:49:50.242 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:49:50.246 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:49:50.256 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:49:50.261 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:49:50.263 +08:00 [DBG] Connection id "0HNC33MILGQBM" completed keep alive response.
2025-04-24 18:49:50.264 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=1&pageSize=10 - 401 0 null 188.7917ms
2025-04-24 18:49:51.383 +08:00 [DBG] Connection id "0HNC33MILGQBM" received FIN.
2025-04-24 18:49:51.387 +08:00 [DBG] Connection id "0HNC33MILGQBM" disconnecting.
2025-04-24 18:49:51.392 +08:00 [DBG] Connection id "0HNC33MILGQBM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:49:51.401 +08:00 [DBG] Connection id "0HNC33MILGQBM" stopped.
2025-04-24 18:49:56.756 +08:00 [DBG] Connection id "0HNC33MILGQBN" accepted.
2025-04-24 18:49:56.759 +08:00 [DBG] Connection id "0HNC33MILGQBN" started.
2025-04-24 18:49:56.761 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 18:49:56.775 +08:00 [DBG] POST requests are not supported
2025-04-24 18:49:56.788 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 18:49:56.807 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 18:49:56.830 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:49:56.842 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:49:56.845 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:49:56.898 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 18:49:56.906 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:49:56.908 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:49:56.910 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:49:56.912 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:49:56.913 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:49:56.922 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:49:56.923 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 18:49:56.928 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:49:56.931 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 18:49:56.939 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:49:56.940 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 18:49:56.961 +08:00 [DBG] Connection id "0HNC33MILGQBN", Request id "0HNC33MILGQBN:00000001": started reading request body.
2025-04-24 18:49:56.963 +08:00 [DBG] Connection id "0HNC33MILGQBN", Request id "0HNC33MILGQBN:00000001": done reading request body.
2025-04-24 18:49:57.084 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:49:57.087 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:49:57.088 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 18:49:57.093 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 18:49:57.157 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:49:57.161 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 18:49:57.163 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 18:49:57.164 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 18:49:57.173 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 252.5828ms
2025-04-24 18:49:57.174 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 18:49:57.175 +08:00 [DBG] Connection id "0HNC33MILGQBN" completed keep alive response.
2025-04-24 18:49:57.176 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 415.2414ms
2025-04-24 18:50:01.384 +08:00 [DBG] Connection id "0HNC33MILGQBN" received FIN.
2025-04-24 18:50:01.391 +08:00 [DBG] Connection id "0HNC33MILGQBN" disconnecting.
2025-04-24 18:50:01.395 +08:00 [DBG] Connection id "0HNC33MILGQBN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:50:01.431 +08:00 [DBG] Connection id "0HNC33MILGQBN" stopped.
2025-04-24 18:50:09.987 +08:00 [DBG] Connection id "0HNC33MILGQBO" accepted.
2025-04-24 18:50:09.992 +08:00 [DBG] Connection id "0HNC33MILGQBO" started.
2025-04-24 18:50:09.995 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=1&pageSize=10 - null null
2025-04-24 18:50:10.023 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:50:10.025 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:50:10.027 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:50:10.029 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:10.136 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:50:10.138 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:50:10.141 +08:00 [DBG] Authorization was successful.
2025-04-24 18:50:10.142 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:10.155 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:50:10.157 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:50:10.158 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:50:10.160 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:50:10.161 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:50:10.163 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:50:10.167 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:10.290 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-24 18:50:10.477 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:10.482 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:50:10.485 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-04-24 18:50:10.490 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:10.491 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:10.492 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:50:10.494 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:50:10.496 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:10.497 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:50:10.502 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:10.505 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:10.506 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:10.507 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:10.509 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:10.510 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:10.511 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:50:10.513 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:10.514 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:10.519 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:10.523 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:10.524 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:10.525 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:50:10.527 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:10.528 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:10.529 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:10.530 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:11.240 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:50:11.324 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .Count()'
2025-04-24 18:50:11.593 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE c.Name == @__name_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE c.Name == @__name_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 18:50:11.644 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:50:11.662 +08:00 [DBG] Created DbConnection. (16ms).
2025-04-24 18:50:11.668 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:11.691 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:11.697 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:11.708 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-24 18:50:11.712 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-04-24 18:50:11.724 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:50:11.757 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[@__name_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:50:11.767 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:11.775 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 12ms reading results.
2025-04-24 18:50:11.780 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:11.786 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-24 18:50:11.795 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Id)
    .Skip(__p_1)
    .Take(__p_2)'
2025-04-24 18:50:11.866 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Id ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Id ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 18:50:11.875 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:11.876 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:11.878 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:11.879 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:50:11.880 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:50:11.882 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:50:11.885 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__name_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:50:11.911 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:11.933 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:11.935 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 47ms reading results.
2025-04-24 18:50:11.937 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:11.940 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 18:50:11.988 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:50:11.990 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:50:11.991 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:50:11.992 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:50:12.054 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1887.6607ms
2025-04-24 18:50:12.058 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:12.060 +08:00 [DBG] Connection id "0HNC33MILGQBO" completed keep alive response.
2025-04-24 18:50:12.066 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:50:12.090 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:12.096 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-24 18:50:12.113 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=1&pageSize=10 - 200 69 application/json; charset=utf-8 2118.3421ms
2025-04-24 18:50:21.413 +08:00 [DBG] Connection id "0HNC33MILGQBO" received FIN.
2025-04-24 18:50:21.415 +08:00 [DBG] Connection id "0HNC33MILGQBO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:50:21.418 +08:00 [DBG] Connection id "0HNC33MILGQBO" disconnecting.
2025-04-24 18:50:21.421 +08:00 [DBG] Connection id "0HNC33MILGQBO" stopped.
2025-04-24 18:50:21.552 +08:00 [DBG] Connection id "0HNC33MILGQBP" accepted.
2025-04-24 18:50:21.556 +08:00 [DBG] Connection id "0HNC33MILGQBP" started.
2025-04-24 18:50:21.558 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=10&pageSize=10 - null null
2025-04-24 18:50:21.563 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:50:21.573 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:50:21.589 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:50:21.611 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:21.635 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:50:21.639 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:50:21.643 +08:00 [DBG] Authorization was successful.
2025-04-24 18:50:21.644 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:21.651 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:50:21.653 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:50:21.655 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:50:21.657 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:50:21.659 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:50:21.660 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:50:21.662 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:21.670 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:21.671 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:50:21.673 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-04-24 18:50:21.675 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:21.676 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:21.678 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:50:21.679 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:50:21.680 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:21.689 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:50:21.691 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:21.692 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:21.696 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:21.712 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:21.713 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:21.726 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:21.727 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:50:21.728 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:21.729 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:21.730 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:21.736 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:21.737 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:21.739 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:50:21.740 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:21.741 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:21.742 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:21.743 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:21.767 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:50:21.785 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:50:21.876 +08:00 [DBG] Created DbConnection. (91ms).
2025-04-24 18:50:21.970 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:21.973 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:21.974 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:21.975 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:50:21.976 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:50:21.977 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:50:21.979 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:50:22.017 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:22.018 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:50:22.019 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:22.021 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:50:22.026 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:22.027 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:22.028 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:22.029 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:50:22.030 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:50:22.034 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:50:22.037 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:50:22.045 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:22.049 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:50:22.052 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:22.054 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 18:50:22.056 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:50:22.060 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:50:22.062 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:50:22.063 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:50:22.069 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 407.0384ms
2025-04-24 18:50:22.074 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:22.077 +08:00 [DBG] Connection id "0HNC33MILGQBP" completed keep alive response.
2025-04-24 18:50:22.078 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:50:22.079 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:22.084 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-24 18:50:22.087 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=10&pageSize=10 - 200 2 application/json; charset=utf-8 529.3655ms
2025-04-24 18:50:26.430 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=10&pageSize=1 - null null
2025-04-24 18:50:26.435 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:50:26.492 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:50:26.495 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:50:26.507 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:26.509 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:50:26.511 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:50:26.516 +08:00 [DBG] Authorization was successful.
2025-04-24 18:50:26.519 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:26.521 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:50:26.523 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:50:26.524 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:50:26.525 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:50:26.527 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:50:26.528 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:50:26.530 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:26.539 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:26.540 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:50:26.542 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-04-24 18:50:26.544 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:26.545 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:26.546 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:50:26.549 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:50:26.551 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:26.553 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:50:26.555 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:26.557 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:26.558 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:26.559 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:26.560 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:26.561 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:26.563 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:50:26.566 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:26.569 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:26.571 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:26.572 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:26.573 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:26.574 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:50:26.576 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:26.578 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:26.579 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:26.583 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:26.662 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:50:26.667 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:50:26.669 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 18:50:26.669 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:26.670 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:26.671 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:26.672 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:50:26.673 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:50:26.673 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:50:26.675 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:50:26.677 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:26.678 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2025-04-24 18:50:26.679 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:26.680 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:50:26.684 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:26.686 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:26.687 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:26.688 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:50:26.689 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:50:26.690 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:50:26.691 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:50:26.692 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:26.694 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:50:26.695 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:26.696 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:50:26.698 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:50:26.703 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:50:26.704 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:50:26.705 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:50:26.706 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 176.9346ms
2025-04-24 18:50:26.708 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:26.709 +08:00 [DBG] Connection id "0HNC33MILGQBP" completed keep alive response.
2025-04-24 18:50:26.709 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:50:26.710 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:26.713 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 18:50:26.720 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=10&pageSize=1 - 200 2 application/json; charset=utf-8 289.3308ms
2025-04-24 18:50:31.424 +08:00 [DBG] Connection id "0HNC33MILGQBP" received FIN.
2025-04-24 18:50:31.430 +08:00 [DBG] Connection id "0HNC33MILGQBP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:50:31.434 +08:00 [DBG] Connection id "0HNC33MILGQBP" disconnecting.
2025-04-24 18:50:31.436 +08:00 [DBG] Connection id "0HNC33MILGQBP" stopped.
2025-04-24 18:50:41.269 +08:00 [DBG] Connection id "0HNC33MILGQBQ" accepted.
2025-04-24 18:50:41.284 +08:00 [DBG] Connection id "0HNC33MILGQBQ" started.
2025-04-24 18:50:41.345 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=1&pageSize=10 - null null
2025-04-24 18:50:41.354 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:50:41.358 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:50:41.359 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:50:41.360 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:41.362 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:50:41.368 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:50:41.369 +08:00 [DBG] Authorization was successful.
2025-04-24 18:50:41.370 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:41.374 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:50:41.376 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:50:41.383 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:50:41.386 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:50:41.389 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:50:41.400 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:50:41.403 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:41.406 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:41.408 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:50:41.410 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2025-04-24 18:50:41.420 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:41.422 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:41.424 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:50:41.425 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:50:41.426 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:41.427 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:50:41.428 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:41.429 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:41.432 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:41.433 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:41.436 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:41.437 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:41.440 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:50:41.441 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:41.442 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:41.443 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:41.443 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:41.444 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:41.445 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:50:41.448 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:41.452 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:41.454 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:41.455 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:41.456 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:50:41.458 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:50:41.459 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:50:41.459 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:41.460 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:41.461 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:41.462 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:50:41.465 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:50:41.466 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:50:41.468 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2025-04-24 18:50:41.473 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:41.475 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:50:41.476 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:41.477 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:50:41.479 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:41.482 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:41.485 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:41.486 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:50:41.487 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:50:41.488 +08:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:50:41.489 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:50:41.491 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:41.492 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:41.493 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-24 18:50:41.494 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:41.495 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:50:41.498 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:50:41.502 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:50:41.503 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:50:41.504 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:50:41.505 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 101.5807ms
2025-04-24 18:50:41.506 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:41.508 +08:00 [DBG] Connection id "0HNC33MILGQBQ" completed keep alive response.
2025-04-24 18:50:41.508 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:50:41.509 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:41.510 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:50:41.511 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?name=Paris&pageNumber=1&pageSize=10 - 200 69 application/json; charset=utf-8 166.6131ms
2025-04-24 18:50:47.196 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-24 18:50:47.200 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:50:47.202 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:50:47.205 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:50:47.221 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:47.226 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:50:47.228 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:50:47.236 +08:00 [DBG] Authorization was successful.
2025-04-24 18:50:47.237 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:47.239 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:50:47.251 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:50:47.255 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:50:47.257 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:50:47.261 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:50:47.268 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:50:47.272 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:47.275 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:47.276 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:50:47.278 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:50:47.283 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:50:47.285 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:47.286 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:47.289 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:50:47.290 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:50:47.293 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:47.294 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:50:47.295 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:47.305 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:47.306 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:47.307 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:47.309 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:47.310 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:47.311 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:50:47.315 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:47.318 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:47.319 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:47.320 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:47.321 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:47.323 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:50:47.324 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:47.325 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:47.326 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:47.327 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:47.328 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:50:47.333 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-24 18:50:47.339 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 18:50:47.343 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:50:47.344 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:50:47.345 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:47.349 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:47.351 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:47.352 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:50:47.353 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:50:47.354 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:50:47.356 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:50:47.357 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:47.358 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:50:47.359 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:47.361 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:50:47.364 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-24 18:50:47.375 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 18:50:47.384 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:47.385 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:47.386 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:47.387 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:50:47.388 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:50:47.393 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:50:47.405 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:50:47.408 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:47.409 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:47.410 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:47.411 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:47.417 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:47.418 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:47.419 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:47.421 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:47.423 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:47.425 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:47.426 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:47.427 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 19ms reading results.
2025-04-24 18:50:47.435 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:47.436 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:50:47.437 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:50:47.439 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:50:47.441 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:50:47.442 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:50:47.444 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 171.7025ms
2025-04-24 18:50:47.454 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:47.456 +08:00 [DBG] Connection id "0HNC33MILGQBQ" completed keep alive response.
2025-04-24 18:50:47.456 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:50:47.457 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:47.459 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:50:47.462 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 200 838 application/json; charset=utf-8 265.2349ms
2025-04-24 18:50:51.439 +08:00 [DBG] Connection id "0HNC33MILGQBQ" received FIN.
2025-04-24 18:50:51.442 +08:00 [DBG] Connection id "0HNC33MILGQBQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:50:51.450 +08:00 [DBG] Connection id "0HNC33MILGQBQ" disconnecting.
2025-04-24 18:50:51.454 +08:00 [DBG] Connection id "0HNC33MILGQBQ" stopped.
2025-04-24 18:50:56.896 +08:00 [DBG] Connection id "0HNC33MILGQBR" accepted.
2025-04-24 18:50:56.901 +08:00 [DBG] Connection id "0HNC33MILGQBR" started.
2025-04-24 18:50:56.904 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=the&pageNumber=1&pageSize=10 - null null
2025-04-24 18:50:56.923 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:50:56.926 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:50:56.928 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:50:56.936 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:56.940 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:50:56.958 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:50:56.973 +08:00 [DBG] Authorization was successful.
2025-04-24 18:50:56.976 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:56.978 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:50:56.985 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:50:56.986 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:50:56.988 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:50:56.990 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:50:56.992 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:50:56.993 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:56.994 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:50:56.999 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:50:57.000 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:50:57.002 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:50:57.003 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:57.004 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:50:57.006 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:50:57.007 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:50:57.009 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:57.010 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2025-04-24 18:50:57.011 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:57.015 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:57.017 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:50:57.019 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:50:57.020 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:57.021 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:50:57.022 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:57.023 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:57.025 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:50:57.026 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:50:57.027 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:57.028 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:50:57.033 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:57.034 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:57.035 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:50:57.036 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:50:57.038 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:50:57.041 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(a => a.Name.Contains(__searchQuery_0) || a.Description != null && a.Description.Contains(__searchQuery_0))
    .Count()'
2025-04-24 18:50:57.076 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE (instr(c.Name, @__searchQuery_0) > 0) || ((c.Description != NULL) && (instr(c.Description, @__searchQuery_0) > 0))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE (instr(c.Name, @__searchQuery_0) > 0) || ((c.Description != NULL) && (instr(c.Description, @__searchQuery_0) > 0)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 18:50:57.091 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:50:57.092 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:50:57.093 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:57.095 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:57.099 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:57.100 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:50:57.101 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:50:57.102 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:50:57.104 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:50:57.105 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:57.107 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:50:57.108 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:57.109 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:50:57.110 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(a => a.Name.Contains(__searchQuery_0) || a.Description != null && a.Description.Contains(__searchQuery_0))
    .OrderBy(c => c.Id)
    .Skip(__p_1)
    .Take(__p_2)'
2025-04-24 18:50:57.128 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE (instr(c.Name, @__searchQuery_0) > 0) || ((c.Description != NULL) && (instr(c.Description, @__searchQuery_0) > 0))
        ORDER BY c.Id ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE (instr(c.Name, @__searchQuery_0) > 0) || ((c.Description != NULL) && (instr(c.Description, @__searchQuery_0) > 0))
        ORDER BY c.Id ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 18:50:57.140 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:57.141 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:57.142 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:50:57.143 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:50:57.144 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:50:57.145 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 3), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:50:57.152 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__searchQuery_0='?' (Size = 3), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:50:57.154 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:57.154 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:57.155 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:57.156 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:57.157 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:57.159 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:57.159 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:57.160 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:57.161 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:57.166 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:50:57.167 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:57.168 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 14ms reading results.
2025-04-24 18:50:57.169 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:50:57.171 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 18:50:57.173 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:50:57.174 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:50:57.175 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:50:57.176 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:50:57.177 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 184.3765ms
2025-04-24 18:50:57.184 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:50:57.187 +08:00 [DBG] Connection id "0HNC33MILGQBR" completed keep alive response.
2025-04-24 18:50:57.188 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:50:57.189 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:50:57.191 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 18:50:57.192 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=the&pageNumber=1&pageSize=10 - 200 858 application/json; charset=utf-8 288.4682ms
2025-04-24 18:51:01.441 +08:00 [DBG] Connection id "0HNC33MILGQBR" received FIN.
2025-04-24 18:51:01.444 +08:00 [DBG] Connection id "0HNC33MILGQBR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:51:01.448 +08:00 [DBG] Connection id "0HNC33MILGQBR" disconnecting.
2025-04-24 18:51:01.450 +08:00 [DBG] Connection id "0HNC33MILGQBR" stopped.
2025-04-24 18:51:05.908 +08:00 [DBG] Connection id "0HNC33MILGQBS" accepted.
2025-04-24 18:51:05.914 +08:00 [DBG] Connection id "0HNC33MILGQBS" started.
2025-04-24 18:51:05.917 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=Cathedral&pageNumber=1&pageSize=10 - null null
2025-04-24 18:51:05.929 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:51:05.934 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:51:05.936 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:51:05.972 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:05.973 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:51:05.982 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:51:05.987 +08:00 [DBG] Authorization was successful.
2025-04-24 18:51:05.988 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:05.989 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:51:05.993 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:51:06.000 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:51:06.001 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:51:06.003 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:51:06.005 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:51:06.007 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:51:06.009 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:51:06.010 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:51:06.016 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:51:06.019 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:51:06.021 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:51:06.023 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:51:06.024 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:51:06.025 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:51:06.026 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:51:06.028 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2025-04-24 18:51:06.035 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:06.036 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:06.037 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:51:06.038 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:06.039 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:51:06.041 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:51:06.042 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:06.044 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:06.050 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:51:06.051 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:06.052 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:51:06.053 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:51:06.055 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:06.056 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:06.057 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:51:06.058 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:06.059 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:51:06.065 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:51:06.067 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 18:51:06.068 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:06.069 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:06.071 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:51:06.072 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:51:06.074 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:51:06.075 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:51:06.082 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__searchQuery_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:51:06.085 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:06.087 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:51:06.090 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:06.092 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:51:06.093 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:06.094 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:06.101 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:51:06.102 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:51:06.103 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:51:06.104 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 9), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:51:06.105 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 9), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:51:06.108 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:51:06.109 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:06.110 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-24 18:51:06.111 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:06.117 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-24 18:51:06.118 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:51:06.122 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:51:06.123 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:51:06.124 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:51:06.125 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 118.2664ms
2025-04-24 18:51:06.127 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:06.135 +08:00 [DBG] Connection id "0HNC33MILGQBS" completed keep alive response.
2025-04-24 18:51:06.137 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:51:06.138 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:06.139 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:51:06.141 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=Cathedral&pageNumber=1&pageSize=10 - 200 92 application/json; charset=utf-8 223.7448ms
2025-04-24 18:51:11.452 +08:00 [DBG] Connection id "0HNC33MILGQBS" received FIN.
2025-04-24 18:51:11.460 +08:00 [DBG] Connection id "0HNC33MILGQBS" disconnecting.
2025-04-24 18:51:11.468 +08:00 [DBG] Connection id "0HNC33MILGQBS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:51:11.476 +08:00 [DBG] Connection id "0HNC33MILGQBS" stopped.
2025-04-24 18:51:12.845 +08:00 [DBG] Connection id "0HNC33MILGQBT" accepted.
2025-04-24 18:51:12.857 +08:00 [DBG] Connection id "0HNC33MILGQBT" started.
2025-04-24 18:51:12.871 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=cathedral&pageNumber=1&pageSize=10 - null null
2025-04-24 18:51:12.894 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:51:12.904 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:51:12.906 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:51:12.907 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:12.909 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:51:12.922 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:51:12.924 +08:00 [DBG] Authorization was successful.
2025-04-24 18:51:12.925 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:12.932 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:51:12.938 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:51:12.940 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:51:12.941 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:51:12.942 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:51:12.951 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:51:12.953 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:51:12.956 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:51:12.958 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:51:12.964 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:51:12.970 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:51:12.973 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:51:12.974 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:51:12.976 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:51:12.977 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:51:12.982 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:51:12.986 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2025-04-24 18:51:12.988 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:12.989 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:12.990 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:51:12.991 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:12.992 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:51:12.993 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:51:12.999 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:13.001 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:13.002 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:51:13.003 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:13.004 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:51:13.005 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:51:13.006 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:13.007 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:13.008 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:51:13.009 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:13.013 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:51:13.018 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:51:13.019 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:51:13.020 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:13.021 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:13.022 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:51:13.023 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:51:13.024 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:51:13.025 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:51:13.026 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:51:13.048 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:13.077 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 29ms reading results.
2025-04-24 18:51:13.243 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:13.251 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2025-04-24 18:51:13.254 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:13.255 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:13.257 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:51:13.258 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:51:13.259 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:51:13.260 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 9), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:51:13.301 +08:00 [INF] Executed DbCommand (41ms) [Parameters=[@__searchQuery_0='?' (Size = 9), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:51:13.305 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:51:13.307 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:13.308 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-24 18:51:13.309 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:13.309 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:51:13.313 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:51:13.319 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:51:13.320 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:51:13.321 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:51:13.323 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 369.4842ms
2025-04-24 18:51:13.324 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:13.325 +08:00 [DBG] Connection id "0HNC33MILGQBT" completed keep alive response.
2025-04-24 18:51:13.326 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:51:13.340 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:13.342 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:51:13.344 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=cathedral&pageNumber=1&pageSize=10 - 200 102 application/json; charset=utf-8 472.5352ms
2025-04-24 18:51:21.458 +08:00 [DBG] Connection id "0HNC33MILGQBT" received FIN.
2025-04-24 18:51:21.461 +08:00 [DBG] Connection id "0HNC33MILGQBT" disconnecting.
2025-04-24 18:51:21.463 +08:00 [DBG] Connection id "0HNC33MILGQBT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:51:21.474 +08:00 [DBG] Connection id "0HNC33MILGQBT" stopped.
2025-04-24 18:51:26.748 +08:00 [DBG] Connection id "0HNC33MILGQBU" accepted.
2025-04-24 18:51:26.752 +08:00 [DBG] Connection id "0HNC33MILGQBU" started.
2025-04-24 18:51:26.754 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=cathedral&pageNumber=1&pageSize=10 - null null
2025-04-24 18:51:26.773 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:51:26.784 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:51:26.786 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:51:26.790 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:26.791 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 18:51:26.796 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 18:51:26.800 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 18:51:26.802 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 18:51:26.803 +08:00 [DBG] Connection id "0HNC33MILGQBU" completed keep alive response.
2025-04-24 18:51:26.807 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=cathedral&pageNumber=1&pageSize=10 - 401 0 null 52.5441ms
2025-04-24 18:51:31.468 +08:00 [DBG] Connection id "0HNC33MILGQBU" received FIN.
2025-04-24 18:51:31.470 +08:00 [DBG] Connection id "0HNC33MILGQBU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:51:31.472 +08:00 [DBG] Connection id "0HNC33MILGQBU" disconnecting.
2025-04-24 18:51:31.474 +08:00 [DBG] Connection id "0HNC33MILGQBU" stopped.
2025-04-24 18:51:39.505 +08:00 [DBG] Connection id "0HNC33MILGQBV" accepted.
2025-04-24 18:51:39.508 +08:00 [DBG] Connection id "0HNC33MILGQBV" started.
2025-04-24 18:51:39.511 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=cathedral&pageNumber=1&pageSize=10 - null null
2025-04-24 18:51:39.519 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:51:39.521 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:51:39.530 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:51:39.553 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:39.555 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:51:39.558 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:51:39.575 +08:00 [DBG] Authorization was successful.
2025-04-24 18:51:39.586 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:39.587 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:51:39.592 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:51:39.602 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:51:39.604 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:51:39.608 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:51:39.614 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:51:39.616 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:51:39.618 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:51:39.622 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:51:39.623 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:51:39.624 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:51:39.626 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:51:39.632 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:51:39.633 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:51:39.635 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:51:39.638 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:51:39.639 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2025-04-24 18:51:39.641 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:39.642 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:39.648 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:51:39.649 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:39.651 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:51:39.653 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:51:39.656 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:39.657 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:39.658 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:51:39.663 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:39.665 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:51:39.666 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:51:39.668 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:39.669 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:39.671 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:51:39.672 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:39.674 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:51:39.676 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:51:39.682 +08:00 [DBG] Created DbConnection. (6ms).
2025-04-24 18:51:39.690 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:39.691 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:39.700 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:51:39.701 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:51:39.702 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:51:39.703 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:51:39.705 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:51:39.707 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:39.708 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:51:39.709 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:39.716 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (7ms).
2025-04-24 18:51:39.719 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:39.720 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:39.722 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:51:39.723 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:51:39.724 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:51:39.725 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 9), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:51:39.733 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__searchQuery_0='?' (Size = 9), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:51:39.737 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:51:39.738 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:39.739 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-24 18:51:39.740 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:39.742 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:51:39.748 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:51:39.751 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:51:39.752 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:51:39.752 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:51:39.754 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 137.8225ms
2025-04-24 18:51:39.758 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:39.758 +08:00 [DBG] Connection id "0HNC33MILGQBV" completed keep alive response.
2025-04-24 18:51:39.764 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:51:39.766 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:39.767 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:51:39.769 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=cathedral&pageNumber=1&pageSize=10 - 200 102 application/json; charset=utf-8 257.9476ms
2025-04-24 18:51:41.477 +08:00 [DBG] Connection id "0HNC33MILGQBV" received FIN.
2025-04-24 18:51:41.484 +08:00 [DBG] Connection id "0HNC33MILGQBV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:51:41.488 +08:00 [DBG] Connection id "0HNC33MILGQBV" disconnecting.
2025-04-24 18:51:41.491 +08:00 [DBG] Connection id "0HNC33MILGQBV" stopped.
2025-04-24 18:51:49.275 +08:00 [DBG] Connection id "0HNC33MILGQC0" accepted.
2025-04-24 18:51:49.278 +08:00 [DBG] Connection id "0HNC33MILGQC0" started.
2025-04-24 18:51:49.281 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=tower&pageNumber=1&pageSize=10 - null null
2025-04-24 18:51:49.319 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:51:49.330 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:51:49.334 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:51:49.339 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:49.342 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:51:49.343 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:51:49.344 +08:00 [DBG] Authorization was successful.
2025-04-24 18:51:49.345 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:49.346 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:51:49.348 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:51:49.349 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:51:49.351 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:51:49.354 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:51:49.357 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:51:49.360 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:51:49.361 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:51:49.362 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:51:49.364 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:51:49.365 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:51:49.367 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:51:49.368 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:51:49.371 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:51:49.372 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:51:49.376 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:51:49.377 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2025-04-24 18:51:49.378 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:49.379 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:49.380 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:51:49.381 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:51:49.382 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:51:49.383 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:51:49.385 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:49.386 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:49.392 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:51:49.394 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:51:49.395 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:51:49.396 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:51:49.398 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:49.399 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:49.400 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:51:49.401 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:51:49.405 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:51:49.409 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:51:49.410 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:51:49.411 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:49.413 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:49.414 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:51:49.415 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:51:49.415 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:51:49.416 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:51:49.419 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:51:49.423 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:49.424 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:51:49.426 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:49.427 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:51:49.430 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:49.433 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:49.435 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:51:49.441 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-24 18:51:49.443 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-04-24 18:51:49.449 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:51:49.458 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__searchQuery_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:51:49.480 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:51:49.482 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:51:49.483 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:49.484 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2025-04-24 18:51:49.494 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:51:49.495 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:51:49.497 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:51:49.500 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:51:49.501 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:51:49.502 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:51:49.508 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 147.8123ms
2025-04-24 18:51:49.511 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:51:49.512 +08:00 [DBG] Connection id "0HNC33MILGQC0" completed keep alive response.
2025-04-24 18:51:49.516 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:51:49.517 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:51:49.518 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:51:49.526 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=tower&pageNumber=1&pageSize=10 - 200 151 application/json; charset=utf-8 244.6037ms
2025-04-24 18:51:58.605 +08:00 [DBG] Connection id "0HNC33MILGQC0" received FIN.
2025-04-24 18:51:58.609 +08:00 [DBG] Connection id "0HNC33MILGQC0" disconnecting.
2025-04-24 18:51:58.611 +08:00 [DBG] Connection id "0HNC33MILGQC0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:51:58.620 +08:00 [DBG] Connection id "0HNC33MILGQC0" stopped.
2025-04-24 18:52:03.483 +08:00 [DBG] Connection id "0HNC33MILGQC1" accepted.
2025-04-24 18:52:03.487 +08:00 [DBG] Connection id "0HNC33MILGQC1" started.
2025-04-24 18:52:03.489 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=bringe&pageNumber=1&pageSize=10 - null null
2025-04-24 18:52:03.497 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:52:03.508 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:52:03.513 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:52:03.581 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:03.584 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:52:03.592 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:52:03.593 +08:00 [DBG] Authorization was successful.
2025-04-24 18:52:03.594 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:03.595 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:52:03.597 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:52:03.599 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:52:03.600 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:52:03.602 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:52:03.609 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:52:03.611 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:03.612 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:03.614 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:52:03.616 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:52:03.617 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:52:03.618 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:03.623 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:03.624 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:52:03.625 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:52:03.626 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:03.627 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2025-04-24 18:52:03.630 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:03.631 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:03.632 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:03.633 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:03.634 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:03.639 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:52:03.641 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:03.642 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:03.643 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:03.645 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:03.647 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:03.648 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:52:03.649 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:03.650 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:03.651 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:03.655 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:03.657 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:52:03.659 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:52:03.660 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:52:03.661 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:03.662 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:03.664 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:03.665 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:52:03.666 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:52:03.667 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:52:03.673 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__searchQuery_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:52:03.675 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:03.676 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:52:03.680 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:03.682 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:03.683 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:03.689 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:03.694 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:03.695 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:52:03.696 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:52:03.696 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 6), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:52:03.699 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 6), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:52:03.700 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:03.701 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2025-04-24 18:52:03.705 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:03.707 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:03.709 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:52:03.712 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:52:03.714 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:52:03.715 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:52:03.716 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 105.0896ms
2025-04-24 18:52:03.718 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:03.722 +08:00 [DBG] Connection id "0HNC33MILGQC1" completed keep alive response.
2025-04-24 18:52:03.723 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:52:03.724 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:03.726 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:03.728 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=bringe&pageNumber=1&pageSize=10 - 200 2 application/json; charset=utf-8 238.3473ms
2025-04-24 18:52:08.622 +08:00 [DBG] Connection id "0HNC33MILGQC1" received FIN.
2025-04-24 18:52:08.624 +08:00 [DBG] Connection id "0HNC33MILGQC1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:52:08.628 +08:00 [DBG] Connection id "0HNC33MILGQC1" disconnecting.
2025-04-24 18:52:08.633 +08:00 [DBG] Connection id "0HNC33MILGQC1" stopped.
2025-04-24 18:52:09.663 +08:00 [DBG] Connection id "0HNC33MILGQC2" accepted.
2025-04-24 18:52:09.666 +08:00 [DBG] Connection id "0HNC33MILGQC2" started.
2025-04-24 18:52:09.669 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=with&pageNumber=1&pageSize=10 - null null
2025-04-24 18:52:09.681 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:52:09.684 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:52:09.728 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:52:09.749 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:09.782 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:52:09.783 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:52:09.784 +08:00 [DBG] Authorization was successful.
2025-04-24 18:52:09.791 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:09.793 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:52:09.796 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:52:09.798 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:52:09.800 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:52:09.809 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:52:09.811 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:52:09.812 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:09.814 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:09.816 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:52:09.817 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:52:09.818 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:52:09.827 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:09.828 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:09.829 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:52:09.830 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:52:09.831 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:09.832 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2025-04-24 18:52:09.834 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:09.834 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:09.840 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:09.844 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:09.845 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:09.847 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:52:09.848 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:09.850 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:09.851 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:09.853 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:09.856 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:09.858 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:52:09.860 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:09.862 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:09.863 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:09.864 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:09.865 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:52:09.867 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:52:09.868 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:52:09.871 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:09.873 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:09.874 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:09.883 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-04-24 18:52:09.883 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-04-24 18:52:09.884 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:52:09.893 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__searchQuery_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:52:09.895 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:09.896 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2025-04-24 18:52:09.897 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:09.898 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:52:09.900 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:09.901 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:09.905 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:09.906 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:52:09.907 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:52:09.914 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:52:09.915 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:52:09.917 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:09.921 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:09.923 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:09.929 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:09.932 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:09.933 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:09.934 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:09.938 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:09.949 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:09.950 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:09.951 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:09.964 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 46ms reading results.
2025-04-24 18:52:09.967 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:09.968 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:09.973 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:52:09.980 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:52:09.982 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:52:09.983 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:52:09.984 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 172.3126ms
2025-04-24 18:52:09.995 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:09.996 +08:00 [DBG] Connection id "0HNC33MILGQC2" completed keep alive response.
2025-04-24 18:52:09.998 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:52:10.000 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:10.001 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:10.008 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=with&pageNumber=1&pageSize=10 - 200 838 application/json; charset=utf-8 339.4155ms
2025-04-24 18:52:18.630 +08:00 [DBG] Connection id "0HNC33MILGQC2" received FIN.
2025-04-24 18:52:18.633 +08:00 [DBG] Connection id "0HNC33MILGQC2" disconnecting.
2025-04-24 18:52:18.639 +08:00 [DBG] Connection id "0HNC33MILGQC2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:52:18.656 +08:00 [DBG] Connection id "0HNC33MILGQC2" stopped.
2025-04-24 18:52:22.871 +08:00 [DBG] Connection id "0HNC33MILGQC3" accepted.
2025-04-24 18:52:22.875 +08:00 [DBG] Connection id "0HNC33MILGQC3" started.
2025-04-24 18:52:22.877 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=history&pageNumber=1&pageSize=10 - null null
2025-04-24 18:52:22.890 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:52:22.898 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:52:22.899 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:52:22.912 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:22.915 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:52:22.916 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:52:22.922 +08:00 [DBG] Authorization was successful.
2025-04-24 18:52:22.925 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:22.927 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:52:22.929 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:52:22.931 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:52:22.932 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:52:22.937 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:52:22.940 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:52:22.942 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:22.944 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:22.945 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:52:22.946 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:52:22.948 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:52:22.950 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:22.953 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:22.955 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:52:22.958 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:52:22.959 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:22.960 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2025-04-24 18:52:22.962 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:22.963 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:22.965 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:22.966 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:22.967 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:22.970 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:52:22.974 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:22.976 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:22.977 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:22.978 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:22.980 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:22.982 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:52:22.983 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:22.986 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:22.993 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:22.995 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:22.997 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:52:23.000 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:52:23.000 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:52:23.004 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:23.006 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:23.008 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:23.009 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:52:23.010 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:52:23.011 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:52:23.013 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:52:23.015 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:23.017 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:52:23.020 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:23.022 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:23.024 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:23.025 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:23.030 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:23.033 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:52:23.038 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-04-24 18:52:23.044 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 7), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:52:23.047 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchQuery_0='?' (Size = 7), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:52:23.058 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:23.063 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:23.066 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:23.071 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 13ms reading results.
2025-04-24 18:52:23.073 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:23.074 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:52:23.075 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:52:23.077 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:52:23.078 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:52:23.079 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:52:23.080 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 138.4437ms
2025-04-24 18:52:23.097 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:23.106 +08:00 [DBG] Connection id "0HNC33MILGQC3" completed keep alive response.
2025-04-24 18:52:23.108 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:52:23.108 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:23.109 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:23.111 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=history&pageNumber=1&pageSize=10 - 200 182 application/json; charset=utf-8 233.3411ms
2025-04-24 18:52:28.647 +08:00 [DBG] Connection id "0HNC33MILGQC3" received FIN.
2025-04-24 18:52:28.650 +08:00 [DBG] Connection id "0HNC33MILGQC3" disconnecting.
2025-04-24 18:52:28.653 +08:00 [DBG] Connection id "0HNC33MILGQC3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:52:28.670 +08:00 [DBG] Connection id "0HNC33MILGQC3" stopped.
2025-04-24 18:52:32.632 +08:00 [DBG] Connection id "0HNC33MILGQC4" accepted.
2025-04-24 18:52:32.635 +08:00 [DBG] Connection id "0HNC33MILGQC4" started.
2025-04-24 18:52:32.680 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=history&pageNumber=1&pageSize=300 - null null
2025-04-24 18:52:32.693 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:52:32.704 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:52:32.706 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:52:32.707 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:32.708 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:52:32.710 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:52:32.714 +08:00 [DBG] Authorization was successful.
2025-04-24 18:52:32.716 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:32.721 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:52:32.724 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:52:32.725 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:52:32.727 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:52:32.730 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:52:32.732 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:52:32.733 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:32.738 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:32.739 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:52:32.740 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:52:32.742 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:52:32.745 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:32.746 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:32.747 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:52:32.748 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:52:32.750 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:32.757 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2025-04-24 18:52:32.760 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:32.761 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:32.766 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:32.776 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:32.777 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:32.783 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:52:32.794 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:32.796 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:32.802 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:32.807 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:32.808 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:32.810 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:52:32.812 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:32.814 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:32.816 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:32.823 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:32.824 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:52:32.826 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:52:32.828 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 18:52:32.830 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:32.831 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:32.832 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:32.832 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:52:32.833 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:52:32.840 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:52:32.842 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:52:32.843 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:32.844 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2025-04-24 18:52:32.846 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:32.847 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:32.848 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:32.849 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:32.854 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:32.857 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:52:32.859 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-24 18:52:32.862 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 7), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:52:32.864 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 7), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:52:32.868 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:32.876 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:32.878 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:32.879 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 11ms reading results.
2025-04-24 18:52:32.882 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:32.882 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:52:32.892 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:52:32.895 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:52:32.897 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:52:32.898 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:52:32.899 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 166.3881ms
2025-04-24 18:52:32.910 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:32.911 +08:00 [DBG] Connection id "0HNC33MILGQC4" completed keep alive response.
2025-04-24 18:52:32.912 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:52:32.913 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:32.915 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:32.916 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=history&pageNumber=1&pageSize=300 - 200 182 application/json; charset=utf-8 235.7418ms
2025-04-24 18:52:37.098 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=history&pageNumber=1&pageSize=300 - null null
2025-04-24 18:52:37.102 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:52:37.107 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:52:37.112 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:52:37.126 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:37.128 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:52:37.129 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:52:37.131 +08:00 [DBG] Authorization was successful.
2025-04-24 18:52:37.136 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:37.140 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:52:37.143 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:52:37.146 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:52:37.148 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:52:37.152 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:52:37.154 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:52:37.157 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:37.159 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:37.160 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:52:37.162 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:52:37.164 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:52:37.166 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:37.168 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:37.171 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:52:37.174 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:52:37.175 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:37.176 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2025-04-24 18:52:37.178 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:37.179 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:37.180 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:37.182 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:37.183 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:37.185 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:52:37.189 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:37.190 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:37.192 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:37.193 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:37.195 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:37.196 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:52:37.198 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:37.199 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:37.200 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:37.205 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:37.207 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:52:37.209 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:52:37.210 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 18:52:37.212 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:37.213 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:37.214 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:37.215 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:52:37.216 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:52:37.219 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:52:37.223 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__searchQuery_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
2025-04-24 18:52:37.226 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:37.227 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:52:37.228 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:37.230 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:37.231 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:37.232 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:37.233 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:37.237 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-24 18:52:37.239 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-24 18:52:37.240 +08:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 7), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:52:37.242 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 7), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE instr("c"."Name", @__searchQuery_0) > 0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Id"
LIMIT @__p_2 OFFSET @__p_1
2025-04-24 18:52:37.247 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:37.248 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:37.255 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:37.260 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 13ms reading results.
2025-04-24 18:52:37.261 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:37.263 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:37.265 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:52:37.272 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:52:37.274 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:52:37.275 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:52:37.276 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 119.4375ms
2025-04-24 18:52:37.288 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:37.289 +08:00 [DBG] Connection id "0HNC33MILGQC4" completed keep alive response.
2025-04-24 18:52:37.290 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:52:37.292 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:37.295 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-24 18:52:37.297 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?searchQuery=history&pageNumber=1&pageSize=300 - 200 182 application/json; charset=utf-8 198.3704ms
2025-04-24 18:52:38.647 +08:00 [DBG] Connection id "0HNC33MILGQC4" received FIN.
2025-04-24 18:52:38.651 +08:00 [DBG] Connection id "0HNC33MILGQC4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:52:38.655 +08:00 [DBG] Connection id "0HNC33MILGQC4" disconnecting.
2025-04-24 18:52:38.666 +08:00 [DBG] Connection id "0HNC33MILGQC4" stopped.
2025-04-24 18:52:44.715 +08:00 [DBG] Connection id "0HNC33MILGQC5" accepted.
2025-04-24 18:52:44.718 +08:00 [DBG] Connection id "0HNC33MILGQC5" started.
2025-04-24 18:52:44.720 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=300 - null null
2025-04-24 18:52:44.740 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:52:44.743 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:52:44.746 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:52:44.753 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:44.759 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:52:44.761 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:52:44.762 +08:00 [DBG] Authorization was successful.
2025-04-24 18:52:44.763 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:44.765 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:52:44.772 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:52:44.774 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:52:44.776 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:52:44.778 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:52:44.782 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:52:44.791 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:44.792 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:44.794 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:52:44.795 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:52:44.797 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:52:44.799 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:44.802 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:44.806 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:52:44.807 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:52:44.809 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:44.810 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:52:44.812 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:44.815 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:44.817 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:44.820 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:44.822 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:44.823 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:44.826 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:52:44.831 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:44.832 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:44.839 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:44.841 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:44.842 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:44.849 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:52:44.853 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:44.861 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:44.863 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:44.864 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:44.870 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:52:44.876 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:52:44.876 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:52:44.880 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:44.881 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:44.882 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:44.889 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-04-24 18:52:44.890 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-24 18:52:44.891 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:52:44.893 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:52:44.895 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:44.896 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:52:44.897 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:44.898 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:52:44.901 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:44.904 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:44.906 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:44.907 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:52:44.910 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-24 18:52:44.912 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:52:44.913 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:52:44.915 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.916 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.922 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.924 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.931 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.933 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.939 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.941 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.944 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.946 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.947 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.948 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.949 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.955 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.956 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.958 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.961 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.962 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.963 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.964 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:44.966 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:44.971 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 56ms reading results.
2025-04-24 18:52:44.974 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:44.976 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 18:52:44.978 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:52:44.980 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:52:44.981 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:52:44.982 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:52:44.991 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 199.9949ms
2025-04-24 18:52:44.993 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:44.995 +08:00 [DBG] Connection id "0HNC33MILGQC5" completed keep alive response.
2025-04-24 18:52:44.996 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:52:44.998 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:44.999 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:52:45.007 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=300 - 200 1736 application/json; charset=utf-8 286.916ms
2025-04-24 18:52:48.667 +08:00 [DBG] Connection id "0HNC33MILGQC5" received FIN.
2025-04-24 18:52:48.670 +08:00 [DBG] Connection id "0HNC33MILGQC5" disconnecting.
2025-04-24 18:52:48.680 +08:00 [DBG] Connection id "0HNC33MILGQC5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:52:48.706 +08:00 [DBG] Connection id "0HNC33MILGQC5" stopped.
2025-04-24 18:52:54.060 +08:00 [DBG] Connection id "0HNC33MILGQC6" accepted.
2025-04-24 18:52:54.062 +08:00 [DBG] Connection id "0HNC33MILGQC6" started.
2025-04-24 18:52:54.065 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=15 - null null
2025-04-24 18:52:54.072 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:52:54.090 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:52:54.092 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:52:54.095 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:54.097 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:52:54.098 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:52:54.101 +08:00 [DBG] Authorization was successful.
2025-04-24 18:52:54.106 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:54.108 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:52:54.110 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:52:54.112 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:52:54.114 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:52:54.120 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:52:54.122 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:52:54.124 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:54.126 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:52:54.127 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:52:54.129 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:52:54.131 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:52:54.140 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:54.143 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:52:54.144 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:52:54.145 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:52:54.146 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:54.148 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:52:54.155 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:54.157 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:54.158 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:54.159 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:52:54.160 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:52:54.161 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:54.163 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:52:54.164 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:54.165 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:54.168 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:52:54.170 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:52:54.171 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:54.173 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:52:54.175 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:54.176 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:54.177 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:52:54.178 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:52:54.180 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:52:54.182 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:52:54.184 +08:00 [DBG] Created DbConnection. (2ms).
2025-04-24 18:52:54.186 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:54.188 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:54.190 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:54.191 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:52:54.192 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:52:54.193 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:52:54.195 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:52:54.197 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:54.198 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 18:52:54.200 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:54.204 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-24 18:52:54.206 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:54.207 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:54.208 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:52:54.209 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 18:52:54.210 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:52:54.211 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:52:54.212 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 18:52:54.214 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.215 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.219 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.221 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.222 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.223 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.224 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.225 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.226 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.227 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.228 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.230 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.231 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.232 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.235 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:52:54.236 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:54.237 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 23ms reading results.
2025-04-24 18:52:54.239 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:52:54.241 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:54.243 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:52:54.246 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:52:54.248 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:52:54.255 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:52:54.257 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 132.6831ms
2025-04-24 18:52:54.275 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:52:54.277 +08:00 [DBG] Connection id "0HNC33MILGQC6" completed keep alive response.
2025-04-24 18:52:54.278 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:52:54.281 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:52:54.282 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:52:54.290 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=15 - 200 1279 application/json; charset=utf-8 224.7836ms
2025-04-24 18:52:58.681 +08:00 [DBG] Connection id "0HNC33MILGQC6" received FIN.
2025-04-24 18:52:58.684 +08:00 [DBG] Connection id "0HNC33MILGQC6" disconnecting.
2025-04-24 18:52:58.686 +08:00 [DBG] Connection id "0HNC33MILGQC6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:52:58.696 +08:00 [DBG] Connection id "0HNC33MILGQC6" stopped.
2025-04-24 18:53:01.865 +08:00 [DBG] Connection id "0HNC33MILGQC7" accepted.
2025-04-24 18:53:01.868 +08:00 [DBG] Connection id "0HNC33MILGQC7" started.
2025-04-24 18:53:01.870 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=2&pageSize=15 - null null
2025-04-24 18:53:01.875 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 18:53:01.910 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 18:53:01.915 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 18:53:01.918 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:53:01.922 +08:00 [DBG] Successfully validated the token.
2025-04-24 18:53:01.923 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 18:53:01.925 +08:00 [DBG] Authorization was successful.
2025-04-24 18:53:01.928 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:53:01.929 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 18:53:01.931 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 18:53:01.935 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 18:53:01.937 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 18:53:01.939 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 18:53:01.947 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 18:53:01.952 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:53:01.954 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 18:53:01.956 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 18:53:01.958 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 18:53:01.959 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 18:53:01.960 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:53:01.962 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 18:53:01.964 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 18:53:01.965 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 18:53:01.971 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:53:01.972 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 18:53:01.974 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:53:01.975 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:53:01.976 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:53:01.977 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 18:53:01.978 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 18:53:01.979 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:53:01.980 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 18:53:01.983 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:53:01.986 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:53:01.988 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 18:53:01.989 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 18:53:01.990 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:53:01.991 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 18:53:01.993 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:53:01.994 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:53:01.996 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 18:53:01.997 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 18:53:02.002 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 18:53:02.008 +08:00 [DBG] Creating DbConnection.
2025-04-24 18:53:02.009 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 18:53:02.010 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:53:02.011 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:53:02.012 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:53:02.012 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:53:02.015 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:53:02.017 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:53:02.021 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 18:53:02.023 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:53:02.024 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2025-04-24 18:53:02.025 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:53:02.026 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:53:02.028 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_0)'
2025-04-24 18:53:02.037 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 18:53:02.042 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:53:02.043 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:53:02.044 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 18:53:02.045 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 18:53:02.046 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 18:53:02.047 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_0 OFFSET @__p_0
2025-04-24 18:53:02.052 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_0 OFFSET @__p_0
2025-04-24 18:53:02.055 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.056 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.059 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.063 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.077 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.088 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.090 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.092 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.093 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.094 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.095 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.096 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.097 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.098 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.106 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 18:53:02.107 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:53:02.108 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 53ms reading results.
2025-04-24 18:53:02.109 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 18:53:02.110 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 18:53:02.111 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 18:53:02.113 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 18:53:02.114 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 18:53:02.115 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 18:53:02.122 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 170.3272ms
2025-04-24 18:53:02.124 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 18:53:02.125 +08:00 [DBG] Connection id "0HNC33MILGQC7" completed keep alive response.
2025-04-24 18:53:02.127 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 18:53:02.128 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 18:53:02.128 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 18:53:02.130 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=2&pageSize=15 - 200 1360 application/json; charset=utf-8 259.718ms
2025-04-24 18:53:08.703 +08:00 [DBG] Connection id "0HNC33MILGQC7" received FIN.
2025-04-24 18:53:08.711 +08:00 [DBG] Connection id "0HNC33MILGQC7" disconnecting.
2025-04-24 18:53:08.715 +08:00 [DBG] Connection id "0HNC33MILGQC7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 18:53:08.735 +08:00 [DBG] Connection id "0HNC33MILGQC7" stopped.
2025-04-24 19:01:44.981 +08:00 [DBG] Connection id "0HNC33MILGQC8" accepted.
2025-04-24 19:01:44.998 +08:00 [DBG] Connection id "0HNC33MILGQC8" started.
2025-04-24 19:01:45.001 +08:00 [DBG] Connection id "0HNC33MILGQC9" accepted.
2025-04-24 19:01:45.002 +08:00 [DBG] Connection id "0HNC33MILGQC9" started.
2025-04-24 19:01:45.045 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 19:01:45.099 +08:00 [DBG] Connection id "0HNC33MILGQC8" completed keep alive response.
2025-04-24 19:01:45.102 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 56.5512ms
2025-04-24 19:01:47.105 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 19:01:47.405 +08:00 [DBG] Connection id "0HNC33MILGQC8" completed keep alive response.
2025-04-24 19:01:47.407 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 301.1858ms
2025-04-24 19:01:49.359 +08:00 [DBG] Connection id "0HNC33MILGQC9" received FIN.
2025-04-24 19:01:49.359 +08:00 [DBG] Connection id "0HNC33MILGQC8" received FIN.
2025-04-24 19:01:49.362 +08:00 [DBG] Connection id "0HNC33MILGQC9" disconnecting.
2025-04-24 19:01:49.364 +08:00 [DBG] Connection id "0HNC33MILGQC8" disconnecting.
2025-04-24 19:01:49.443 +08:00 [DBG] Connection id "0HNC33MILGQC9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:01:49.445 +08:00 [DBG] Connection id "0HNC33MILGQC8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:01:49.449 +08:00 [DBG] Connection id "0HNC33MILGQC9" stopped.
2025-04-24 19:01:49.449 +08:00 [DBG] Connection id "0HNC33MILGQC8" stopped.
2025-04-24 19:02:22.129 +08:00 [DBG] Connection id "0HNC33MILGQCA" accepted.
2025-04-24 19:02:22.131 +08:00 [DBG] Connection id "0HNC33MILGQCA" started.
2025-04-24 19:02:22.138 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 19:02:22.178 +08:00 [DBG] POST requests are not supported
2025-04-24 19:02:22.184 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 19:02:22.258 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 19:02:22.264 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:02:22.283 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:02:22.291 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:02:22.299 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 19:02:22.323 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:02:22.326 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:02:22.329 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:02:22.333 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:02:22.338 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:02:22.342 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:02:22.344 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:02:22.357 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:02:22.364 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 19:02:22.375 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 19:02:22.382 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 19:02:22.396 +08:00 [DBG] Connection id "0HNC33MILGQCA", Request id "0HNC33MILGQCA:00000001": started reading request body.
2025-04-24 19:02:22.399 +08:00 [DBG] Connection id "0HNC33MILGQCA", Request id "0HNC33MILGQCA:00000001": done reading request body.
2025-04-24 19:02:22.421 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:02:22.427 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:02:22.429 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:02:22.446 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:02:22.464 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:02:22.467 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 19:02:22.479 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 19:02:22.481 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 19:02:22.483 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 142.0637ms
2025-04-24 19:02:22.491 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:02:22.493 +08:00 [DBG] Connection id "0HNC33MILGQCA" completed keep alive response.
2025-04-24 19:02:22.497 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 359.19ms
2025-04-24 19:02:29.366 +08:00 [DBG] Connection id "0HNC33MILGQCA" received FIN.
2025-04-24 19:02:29.371 +08:00 [DBG] Connection id "0HNC33MILGQCA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:02:29.383 +08:00 [DBG] Connection id "0HNC33MILGQCA" disconnecting.
2025-04-24 19:02:29.463 +08:00 [DBG] Connection id "0HNC33MILGQCA" stopped.
2025-04-24 19:07:39.769 +08:00 [DBG] Connection id "0HNC33MILGQCB" accepted.
2025-04-24 19:07:40.813 +08:00 [DBG] Connection id "0HNC33MILGQCB" started.
2025-04-24 19:07:40.913 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 19:07:40.977 +08:00 [DBG] POST requests are not supported
2025-04-24 19:07:41.043 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 19:07:41.182 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 19:07:41.215 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:07:41.260 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:07:41.264 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:07:41.281 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 19:07:41.311 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:07:41.345 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:07:41.360 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:07:41.393 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:07:41.396 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:07:41.410 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:07:41.431 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:07:41.448 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:07:41.463 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 19:07:41.514 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 19:07:41.528 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 19:07:41.550 +08:00 [DBG] Connection id "0HNC33MILGQCB", Request id "0HNC33MILGQCB:00000001": started reading request body.
2025-04-24 19:07:41.561 +08:00 [DBG] Connection id "0HNC33MILGQCB", Request id "0HNC33MILGQCB:00000001": done reading request body.
2025-04-24 19:07:41.595 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:07:41.608 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:07:41.614 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:07:41.627 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:07:41.631 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:07:41.666 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 19:07:41.711 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 19:07:41.715 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 19:07:41.731 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 320.6322ms
2025-04-24 19:07:41.742 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:07:41.744 +08:00 [DBG] Connection id "0HNC33MILGQCB" completed keep alive response.
2025-04-24 19:07:41.849 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 935.6103ms
2025-04-24 19:07:44.413 +08:00 [DBG] Connection id "0HNC33MILGQCB" received FIN.
2025-04-24 19:07:44.414 +08:00 [DBG] Connection id "0HNC33MILGQCB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:07:44.437 +08:00 [DBG] Connection id "0HNC33MILGQCB" disconnecting.
2025-04-24 19:07:44.461 +08:00 [DBG] Connection id "0HNC33MILGQCB" stopped.
2025-04-24 19:09:02.163 +08:00 [DBG] Connection id "0HNC33MILGQCC" accepted.
2025-04-24 19:09:02.164 +08:00 [DBG] Connection id "0HNC33MILGQCC" started.
2025-04-24 19:09:02.244 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-24 19:09:02.276 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:09:02.292 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:09:02.293 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:09:02.295 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:09:02.307 +08:00 [DBG] Successfully validated the token.
2025-04-24 19:09:02.310 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 19:09:02.319 +08:00 [DBG] Authorization was successful.
2025-04-24 19:09:02.320 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:09:02.322 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 19:09:02.324 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:09:02.325 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:09:02.326 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:09:02.336 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:09:02.338 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:09:02.340 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:09:02.377 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:09:02.384 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 19:09:02.387 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 19:09:02.394 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 19:09:02.403 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:09:02.404 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:09:02.406 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 19:09:02.408 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 19:09:02.410 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:09:02.411 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 19:09:02.417 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:09:02.422 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:09:02.423 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:09:02.424 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:09:02.426 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:09:02.428 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:09:02.433 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 19:09:02.437 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:09:02.440 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:09:02.455 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:09:02.457 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:09:02.459 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:09:02.467 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 19:09:02.472 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:09:02.474 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:09:02.476 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:09:02.478 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:09:02.522 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 19:09:02.543 +08:00 [DBG] Creating DbConnection.
2025-04-24 19:09:02.558 +08:00 [DBG] Created DbConnection. (15ms).
2025-04-24 19:09:02.561 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:09:02.589 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:02.591 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:09:02.592 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 19:09:02.595 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 19:09:02.606 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:09:02.680 +08:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:09:02.724 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:02.737 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 12ms reading results.
2025-04-24 19:09:02.743 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:02.744 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 19:09:02.761 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:09:02.819 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:02.888 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:09:02.893 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-24 19:09:02.895 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-24 19:09:02.900 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:09:02.910 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:09:02.928 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:02.936 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:02.939 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:02.940 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:02.941 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:02.942 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:02.951 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:02.953 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:02.954 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:02.955 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:02.956 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:02.961 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 39ms reading results.
2025-04-24 19:09:02.974 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:02.982 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2025-04-24 19:09:02.990 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:09:02.992 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 19:09:03.070 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 19:09:03.075 +08:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2025-04-24 19:09:03.106 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:09:03.125 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-04-24 19:09:03.132 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 19:09:03.141 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 801.091ms
2025-04-24 19:09:03.143 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:09:03.145 +08:00 [DBG] Connection id "0HNC33MILGQCC" completed keep alive response.
2025-04-24 19:09:03.152 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 19:09:03.153 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:09:03.168 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (14ms).
2025-04-24 19:09:03.170 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 406 0 null 926.7183ms
2025-04-24 19:09:04.435 +08:00 [DBG] Connection id "0HNC33MILGQCC" received FIN.
2025-04-24 19:09:04.440 +08:00 [DBG] Connection id "0HNC33MILGQCC" disconnecting.
2025-04-24 19:09:04.443 +08:00 [DBG] Connection id "0HNC33MILGQCC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:09:04.454 +08:00 [DBG] Connection id "0HNC33MILGQCC" stopped.
2025-04-24 19:09:07.920 +08:00 [DBG] Connection id "0HNC33MILGQCD" accepted.
2025-04-24 19:09:07.922 +08:00 [DBG] Connection id "0HNC33MILGQCD" started.
2025-04-24 19:09:07.924 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-24 19:09:07.953 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:09:07.973 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:09:07.974 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:09:07.976 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:09:07.978 +08:00 [DBG] Successfully validated the token.
2025-04-24 19:09:07.983 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 19:09:07.984 +08:00 [DBG] Authorization was successful.
2025-04-24 19:09:07.985 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:09:07.986 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 19:09:07.990 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:09:07.992 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:09:08.020 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:09:08.024 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:09:08.025 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:09:08.027 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:09:08.037 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:09:08.039 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 19:09:08.042 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 19:09:08.043 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 19:09:08.044 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:09:08.052 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:09:08.053 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 19:09:08.054 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 19:09:08.055 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:09:08.057 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 19:09:08.058 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:09:08.060 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:09:08.061 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:09:08.068 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:09:08.070 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:09:08.072 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:09:08.073 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 19:09:08.074 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:09:08.075 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:09:08.083 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:09:08.085 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:09:08.087 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:09:08.089 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 19:09:08.090 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:09:08.091 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:09:08.092 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:09:08.094 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:09:08.104 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 19:09:08.106 +08:00 [DBG] Creating DbConnection.
2025-04-24 19:09:08.106 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 19:09:08.108 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:09:08.111 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:08.122 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:09:08.124 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-24 19:09:08.126 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 19:09:08.127 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:09:08.194 +08:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:09:08.383 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:08.390 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2025-04-24 19:09:08.502 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:08.525 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (23ms).
2025-04-24 19:09:08.527 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:09:08.540 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:08.576 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:09:08.592 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (16ms).
2025-04-24 19:09:08.593 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-04-24 19:09:08.594 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:09:08.625 +08:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:09:08.634 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:08.660 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:08.661 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:08.666 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:08.675 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:08.676 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:08.693 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:08.709 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:08.725 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:08.728 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:08.741 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:08.742 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 108ms reading results.
2025-04-24 19:09:08.744 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:08.759 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (14ms).
2025-04-24 19:09:08.762 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:09:08.773 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 19:09:08.774 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 19:09:08.776 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 19:09:08.806 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 778.384ms
2025-04-24 19:09:08.860 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:09:08.870 +08:00 [DBG] Connection id "0HNC33MILGQCD" completed keep alive response.
2025-04-24 19:09:08.874 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 19:09:08.975 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:09:08.978 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 19:09:08.986 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 200 838 application/json; charset=utf-8 1061.6291ms
2025-04-24 19:09:14.432 +08:00 [DBG] Connection id "0HNC33MILGQCD" received FIN.
2025-04-24 19:09:14.439 +08:00 [DBG] Connection id "0HNC33MILGQCD" disconnecting.
2025-04-24 19:09:14.443 +08:00 [DBG] Connection id "0HNC33MILGQCD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:09:14.471 +08:00 [DBG] Connection id "0HNC33MILGQCD" stopped.
2025-04-24 19:09:17.660 +08:00 [DBG] Connection id "0HNC33MILGQCE" accepted.
2025-04-24 19:09:17.664 +08:00 [DBG] Connection id "0HNC33MILGQCE" started.
2025-04-24 19:09:17.665 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-24 19:09:17.670 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:09:17.674 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:09:17.701 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:09:17.703 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:09:17.704 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:09:17.705 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 19:09:17.706 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 19:09:17.715 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 19:09:17.726 +08:00 [DBG] Connection id "0HNC33MILGQCE" completed keep alive response.
2025-04-24 19:09:17.741 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 401 0 null 75.9555ms
2025-04-24 19:09:24.433 +08:00 [DBG] Connection id "0HNC33MILGQCE" received FIN.
2025-04-24 19:09:24.436 +08:00 [DBG] Connection id "0HNC33MILGQCE" disconnecting.
2025-04-24 19:09:24.439 +08:00 [DBG] Connection id "0HNC33MILGQCE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:09:24.443 +08:00 [DBG] Connection id "0HNC33MILGQCE" stopped.
2025-04-24 19:09:32.771 +08:00 [DBG] Connection id "0HNC33MILGQCF" accepted.
2025-04-24 19:09:32.793 +08:00 [DBG] Connection id "0HNC33MILGQCF" received FIN.
2025-04-24 19:09:32.807 +08:00 [DBG] Connection id "0HNC33MILGQCG" accepted.
2025-04-24 19:09:32.807 +08:00 [DBG] Connection id "0HNC33MILGQCF" started.
2025-04-24 19:09:32.857 +08:00 [DBG] Connection id "0HNC33MILGQCG" started.
2025-04-24 19:09:33.018 +08:00 [DBG] Connection id "0HNC33MILGQCF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:09:33.022 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - null null
2025-04-24 19:09:33.024 +08:00 [DBG] Connection id "0HNC33MILGQCF" disconnecting.
2025-04-24 19:09:33.067 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:09:33.173 +08:00 [DBG] Connection id "0HNC33MILGQCF" stopped.
2025-04-24 19:09:33.177 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 19:09:33.189 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 19:09:33.192 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 19:09:33.203 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:09:33.208 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 19:09:33.209 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 19:09:33.222 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 19:09:33.223 +08:00 [DBG] Connection id "0HNC33MILGQCG" completed keep alive response.
2025-04-24 19:09:33.225 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - 401 0 null 202.9723ms
2025-04-24 19:09:36.792 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - null null
2025-04-24 19:09:36.804 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:09:36.824 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 19:09:36.825 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2025-04-24 19:09:36.835 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 19:09:36.931 +08:00 [DBG] Successfully validated the token.
2025-04-24 19:09:36.971 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 19:09:36.976 +08:00 [DBG] Authorization was successful.
2025-04-24 19:09:37.003 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 19:09:37.170 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-24 19:09:37.172 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:09:37.173 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:09:37.175 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:09:37.185 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:09:37.188 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:09:37.190 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 19:09:37.200 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-24 19:09:37.202 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-24 19:09:37.219 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-24 19:09:37.223 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 19:09:37.224 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-24 19:09:37.225 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-24 19:09:37.232 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-24 19:09:37.256 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 19:09:37.291 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-24 19:09:37.371 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 19:09:37.419 +08:00 [DBG] Creating DbConnection.
2025-04-24 19:09:37.420 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 19:09:37.421 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:09:37.423 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:37.424 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:09:37.426 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 19:09:37.435 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-04-24 19:09:37.436 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 19:09:37.439 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-24 19:09:37.442 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:37.452 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 10ms reading results.
2025-04-24 19:09:37.457 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:37.463 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-24 19:09:37.493 +08:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-04-24 19:09:37.539 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PointOfInterest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PointOfInterest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PointOfInterest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PointOfInterest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (PointOfInterest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                        {
                            return 
                            {
                                PointOfInterest instance;
                                instance = new PointOfInterest(dataReader.GetString(3));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CityId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PointOfInterest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 19:09:37.554 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:09:37.555 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:37.573 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:09:37.574 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 19:09:37.576 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 19:09:37.581 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 19:09:37.585 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-24 19:09:37.659 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:37.686 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:09:37.690 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:37.691 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 98ms reading results.
2025-04-24 19:09:37.695 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:09:37.704 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2025-04-24 19:09:37.737 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:09:37.771 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 19:09:37.772 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 19:09:37.774 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 19:09:37.791 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 19:09:37.822 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 19:09:37.839 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 648.9759ms
2025-04-24 19:09:37.863 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-24 19:09:37.873 +08:00 [DBG] Connection id "0HNC33MILGQCG" completed keep alive response.
2025-04-24 19:09:37.886 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 19:09:37.935 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:09:37.939 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-24 19:09:37.941 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/ - 200 207 application/json; charset=utf-8 1149.2505ms
2025-04-24 19:11:49.043 +08:00 [DBG] Connection id "0HNC33MILGQCG" disconnecting.
2025-04-24 19:11:49.052 +08:00 [DBG] Connection id "0HNC33MILGQCG" stopped.
2025-04-24 19:11:49.054 +08:00 [DBG] Connection id "0HNC33MILGQCG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:15:55.933 +08:00 [DBG] Connection id "0HNC33MILGQCH" accepted.
2025-04-24 19:15:55.947 +08:00 [DBG] Connection id "0HNC33MILGQCH" started.
2025-04-24 19:15:55.952 +08:00 [DBG] Connection id "0HNC33MILGQCI" accepted.
2025-04-24 19:15:55.979 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 19:15:55.981 +08:00 [DBG] Connection id "0HNC33MILGQCI" started.
2025-04-24 19:15:56.002 +08:00 [DBG] Connection id "0HNC33MILGQCH" completed keep alive response.
2025-04-24 19:15:56.004 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 24.3007ms
2025-04-24 19:15:57.685 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 19:15:57.870 +08:00 [DBG] Connection id "0HNC33MILGQCH" completed keep alive response.
2025-04-24 19:15:57.902 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 217.0883ms
2025-04-24 19:16:04.583 +08:00 [DBG] Connection id "0HNC33MILGQCI" received FIN.
2025-04-24 19:16:04.584 +08:00 [DBG] Connection id "0HNC33MILGQCH" received FIN.
2025-04-24 19:16:04.591 +08:00 [DBG] Connection id "0HNC33MILGQCI" disconnecting.
2025-04-24 19:16:04.594 +08:00 [DBG] Connection id "0HNC33MILGQCH" disconnecting.
2025-04-24 19:16:04.598 +08:00 [DBG] Connection id "0HNC33MILGQCI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:16:04.612 +08:00 [DBG] Connection id "0HNC33MILGQCH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:16:04.614 +08:00 [DBG] Connection id "0HNC33MILGQCI" stopped.
2025-04-24 19:16:04.632 +08:00 [DBG] Connection id "0HNC33MILGQCH" stopped.
2025-04-24 19:18:15.479 +08:00 [DBG] Connection id "0HNC33MILGQCJ" accepted.
2025-04-24 19:18:15.486 +08:00 [DBG] Connection id "0HNC33MILGQCJ" received FIN.
2025-04-24 19:18:15.488 +08:00 [DBG] Connection id "0HNC33MILGQCK" accepted.
2025-04-24 19:18:15.488 +08:00 [DBG] Connection id "0HNC33MILGQCJ" started.
2025-04-24 19:18:15.494 +08:00 [DBG] Connection id "0HNC33MILGQCK" started.
2025-04-24 19:18:15.496 +08:00 [DBG] Connection id "0HNC33MILGQCJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:18:15.512 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/ - null null
2025-04-24 19:18:15.513 +08:00 [DBG] Connection id "0HNC33MILGQCJ" disconnecting.
2025-04-24 19:18:15.523 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:18:15.524 +08:00 [DBG] Connection id "0HNC33MILGQCJ" stopped.
2025-04-24 19:18:15.560 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2025-04-24 19:18:15.596 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2025-04-24 19:18:15.605 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:18:15.612 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:18:15.621 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 19:18:15.625 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 19:18:15.627 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 19:18:15.637 +08:00 [DBG] Connection id "0HNC33MILGQCK" completed keep alive response.
2025-04-24 19:18:15.656 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/ - 401 0 null 143.9768ms
2025-04-24 19:18:27.625 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 19:18:27.628 +08:00 [DBG] POST requests are not supported
2025-04-24 19:18:27.629 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 19:18:27.631 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 19:18:27.634 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:18:27.656 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:18:27.658 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:18:27.661 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 19:18:27.668 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:18:27.677 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:18:27.679 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:18:27.745 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:18:27.748 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:18:27.762 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:18:27.767 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:18:27.774 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:18:27.777 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 19:18:27.785 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 19:18:27.787 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 19:18:27.790 +08:00 [DBG] Connection id "0HNC33MILGQCK", Request id "0HNC33MILGQCK:00000002": started reading request body.
2025-04-24 19:18:27.791 +08:00 [DBG] Connection id "0HNC33MILGQCK", Request id "0HNC33MILGQCK:00000002": done reading request body.
2025-04-24 19:18:27.801 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:18:27.804 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:18:27.806 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:18:27.811 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:18:28.026 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:18:28.043 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 19:18:28.089 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 19:18:28.108 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 19:18:28.110 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 19:18:28.112 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 19:18:28.129 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 367.5851ms
2025-04-24 19:18:28.144 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:18:28.146 +08:00 [DBG] Connection id "0HNC33MILGQCK" completed keep alive response.
2025-04-24 19:18:28.211 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 586.2271ms
2025-04-24 19:18:43.188 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/ - null null
2025-04-24 19:18:43.192 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:18:43.195 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2025-04-24 19:18:43.223 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2025-04-24 19:18:43.224 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:18:43.227 +08:00 [DBG] Successfully validated the token.
2025-04-24 19:18:43.228 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 19:18:43.249 +08:00 [DBG] Authorization was successful.
2025-04-24 19:18:43.259 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:18:43.279 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 19:18:43.329 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:18:43.425 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:18:43.427 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:18:43.438 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:18:43.442 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:18:43.445 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:18:43.458 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:18:43.475 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 19:18:43.478 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 19:18:43.500 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 19:18:43.511 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:18:43.523 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:18:43.525 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 19:18:43.528 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 19:18:43.538 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:18:43.545 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 19:18:43.555 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:18:43.558 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:18:43.562 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:18:43.569 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:18:43.574 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:18:43.575 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:18:43.578 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-24 19:18:43.592 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:18:43.594 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:18:43.595 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:18:43.604 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:18:43.606 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:18:43.607 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:18:43.623 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-24 19:18:43.625 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:18:43.626 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:18:43.627 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:18:43.629 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:18:43.636 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:18:43.658 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 19:18:43.672 +08:00 [DBG] Creating DbConnection.
2025-04-24 19:18:43.674 +08:00 [DBG] Created DbConnection. (4ms).
2025-04-24 19:18:43.675 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:18:43.678 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:18:43.688 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:18:43.690 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-24 19:18:43.692 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-24 19:18:43.694 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:18:43.705 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:18:43.708 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:18:43.709 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 19:18:43.711 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:18:43.716 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 19:18:43.736 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:18:43.741 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:18:43.744 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:18:43.745 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 19:18:43.756 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-04-24 19:18:43.758 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:18:43.774 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:18:43.777 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:18:43.789 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:18:43.856 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:18:43.893 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:18:43.896 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:18:43.908 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:18:43.927 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:18:43.993 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:18:44.058 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:18:44.123 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:18:44.143 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:18:44.271 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 495ms reading results.
2025-04-24 19:18:44.288 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:18:44.541 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (252ms).
2025-04-24 19:18:44.546 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:18:44.839 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 19:18:44.878 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 19:18:44.895 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 19:18:44.909 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 19:18:44.945 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 19:18:44.958 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1513.7411ms
2025-04-24 19:18:45.059 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:18:45.062 +08:00 [DBG] Connection id "0HNC33MILGQCK" completed keep alive response.
2025-04-24 19:18:45.088 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 19:18:45.105 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:18:45.297 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (190ms).
2025-04-24 19:18:45.407 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/ - 200 838 application/json; charset=utf-8 2218.7733ms
2025-04-24 19:19:35.977 +08:00 [DBG] Connection id "0HNC33MILGQCL" accepted.
2025-04-24 19:19:35.979 +08:00 [DBG] Connection id "0HNC33MILGQCL" started.
2025-04-24 19:19:35.983 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-24 19:19:35.988 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:19:36.031 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:19:36.033 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:19:36.035 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:19:36.036 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:19:36.038 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 19:19:36.039 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 19:19:36.041 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 19:19:36.043 +08:00 [DBG] Connection id "0HNC33MILGQCL" completed keep alive response.
2025-04-24 19:19:36.050 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 401 0 null 67.4378ms
2025-04-24 19:19:44.201 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 19:19:44.221 +08:00 [DBG] POST requests are not supported
2025-04-24 19:19:44.228 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 19:19:44.237 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 19:19:44.248 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:19:44.258 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:19:44.267 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:19:44.270 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 19:19:44.274 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:19:44.301 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:19:44.303 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:19:44.341 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:19:44.342 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:19:44.358 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:19:44.369 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:19:44.375 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:19:44.455 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 19:19:44.458 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 19:19:44.464 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 19:19:44.467 +08:00 [DBG] Connection id "0HNC33MILGQCL", Request id "0HNC33MILGQCL:00000002": started reading request body.
2025-04-24 19:19:44.469 +08:00 [DBG] Connection id "0HNC33MILGQCL", Request id "0HNC33MILGQCL:00000002": done reading request body.
2025-04-24 19:19:44.504 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:19:44.506 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:19:44.670 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:19:44.691 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:19:44.740 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:19:44.782 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 19:19:44.786 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 19:19:44.791 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 19:19:44.801 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 442.9209ms
2025-04-24 19:19:44.808 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:19:44.809 +08:00 [DBG] Connection id "0HNC33MILGQCL" completed keep alive response.
2025-04-24 19:19:44.815 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 614.206ms
2025-04-24 19:19:54.619 +08:00 [DBG] Connection id "0HNC33MILGQCL" received FIN.
2025-04-24 19:19:54.665 +08:00 [DBG] Connection id "0HNC33MILGQCL" disconnecting.
2025-04-24 19:19:54.702 +08:00 [DBG] Connection id "0HNC33MILGQCL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:19:54.715 +08:00 [DBG] Connection id "0HNC33MILGQCL" stopped.
2025-04-24 19:20:02.792 +08:00 [DBG] Connection id "0HNC33MILGQCM" accepted.
2025-04-24 19:20:02.802 +08:00 [DBG] Connection id "0HNC33MILGQCM" started.
2025-04-24 19:20:02.807 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-24 19:20:02.869 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:20:02.901 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:20:02.936 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:20:02.939 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:20:02.959 +08:00 [DBG] Successfully validated the token.
2025-04-24 19:20:03.055 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 19:20:03.058 +08:00 [DBG] Authorization was successful.
2025-04-24 19:20:03.066 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:20:03.072 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 19:20:03.089 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:20:03.097 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:20:03.103 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:20:03.111 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:20:03.115 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:20:03.129 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:20:03.135 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:20:03.139 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 19:20:03.144 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 19:20:03.155 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 19:20:03.163 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:20:03.664 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:20:03.705 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 19:20:03.707 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 19:20:03.714 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:20:03.721 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 19:20:03.723 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:20:03.728 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:20:03.740 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:20:03.745 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:20:03.751 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:20:03.753 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:20:03.755 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 19:20:03.756 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:20:03.758 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:20:03.777 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:20:03.778 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:20:03.808 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:20:03.823 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 19:20:03.835 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:20:03.838 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:20:03.839 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:20:03.848 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:20:03.863 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 19:20:03.937 +08:00 [DBG] Creating DbConnection.
2025-04-24 19:20:03.945 +08:00 [DBG] Created DbConnection. (8ms).
2025-04-24 19:20:03.966 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:20:03.981 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:03.986 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:20:03.990 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-24 19:20:03.995 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-04-24 19:20:03.998 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:20:04.015 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:20:04.021 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:04.024 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-24 19:20:04.036 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:04.038 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 19:20:04.049 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:20:04.062 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:04.084 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:20:04.085 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 19:20:04.088 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 19:20:04.098 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:20:04.157 +08:00 [INF] Executed DbCommand (59ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:20:04.169 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:04.173 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:04.183 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:04.186 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:04.187 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:04.188 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:04.199 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:04.207 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:04.255 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:04.257 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:04.258 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:04.264 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 95ms reading results.
2025-04-24 19:20:04.274 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:04.275 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 19:20:04.287 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:20:04.305 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 19:20:04.335 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 19:20:04.357 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 19:20:04.373 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1243.6244ms
2025-04-24 19:20:04.389 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:20:04.436 +08:00 [DBG] Connection id "0HNC33MILGQCM" completed keep alive response.
2025-04-24 19:20:04.438 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 19:20:04.447 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:20:04.448 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 19:20:04.449 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 200 838 application/json; charset=utf-8 1642.8329ms
2025-04-24 19:20:04.618 +08:00 [DBG] Connection id "0HNC33MILGQCM" received FIN.
2025-04-24 19:20:04.619 +08:00 [DBG] Connection id "0HNC33MILGQCM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:20:04.623 +08:00 [DBG] Connection id "0HNC33MILGQCM" disconnecting.
2025-04-24 19:20:04.624 +08:00 [DBG] Connection id "0HNC33MILGQCM" stopped.
2025-04-24 19:20:34.178 +08:00 [DBG] Connection id "0HNC33MILGQCN" accepted.
2025-04-24 19:20:34.179 +08:00 [DBG] Connection id "0HNC33MILGQCN" started.
2025-04-24 19:20:34.255 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=5 - null null
2025-04-24 19:20:34.280 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:20:34.285 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:20:34.286 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:20:34.288 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:20:34.290 +08:00 [DBG] Successfully validated the token.
2025-04-24 19:20:34.295 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 19:20:34.298 +08:00 [DBG] Authorization was successful.
2025-04-24 19:20:34.372 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:20:34.389 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 19:20:34.464 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:20:34.470 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:20:34.489 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:20:34.598 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:20:34.612 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:20:34.704 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:20:34.722 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:20:34.904 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 19:20:34.994 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 19:20:35.005 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 19:20:35.018 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:20:35.072 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:20:35.122 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 19:20:35.127 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 19:20:35.128 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:20:35.135 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 19:20:35.137 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:20:35.139 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:20:35.142 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:20:35.145 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:20:35.149 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:20:35.164 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:20:35.166 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 19:20:35.168 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:20:35.177 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:20:35.183 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:20:35.199 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:20:35.225 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:20:35.226 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 19:20:35.228 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:20:35.235 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:20:35.237 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:20:35.244 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:20:35.250 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 19:20:35.264 +08:00 [DBG] Creating DbConnection.
2025-04-24 19:20:35.266 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 19:20:35.267 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:20:35.268 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:35.279 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:20:35.283 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-24 19:20:35.285 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-24 19:20:35.286 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:20:35.288 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:20:35.295 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:35.296 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 19:20:35.298 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:35.299 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 19:20:35.303 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:20:35.304 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:35.305 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:20:35.306 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 19:20:35.308 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 19:20:35.309 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:20:35.319 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:20:35.327 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:35.329 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:35.332 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:35.333 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:35.334 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:20:35.336 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:35.337 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 10ms reading results.
2025-04-24 19:20:35.338 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:20:35.338 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 19:20:35.340 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:20:35.368 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 19:20:35.369 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 19:20:35.371 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 19:20:35.376 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 671.1077ms
2025-04-24 19:20:35.386 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:20:35.387 +08:00 [DBG] Connection id "0HNC33MILGQCN" completed keep alive response.
2025-04-24 19:20:35.388 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 19:20:35.402 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:20:35.403 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 19:20:35.406 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=5 - 200 418 application/json; charset=utf-8 1150.5148ms
2025-04-24 19:20:44.625 +08:00 [DBG] Connection id "0HNC33MILGQCN" received FIN.
2025-04-24 19:20:44.634 +08:00 [DBG] Connection id "0HNC33MILGQCN" disconnecting.
2025-04-24 19:20:44.700 +08:00 [DBG] Connection id "0HNC33MILGQCN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:20:44.718 +08:00 [DBG] Connection id "0HNC33MILGQCN" stopped.
2025-04-24 19:20:56.234 +08:00 [DBG] Connection id "0HNC33MILGQCK" disconnecting.
2025-04-24 19:20:56.236 +08:00 [DBG] Connection id "0HNC33MILGQCK" stopped.
2025-04-24 19:20:56.238 +08:00 [DBG] Connection id "0HNC33MILGQCK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:35:33.984 +08:00 [DBG] Connection id "0HNC33MILGQCO" received FIN.
2025-04-24 19:35:33.988 +08:00 [DBG] Connection id "0HNC33MILGQCO" accepted.
2025-04-24 19:35:33.989 +08:00 [DBG] Connection id "0HNC33MILGQCO" started.
2025-04-24 19:35:33.990 +08:00 [DBG] Connection id "0HNC33MILGQCP" accepted.
2025-04-24 19:35:33.996 +08:00 [DBG] Connection id "0HNC33MILGQCP" started.
2025-04-24 19:35:33.997 +08:00 [DBG] Connection id "0HNC33MILGQCO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:35:33.999 +08:00 [DBG] Connection id "0HNC33MILGQCO" disconnecting.
2025-04-24 19:35:34.000 +08:00 [DBG] Connection id "0HNC33MILGQCO" stopped.
2025-04-24 19:35:34.000 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 19:35:34.005 +08:00 [DBG] POST requests are not supported
2025-04-24 19:35:34.012 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 19:35:34.013 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 19:35:34.018 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:35:34.021 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:35:34.027 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:35:34.032 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 19:35:34.035 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:35:34.037 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:35:34.039 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:35:34.045 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:35:34.048 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:35:34.051 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:35:34.053 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:35:34.060 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:35:34.067 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 19:35:34.069 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 19:35:34.071 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 19:35:34.078 +08:00 [DBG] Connection id "0HNC33MILGQCP", Request id "0HNC33MILGQCP:00000001": started reading request body.
2025-04-24 19:35:34.081 +08:00 [DBG] Connection id "0HNC33MILGQCP", Request id "0HNC33MILGQCP:00000001": done reading request body.
2025-04-24 19:35:34.088 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:35:34.089 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:35:34.100 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:35:34.102 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:35:34.110 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:35:34.119 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 19:35:34.121 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 19:35:34.123 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 19:35:34.132 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 19:35:34.136 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 19:35:34.147 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 96.3316ms
2025-04-24 19:35:34.164 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:35:34.171 +08:00 [DBG] Connection id "0HNC33MILGQCP" completed keep alive response.
2025-04-24 19:35:34.312 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 311.6253ms
2025-04-24 19:36:38.820 +08:00 [DBG] Connection id "0HNC33MILGQCQ" received FIN.
2025-04-24 19:36:38.829 +08:00 [DBG] Connection id "0HNC33MILGQCQ" accepted.
2025-04-24 19:36:38.830 +08:00 [DBG] Connection id "0HNC33MILGQCQ" started.
2025-04-24 19:36:38.830 +08:00 [DBG] Connection id "0HNC33MILGQCR" accepted.
2025-04-24 19:36:38.831 +08:00 [DBG] Connection id "0HNC33MILGQCQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:36:38.832 +08:00 [DBG] Connection id "0HNC33MILGQCR" started.
2025-04-24 19:36:38.833 +08:00 [DBG] Connection id "0HNC33MILGQCQ" disconnecting.
2025-04-24 19:36:38.834 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 19:36:38.835 +08:00 [DBG] Connection id "0HNC33MILGQCQ" stopped.
2025-04-24 19:36:38.843 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:36:38.849 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:36:38.851 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:36:38.853 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:36:38.858 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:36:38.861 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 19:36:38.864 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 19:36:38.866 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 19:36:38.867 +08:00 [DBG] Connection id "0HNC33MILGQCR" completed keep alive response.
2025-04-24 19:36:38.869 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 34.8836ms
2025-04-24 19:36:52.683 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 19:36:52.693 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:36:52.700 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:36:52.710 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:36:52.717 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:36:52.733 +08:00 [DBG] Successfully validated the token.
2025-04-24 19:36:52.734 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 19:36:52.759 +08:00 [DBG] Authorization was successful.
2025-04-24 19:36:52.761 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:36:52.779 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 19:36:52.790 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:36:52.793 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:36:52.798 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:36:52.819 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:36:52.833 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:36:52.839 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:36:52.851 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:36:52.860 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 19:36:52.864 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 19:36:52.867 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 19:36:52.869 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:36:52.878 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:36:52.880 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 19:36:52.882 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 19:36:52.892 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:36:52.897 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 19:36:52.901 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:36:52.908 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:36:52.911 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:36:52.913 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:36:52.917 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:36:52.929 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:36:52.933 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-24 19:36:52.939 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:36:52.942 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:36:52.944 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:36:52.946 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:36:52.947 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:36:52.949 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:36:52.950 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-24 19:36:52.952 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:36:52.957 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:36:52.959 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:36:52.961 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:36:52.964 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:36:52.978 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 19:36:52.982 +08:00 [DBG] Creating DbConnection.
2025-04-24 19:36:52.989 +08:00 [DBG] Created DbConnection. (6ms).
2025-04-24 19:36:52.993 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:36:53.026 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:36:53.033 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:36:53.040 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-04-24 19:36:53.044 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-04-24 19:36:53.047 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:36:53.073 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:36:53.079 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:36:53.080 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 19:36:53.083 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:36:53.085 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 19:36:53.095 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:36:53.099 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:36:53.100 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:36:53.102 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 19:36:53.113 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-04-24 19:36:53.117 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:36:53.124 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:36:53.132 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:36:53.134 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:36:53.148 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:36:53.150 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:36:53.152 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:36:53.157 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:36:53.159 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:36:53.162 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:36:53.164 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:36:53.167 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:36:53.174 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:36:53.179 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 48ms reading results.
2025-04-24 19:36:53.182 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:36:53.183 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 19:36:53.194 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:36:53.229 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 19:36:53.230 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 19:36:53.231 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 19:36:53.238 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 19:36:53.247 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 19:36:53.252 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 412.6077ms
2025-04-24 19:36:53.272 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:36:53.276 +08:00 [DBG] Connection id "0HNC33MILGQCR" completed keep alive response.
2025-04-24 19:36:53.278 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 19:36:53.279 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:36:53.281 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 19:36:53.283 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 600.5771ms
2025-04-24 19:37:40.993 +08:00 [DBG] Connection id "0HNC33MILGQCS" accepted.
2025-04-24 19:37:41.059 +08:00 [DBG] Connection id "0HNC33MILGQCS" started.
2025-04-24 19:37:41.062 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=5 - null null
2025-04-24 19:37:41.064 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:37:41.065 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:37:41.068 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:37:41.069 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:37:41.071 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:37:41.073 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 19:37:41.077 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 19:37:41.078 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 19:37:41.079 +08:00 [DBG] Connection id "0HNC33MILGQCS" completed keep alive response.
2025-04-24 19:37:41.081 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=5 - 401 0 null 19.1377ms
2025-04-24 19:37:45.229 +08:00 [DBG] Connection id "0HNC33MILGQCP" disconnecting.
2025-04-24 19:37:45.231 +08:00 [DBG] Connection id "0HNC33MILGQCP" stopped.
2025-04-24 19:37:45.233 +08:00 [DBG] Connection id "0HNC33MILGQCP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:37:48.821 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 19:37:48.824 +08:00 [DBG] POST requests are not supported
2025-04-24 19:37:48.826 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 19:37:48.831 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 19:37:48.840 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:37:48.842 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:37:48.852 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:37:48.860 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 19:37:48.862 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:37:48.863 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:37:48.864 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:37:48.867 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:37:48.871 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:37:48.872 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:37:48.873 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:37:48.875 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:37:48.878 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 19:37:48.879 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 19:37:48.880 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 19:37:48.882 +08:00 [DBG] Connection id "0HNC33MILGQCS", Request id "0HNC33MILGQCS:00000002": started reading request body.
2025-04-24 19:37:48.885 +08:00 [DBG] Connection id "0HNC33MILGQCS", Request id "0HNC33MILGQCS:00000002": done reading request body.
2025-04-24 19:37:48.888 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:37:48.889 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:37:48.890 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:37:48.892 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:37:48.896 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:37:48.898 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 19:37:48.900 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 19:37:48.903 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 19:37:48.906 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 33.889ms
2025-04-24 19:37:48.908 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:37:48.910 +08:00 [DBG] Connection id "0HNC33MILGQCS" completed keep alive response.
2025-04-24 19:37:48.912 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 91.0272ms
2025-04-24 19:37:50.708 +08:00 [DBG] Connection id "0HNC33MILGQCS" received FIN.
2025-04-24 19:37:50.710 +08:00 [DBG] Connection id "0HNC33MILGQCS" disconnecting.
2025-04-24 19:37:50.730 +08:00 [DBG] Connection id "0HNC33MILGQCS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:37:50.756 +08:00 [DBG] Connection id "0HNC33MILGQCS" stopped.
2025-04-24 19:38:00.276 +08:00 [DBG] Connection id "0HNC33MILGQCT" accepted.
2025-04-24 19:38:00.280 +08:00 [DBG] Connection id "0HNC33MILGQCT" started.
2025-04-24 19:38:00.283 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=5 - null null
2025-04-24 19:38:00.292 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:38:00.300 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:38:00.308 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:38:00.312 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:38:00.314 +08:00 [DBG] Successfully validated the token.
2025-04-24 19:38:00.320 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 19:38:00.321 +08:00 [DBG] Authorization was successful.
2025-04-24 19:38:00.322 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:38:00.323 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 19:38:00.324 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:38:00.328 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:38:00.329 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:38:00.331 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:38:00.335 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:38:00.338 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:38:00.342 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:38:00.344 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 19:38:00.347 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 19:38:00.351 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 19:38:00.354 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:38:00.358 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:38:00.360 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 19:38:00.361 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 19:38:00.364 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:38:00.368 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 19:38:00.370 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:38:00.371 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:38:00.373 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:38:00.376 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:38:00.378 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:38:00.379 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:38:00.380 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 19:38:00.381 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:38:00.384 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:38:00.386 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:38:00.388 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:38:00.389 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:38:00.390 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 19:38:00.392 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:38:00.393 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:38:00.395 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:38:00.396 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:38:00.400 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 19:38:00.402 +08:00 [DBG] Creating DbConnection.
2025-04-24 19:38:00.404 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 19:38:00.405 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:38:00.407 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:38:00.409 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:38:00.411 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-24 19:38:00.412 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 19:38:00.413 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:38:00.414 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:38:00.424 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:38:00.428 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2025-04-24 19:38:00.429 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:38:00.430 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 19:38:00.436 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:38:00.437 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:38:00.438 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:38:00.439 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-24 19:38:00.440 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-24 19:38:00.441 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:38:00.444 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:38:00.450 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:38:00.454 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:38:00.456 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:38:00.458 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:38:00.460 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:38:00.461 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:38:00.461 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 13ms reading results.
2025-04-24 19:38:00.462 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:38:00.463 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-24 19:38:00.468 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:38:00.472 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 19:38:00.474 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 19:38:00.479 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 19:38:00.481 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 143.0338ms
2025-04-24 19:38:00.491 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:38:00.493 +08:00 [DBG] Connection id "0HNC33MILGQCT" completed keep alive response.
2025-04-24 19:38:00.494 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 19:38:00.505 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:38:00.508 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 19:38:00.510 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=5 - 200 418 application/json; charset=utf-8 226.8473ms
2025-04-24 19:38:00.710 +08:00 [DBG] Connection id "0HNC33MILGQCT" received FIN.
2025-04-24 19:38:00.764 +08:00 [DBG] Connection id "0HNC33MILGQCT" disconnecting.
2025-04-24 19:38:00.777 +08:00 [DBG] Connection id "0HNC33MILGQCT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:38:00.808 +08:00 [DBG] Connection id "0HNC33MILGQCT" stopped.
2025-04-24 19:39:04.068 +08:00 [DBG] Connection id "0HNC33MILGQCR" disconnecting.
2025-04-24 19:39:04.070 +08:00 [DBG] Connection id "0HNC33MILGQCR" stopped.
2025-04-24 19:39:04.072 +08:00 [DBG] Connection id "0HNC33MILGQCR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:44:42.820 +08:00 [DBG] Connection id "0HNC33MILGQCU" accepted.
2025-04-24 19:44:43.237 +08:00 [DBG] Connection id "0HNC33MILGQCU" started.
2025-04-24 19:44:43.251 +08:00 [DBG] Connection id "0HNC33MILGQCV" accepted.
2025-04-24 19:44:43.339 +08:00 [DBG] Connection id "0HNC33MILGQCV" started.
2025-04-24 19:44:43.345 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-24 19:44:43.376 +08:00 [DBG] Connection id "0HNC33MILGQCV" completed keep alive response.
2025-04-24 19:44:43.384 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 39.6148ms
2025-04-24 19:44:45.233 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-24 19:44:45.341 +08:00 [DBG] Connection id "0HNC33MILGQCV" completed keep alive response.
2025-04-24 19:44:45.352 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.8029ms
2025-04-24 19:44:46.246 +08:00 [DBG] Connection id "0HNC33MILGQCU" received FIN.
2025-04-24 19:44:46.246 +08:00 [DBG] Connection id "0HNC33MILGQCV" received FIN.
2025-04-24 19:44:46.255 +08:00 [DBG] Connection id "0HNC33MILGQCU" disconnecting.
2025-04-24 19:44:46.256 +08:00 [DBG] Connection id "0HNC33MILGQCV" disconnecting.
2025-04-24 19:44:46.269 +08:00 [DBG] Connection id "0HNC33MILGQCU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:44:46.272 +08:00 [DBG] Connection id "0HNC33MILGQCV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:44:46.284 +08:00 [DBG] Connection id "0HNC33MILGQCU" stopped.
2025-04-24 19:44:46.306 +08:00 [DBG] Connection id "0HNC33MILGQCV" stopped.
2025-04-24 19:46:25.284 +08:00 [DBG] Connection id "0HNC33MILGQD0" received FIN.
2025-04-24 19:46:25.300 +08:00 [DBG] Connection id "0HNC33MILGQD0" accepted.
2025-04-24 19:46:25.302 +08:00 [DBG] Connection id "0HNC33MILGQD0" started.
2025-04-24 19:46:25.302 +08:00 [DBG] Connection id "0HNC33MILGQD1" accepted.
2025-04-24 19:46:25.306 +08:00 [DBG] Connection id "0HNC33MILGQD1" started.
2025-04-24 19:46:25.307 +08:00 [DBG] Connection id "0HNC33MILGQD0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:46:25.308 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 19:46:25.311 +08:00 [DBG] Connection id "0HNC33MILGQD0" disconnecting.
2025-04-24 19:46:25.315 +08:00 [DBG] POST requests are not supported
2025-04-24 19:46:25.316 +08:00 [DBG] Connection id "0HNC33MILGQD0" stopped.
2025-04-24 19:46:25.318 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 19:46:25.323 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 19:46:25.325 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:46:25.328 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:46:25.330 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:46:25.332 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 19:46:25.333 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:46:25.334 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:46:25.336 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:46:25.340 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:46:25.341 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:46:25.343 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:46:25.344 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:46:25.345 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:46:25.345 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 19:46:25.347 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 19:46:25.348 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 19:46:25.349 +08:00 [DBG] Connection id "0HNC33MILGQD1", Request id "0HNC33MILGQD1:00000001": started reading request body.
2025-04-24 19:46:25.350 +08:00 [DBG] Connection id "0HNC33MILGQD1", Request id "0HNC33MILGQD1:00000001": done reading request body.
2025-04-24 19:46:25.352 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:46:25.355 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:46:25.357 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:46:25.359 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:46:25.362 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:46:25.365 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 19:46:25.365 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 19:46:25.366 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 19:46:25.366 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 19:46:25.369 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 19:46:25.370 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 27.2508ms
2025-04-24 19:46:25.373 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:46:25.373 +08:00 [DBG] Connection id "0HNC33MILGQD1" completed keep alive response.
2025-04-24 19:46:25.381 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 72.6347ms
2025-04-24 19:47:24.306 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 19:47:24.309 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:47:24.311 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:47:24.313 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:47:24.315 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:47:24.316 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:47:24.318 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 19:47:24.321 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 19:47:24.323 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 19:47:24.326 +08:00 [DBG] Connection id "0HNC33MILGQD1" completed keep alive response.
2025-04-24 19:47:24.331 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 25.7759ms
2025-04-24 19:47:33.695 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 19:47:33.700 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:47:33.702 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:47:33.704 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:47:33.710 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:47:33.724 +08:00 [DBG] Successfully validated the token.
2025-04-24 19:47:33.725 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 19:47:33.727 +08:00 [DBG] Authorization was successful.
2025-04-24 19:47:33.730 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:47:33.732 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 19:47:33.735 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:47:33.738 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:47:33.741 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:47:33.742 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:47:33.743 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:47:33.745 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:47:33.747 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:47:33.749 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 19:47:33.755 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 19:47:33.759 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 19:47:33.761 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:47:33.762 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:47:33.763 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 19:47:33.764 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 19:47:33.766 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:47:33.767 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 19:47:33.771 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:47:33.773 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:47:33.774 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:47:33.775 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:47:33.776 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:47:33.778 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:47:33.779 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-24 19:47:33.781 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:47:33.802 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:47:33.807 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:47:33.810 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:47:33.812 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:47:33.813 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:47:33.815 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-24 19:47:33.822 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:47:33.825 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:47:33.829 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:47:33.830 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:47:33.832 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:47:33.837 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 19:47:33.842 +08:00 [DBG] Creating DbConnection.
2025-04-24 19:47:33.844 +08:00 [DBG] Created DbConnection. (2ms).
2025-04-24 19:47:33.845 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:47:33.851 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:47:33.854 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:47:33.856 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-24 19:47:33.862 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-24 19:47:33.864 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:47:33.874 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:47:33.882 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:47:33.896 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 13ms reading results.
2025-04-24 19:47:33.913 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:47:33.926 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (12ms).
2025-04-24 19:47:33.932 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:47:33.945 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:47:33.952 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:47:33.962 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2025-04-24 19:47:33.966 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-04-24 19:47:33.993 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:47:34.000 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:47:34.049 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:47:34.075 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:47:34.082 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:47:34.097 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:47:34.104 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:47:34.111 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:47:34.116 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:47:34.125 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:47:34.137 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:47:34.144 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:47:34.266 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:47:34.315 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 269ms reading results.
2025-04-24 19:47:34.341 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:47:34.347 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-24 19:47:34.364 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:47:34.416 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 19:47:34.430 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 19:47:34.432 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 19:47:34.462 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 19:47:34.512 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 19:47:34.516 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 771.0154ms
2025-04-24 19:47:34.590 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:47:34.594 +08:00 [DBG] Connection id "0HNC33MILGQD1" completed keep alive response.
2025-04-24 19:47:34.597 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 19:47:34.599 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:47:34.602 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 19:47:34.604 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 909.8185ms
2025-04-24 19:48:04.337 +08:00 [DBG] Connection id "0HNC33MILGQD2" accepted.
2025-04-24 19:48:04.341 +08:00 [DBG] Connection id "0HNC33MILGQD2" started.
2025-04-24 19:48:04.343 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-24 19:48:04.351 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:48:04.355 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:48:04.359 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:48:04.361 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:48:04.362 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:48:04.364 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 19:48:04.379 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 19:48:04.385 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 19:48:04.386 +08:00 [DBG] Connection id "0HNC33MILGQD2" completed keep alive response.
2025-04-24 19:48:04.393 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 401 0 null 49.92ms
2025-04-24 19:48:06.286 +08:00 [DBG] Connection id "0HNC33MILGQD2" received FIN.
2025-04-24 19:48:06.302 +08:00 [DBG] Connection id "0HNC33MILGQD2" disconnecting.
2025-04-24 19:48:06.315 +08:00 [DBG] Connection id "0HNC33MILGQD2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:48:06.324 +08:00 [DBG] Connection id "0HNC33MILGQD2" stopped.
2025-04-24 19:48:21.132 +08:00 [DBG] Connection id "0HNC33MILGQD3" accepted.
2025-04-24 19:48:21.135 +08:00 [DBG] Connection id "0HNC33MILGQD3" started.
2025-04-24 19:48:21.137 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 19:48:21.213 +08:00 [DBG] POST requests are not supported
2025-04-24 19:48:21.223 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 19:48:21.226 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 19:48:21.229 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:48:21.234 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 19:48:21.235 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:48:21.236 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 19:48:21.237 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:48:21.239 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:48:21.240 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:48:21.242 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:48:21.243 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:48:21.244 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:48:21.245 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 19:48:21.246 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:48:21.250 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 19:48:21.252 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 19:48:21.253 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 19:48:21.254 +08:00 [DBG] Connection id "0HNC33MILGQD3", Request id "0HNC33MILGQD3:00000001": started reading request body.
2025-04-24 19:48:21.255 +08:00 [DBG] Connection id "0HNC33MILGQD3", Request id "0HNC33MILGQD3:00000001": done reading request body.
2025-04-24 19:48:21.256 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:48:21.257 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:48:21.260 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 19:48:21.263 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 19:48:21.267 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:48:21.270 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 19:48:21.271 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 19:48:21.272 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 19:48:21.273 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 28.939ms
2025-04-24 19:48:21.275 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 19:48:21.276 +08:00 [DBG] Connection id "0HNC33MILGQD3" completed keep alive response.
2025-04-24 19:48:21.279 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 142.7243ms
2025-04-24 19:48:26.290 +08:00 [DBG] Connection id "0HNC33MILGQD3" received FIN.
2025-04-24 19:48:26.292 +08:00 [DBG] Connection id "0HNC33MILGQD3" disconnecting.
2025-04-24 19:48:26.294 +08:00 [DBG] Connection id "0HNC33MILGQD3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:48:26.299 +08:00 [DBG] Connection id "0HNC33MILGQD3" stopped.
2025-04-24 19:48:36.006 +08:00 [DBG] Connection id "0HNC33MILGQD4" accepted.
2025-04-24 19:48:36.022 +08:00 [DBG] Connection id "0HNC33MILGQD4" started.
2025-04-24 19:48:36.024 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-24 19:48:36.027 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 19:48:36.055 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 19:48:36.075 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 19:48:36.077 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:48:36.082 +08:00 [DBG] Successfully validated the token.
2025-04-24 19:48:36.083 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 19:48:36.084 +08:00 [DBG] Authorization was successful.
2025-04-24 19:48:36.085 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:48:36.086 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 19:48:36.087 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 19:48:36.089 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 19:48:36.091 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 19:48:36.093 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 19:48:36.094 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 19:48:36.095 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:48:36.100 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 19:48:36.102 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 19:48:36.103 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 19:48:36.106 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 19:48:36.108 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:48:36.109 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 19:48:36.110 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 19:48:36.112 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 19:48:36.115 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:48:36.116 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 19:48:36.118 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:48:36.120 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:48:36.121 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:48:36.122 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 19:48:36.123 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 19:48:36.123 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:48:36.125 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 19:48:36.126 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:48:36.127 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:48:36.128 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 19:48:36.129 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 19:48:36.132 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:48:36.133 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 19:48:36.134 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:48:36.135 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:48:36.135 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 19:48:36.136 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 19:48:36.140 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 19:48:36.153 +08:00 [DBG] Creating DbConnection.
2025-04-24 19:48:36.156 +08:00 [DBG] Created DbConnection. (3ms).
2025-04-24 19:48:36.169 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:48:36.171 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:48:36.172 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:48:36.174 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 19:48:36.175 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 19:48:36.177 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:48:36.183 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 19:48:36.186 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:48:36.187 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 19:48:36.191 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:48:36.192 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 19:48:36.194 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:48:36.195 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:48:36.198 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 19:48:36.200 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 19:48:36.201 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 19:48:36.202 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:48:36.203 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 19:48:36.205 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:48:36.206 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:48:36.207 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:48:36.209 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:48:36.212 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:48:36.213 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:48:36.215 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:48:36.216 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:48:36.217 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:48:36.219 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 19:48:36.221 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:48:36.222 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 16ms reading results.
2025-04-24 19:48:36.223 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 19:48:36.224 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 19:48:36.225 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 19:48:36.228 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 19:48:36.229 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 19:48:36.231 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 19:48:36.233 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 137.5645ms
2025-04-24 19:48:36.234 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 19:48:36.235 +08:00 [DBG] Connection id "0HNC33MILGQD4" completed keep alive response.
2025-04-24 19:48:36.237 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 19:48:36.238 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 19:48:36.239 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 19:48:36.241 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 200 838 application/json; charset=utf-8 216.5458ms
2025-04-24 19:48:36.292 +08:00 [DBG] Connection id "0HNC33MILGQD4" received FIN.
2025-04-24 19:48:36.293 +08:00 [DBG] Connection id "0HNC33MILGQD4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 19:48:36.295 +08:00 [DBG] Connection id "0HNC33MILGQD4" disconnecting.
2025-04-24 19:48:36.296 +08:00 [DBG] Connection id "0HNC33MILGQD4" stopped.
2025-04-24 19:49:45.765 +08:00 [DBG] Connection id "0HNC33MILGQD1" disconnecting.
2025-04-24 19:49:45.772 +08:00 [DBG] Connection id "0HNC33MILGQD1" stopped.
2025-04-24 19:49:45.777 +08:00 [DBG] Connection id "0HNC33MILGQD1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 20:48:11.237 +08:00 [DBG] Connection id "0HNC33MILGQD5" received FIN.
2025-04-24 20:48:11.276 +08:00 [DBG] Connection id "0HNC33MILGQD5" accepted.
2025-04-24 20:48:11.280 +08:00 [DBG] Connection id "0HNC33MILGQD5" started.
2025-04-24 20:48:11.287 +08:00 [DBG] Connection id "0HNC33MILGQD6" accepted.
2025-04-24 20:48:11.290 +08:00 [DBG] Connection id "0HNC33MILGQD5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 20:48:11.307 +08:00 [DBG] Connection id "0HNC33MILGQD6" started.
2025-04-24 20:48:11.310 +08:00 [DBG] Connection id "0HNC33MILGQD5" disconnecting.
2025-04-24 20:48:11.340 +08:00 [DBG] Connection id "0HNC33MILGQD5" stopped.
2025-04-24 20:48:11.351 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-24 20:48:11.372 +08:00 [DBG] POST requests are not supported
2025-04-24 20:48:11.379 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 20:48:11.385 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 20:48:11.389 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 20:48:11.401 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 20:48:11.406 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 20:48:11.413 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 20:48:11.423 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 20:48:11.424 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 20:48:11.429 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 20:48:11.435 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 20:48:11.441 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 20:48:11.443 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 20:48:11.444 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 20:48:11.458 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 20:48:11.468 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 20:48:11.475 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-24 20:48:11.479 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-24 20:48:11.493 +08:00 [DBG] Connection id "0HNC33MILGQD6", Request id "0HNC33MILGQD6:00000001": started reading request body.
2025-04-24 20:48:11.495 +08:00 [DBG] Connection id "0HNC33MILGQD6", Request id "0HNC33MILGQD6:00000001": done reading request body.
2025-04-24 20:48:11.512 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 20:48:11.521 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 20:48:11.523 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 20:48:11.539 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 20:48:11.562 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 20:48:11.572 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 20:48:11.573 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 20:48:11.574 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 20:48:11.575 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 20:48:11.578 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 20:48:11.587 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 144.515ms
2025-04-24 20:48:11.594 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 20:48:11.603 +08:00 [DBG] Connection id "0HNC33MILGQD6" completed keep alive response.
2025-04-24 20:48:11.606 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 261.4532ms
2025-04-24 20:49:42.590 +08:00 [DBG] Connection id "0HNC33MILGQD7" accepted.
2025-04-24 20:49:42.590 +08:00 [DBG] Connection id "0HNC33MILGQD7" received FIN.
2025-04-24 20:49:42.592 +08:00 [DBG] Connection id "0HNC33MILGQD8" accepted.
2025-04-24 20:49:42.594 +08:00 [DBG] Connection id "0HNC33MILGQD7" started.
2025-04-24 20:49:42.616 +08:00 [DBG] Connection id "0HNC33MILGQD8" started.
2025-04-24 20:49:42.624 +08:00 [DBG] Connection id "0HNC33MILGQD7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 20:49:42.640 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 20:49:42.648 +08:00 [DBG] Connection id "0HNC33MILGQD7" disconnecting.
2025-04-24 20:49:42.657 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 20:49:42.657 +08:00 [DBG] Connection id "0HNC33MILGQD7" stopped.
2025-04-24 20:49:42.674 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 20:49:42.688 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 20:49:42.689 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 20:49:42.690 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 20:49:42.704 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 20:49:42.706 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 20:49:42.720 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 20:49:42.723 +08:00 [DBG] Connection id "0HNC33MILGQD8" completed keep alive response.
2025-04-24 20:49:42.736 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 95.5323ms
2025-04-24 20:49:50.192 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-24 20:49:50.195 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 20:49:50.198 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 20:49:50.199 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 20:49:50.202 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 20:49:50.220 +08:00 [DBG] Successfully validated the token.
2025-04-24 20:49:50.222 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 20:49:50.223 +08:00 [DBG] Authorization was successful.
2025-04-24 20:49:50.224 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 20:49:50.227 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 20:49:50.235 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 20:49:50.238 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 20:49:50.240 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 20:49:50.252 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 20:49:50.253 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 20:49:50.256 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 20:49:50.273 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 20:49:50.282 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 20:49:50.284 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 20:49:50.285 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 20:49:50.287 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 20:49:50.289 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 20:49:50.290 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 20:49:50.299 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 20:49:50.302 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 20:49:50.304 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 20:49:50.305 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:49:50.306 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:49:50.307 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:49:50.311 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 20:49:50.322 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:49:50.332 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 20:49:50.336 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-24 20:49:50.339 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 20:49:50.340 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 20:49:50.355 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 20:49:50.369 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 20:49:50.371 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 20:49:50.438 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 20:49:50.439 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-24 20:49:50.440 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-24 20:49:50.446 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 20:49:50.447 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 20:49:50.449 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 20:49:50.450 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 20:49:50.488 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 20:49:50.517 +08:00 [DBG] Creating DbConnection.
2025-04-24 20:49:50.522 +08:00 [DBG] Created DbConnection. (4ms).
2025-04-24 20:49:50.523 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 20:49:50.551 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:49:50.556 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 20:49:50.557 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-24 20:49:50.564 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-24 20:49:50.568 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 20:49:50.589 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 20:49:50.603 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:49:50.606 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2025-04-24 20:49:50.617 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:49:50.620 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-24 20:49:50.636 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 20:49:50.668 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:49:50.680 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 20:49:50.683 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-24 20:49:50.687 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-24 20:49:50.689 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 20:49:50.722 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 20:49:50.739 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:49:50.740 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:49:50.748 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:49:50.756 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:49:50.770 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:49:50.773 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:49:50.784 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:49:50.787 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:49:50.789 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:49:50.800 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:49:50.802 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:49:50.804 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 67ms reading results.
2025-04-24 20:49:50.806 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:49:50.817 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (10ms).
2025-04-24 20:49:50.835 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 20:49:50.839 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-24 20:49:50.840 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 20:49:50.841 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 20:49:50.848 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 20:49:50.850 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 20:49:50.866 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 610.193ms
2025-04-24 20:49:50.870 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 20:49:50.883 +08:00 [DBG] Connection id "0HNC33MILGQD8" completed keep alive response.
2025-04-24 20:49:50.888 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 20:49:50.924 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 20:49:50.954 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (29ms).
2025-04-24 20:49:50.960 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 768.4638ms
2025-04-24 20:50:09.881 +08:00 [DBG] Connection id "0HNC33MILGQD9" accepted.
2025-04-24 20:50:09.885 +08:00 [DBG] Connection id "0HNC33MILGQD9" started.
2025-04-24 20:50:09.889 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-24 20:50:09.895 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 20:50:09.900 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 20:50:09.919 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 20:50:09.921 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 20:50:09.930 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 20:50:09.938 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-24 20:50:09.939 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-24 20:50:09.943 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-24 20:50:09.948 +08:00 [DBG] Connection id "0HNC33MILGQD9" completed keep alive response.
2025-04-24 20:50:09.950 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 401 0 null 60.9183ms
2025-04-24 20:50:12.074 +08:00 [DBG] Connection id "0HNC33MILGQD9" received FIN.
2025-04-24 20:50:12.076 +08:00 [DBG] Connection id "0HNC33MILGQD9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 20:50:12.080 +08:00 [DBG] Connection id "0HNC33MILGQD9" disconnecting.
2025-04-24 20:50:12.083 +08:00 [DBG] Connection id "0HNC33MILGQD9" stopped.
2025-04-24 20:50:23.052 +08:00 [DBG] Connection id "0HNC33MILGQD6" disconnecting.
2025-04-24 20:50:23.057 +08:00 [DBG] Connection id "0HNC33MILGQD6" stopped.
2025-04-24 20:50:23.058 +08:00 [DBG] Connection id "0HNC33MILGQD6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 20:50:26.524 +08:00 [DBG] Connection id "0HNC33MILGQDA" accepted.
2025-04-24 20:50:26.528 +08:00 [DBG] Connection id "0HNC33MILGQDA" started.
2025-04-24 20:50:26.564 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json-patch+json 50
2025-04-24 20:50:26.569 +08:00 [DBG] POST requests are not supported
2025-04-24 20:50:26.570 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-24 20:50:26.579 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-24 20:50:26.583 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 20:50:26.585 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 20:50:26.587 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 20:50:26.588 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-24 20:50:26.596 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 20:50:26.597 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 20:50:26.599 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 20:50:26.601 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 20:50:26.602 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 20:50:26.604 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 20:50:26.605 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-24 20:50:26.606 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 20:50:26.611 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-24 20:50:26.613 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 20:50:26.614 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-04-24 20:50:26.616 +08:00 [DBG] Connection id "0HNC33MILGQDA", Request id "0HNC33MILGQDA:00000001": started reading request body.
2025-04-24 20:50:26.617 +08:00 [DBG] Connection id "0HNC33MILGQDA", Request id "0HNC33MILGQDA:00000001": done reading request body.
2025-04-24 20:50:26.619 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 20:50:26.620 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 20:50:26.622 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-24 20:50:26.629 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-24 20:50:26.632 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 20:50:26.636 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 20:50:26.638 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-24 20:50:26.643 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-24 20:50:26.645 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 41.2474ms
2025-04-24 20:50:26.650 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-24 20:50:26.699 +08:00 [DBG] Connection id "0HNC33MILGQDA" completed keep alive response.
2025-04-24 20:50:26.701 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 136.314ms
2025-04-24 20:50:27.083 +08:00 [DBG] Connection id "0HNC33MILGQDA" received FIN.
2025-04-24 20:50:27.086 +08:00 [DBG] Connection id "0HNC33MILGQDA" disconnecting.
2025-04-24 20:50:27.087 +08:00 [DBG] Connection id "0HNC33MILGQDA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 20:50:27.098 +08:00 [DBG] Connection id "0HNC33MILGQDA" stopped.
2025-04-24 20:50:42.077 +08:00 [DBG] Connection id "0HNC33MILGQDB" accepted.
2025-04-24 20:50:42.086 +08:00 [DBG] Connection id "0HNC33MILGQDB" started.
2025-04-24 20:50:42.119 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-24 20:50:42.134 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 20:50:42.136 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 20:50:42.137 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 20:50:42.138 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 20:50:42.148 +08:00 [DBG] Successfully validated the token.
2025-04-24 20:50:42.149 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 20:50:42.151 +08:00 [DBG] Authorization was successful.
2025-04-24 20:50:42.153 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 20:50:42.154 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 20:50:42.159 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 20:50:42.163 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 20:50:42.165 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 20:50:42.166 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 20:50:42.167 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 20:50:42.168 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 20:50:42.170 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 20:50:42.179 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 20:50:42.181 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 20:50:42.183 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 20:50:42.184 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 20:50:42.185 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 20:50:42.186 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 20:50:42.188 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 20:50:42.196 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 20:50:42.198 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 20:50:42.199 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:50:42.200 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:50:42.201 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:50:42.204 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 20:50:42.208 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:50:42.213 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 20:50:42.215 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 20:50:42.217 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 20:50:42.219 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 20:50:42.221 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 20:50:42.229 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 20:50:42.231 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 20:50:42.232 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 20:50:42.235 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 20:50:42.236 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 20:50:42.238 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 20:50:42.245 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 20:50:42.247 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 20:50:42.249 +08:00 [DBG] Creating DbConnection.
2025-04-24 20:50:42.250 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-24 20:50:42.251 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 20:50:42.252 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:42.262 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 20:50:42.263 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 20:50:42.264 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 20:50:42.266 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 20:50:42.268 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 20:50:42.270 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:42.279 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2025-04-24 20:50:42.281 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:42.282 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 20:50:42.284 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 20:50:42.285 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:42.286 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 20:50:42.288 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 20:50:42.297 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-24 20:50:42.298 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 20:50:42.300 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 20:50:42.303 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:42.304 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:42.316 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:42.321 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:42.329 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:42.331 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:42.336 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:42.338 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:42.346 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:42.348 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:42.350 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:42.352 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 49ms reading results.
2025-04-24 20:50:42.354 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:42.363 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2025-04-24 20:50:42.365 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 20:50:42.370 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 20:50:42.384 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 20:50:42.401 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 20:50:42.483 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 314.8933ms
2025-04-24 20:50:42.524 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 20:50:42.551 +08:00 [DBG] Connection id "0HNC33MILGQDB" completed keep alive response.
2025-04-24 20:50:42.582 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 20:50:42.584 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 20:50:42.586 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 20:50:42.587 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 200 838 application/json; charset=utf-8 470.2091ms
2025-04-24 20:50:47.097 +08:00 [DBG] Connection id "0HNC33MILGQDB" received FIN.
2025-04-24 20:50:47.100 +08:00 [DBG] Connection id "0HNC33MILGQDB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 20:50:47.101 +08:00 [DBG] Connection id "0HNC33MILGQDB" disconnecting.
2025-04-24 20:50:47.102 +08:00 [DBG] Connection id "0HNC33MILGQDB" stopped.
2025-04-24 20:50:51.291 +08:00 [DBG] Connection id "0HNC33MILGQDC" accepted.
2025-04-24 20:50:51.294 +08:00 [DBG] Connection id "0HNC33MILGQDC" started.
2025-04-24 20:50:51.296 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=15 - null null
2025-04-24 20:50:51.300 +08:00 [DBG] The request path  does not match the path filter
2025-04-24 20:50:51.301 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-24 20:50:51.320 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-24 20:50:51.331 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 20:50:51.336 +08:00 [DBG] Successfully validated the token.
2025-04-24 20:50:51.337 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 20:50:51.347 +08:00 [DBG] Authorization was successful.
2025-04-24 20:50:51.347 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 20:50:51.348 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-24 20:50:51.350 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 20:50:51.352 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 20:50:51.354 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-24 20:50:51.362 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 20:50:51.364 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 20:50:51.365 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 20:50:51.369 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-24 20:50:51.371 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-24 20:50:51.385 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-24 20:50:51.399 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-24 20:50:51.402 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 20:50:51.404 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-24 20:50:51.409 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-24 20:50:51.417 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-24 20:50:51.419 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-24 20:50:51.420 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-24 20:50:51.427 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:50:51.429 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:50:51.431 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:50:51.434 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-24 20:50:51.437 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-24 20:50:51.450 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 20:50:51.451 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2025-04-24 20:50:51.454 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 20:50:51.465 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 20:50:51.466 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-24 20:50:51.467 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-24 20:50:51.468 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 20:50:51.469 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-24 20:50:51.471 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 20:50:51.479 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-24 20:50:51.482 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-24 20:50:51.484 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-24 20:50:51.501 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-24 20:50:51.517 +08:00 [DBG] Creating DbConnection.
2025-04-24 20:50:51.518 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-24 20:50:51.519 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 20:50:51.521 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:51.529 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 20:50:51.531 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 20:50:51.532 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 20:50:51.533 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 20:50:51.535 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-24 20:50:51.548 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:51.549 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-24 20:50:51.551 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:51.552 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 20:50:51.558 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-24 20:50:51.560 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:51.564 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 20:50:51.568 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-24 20:50:51.569 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-24 20:50:51.570 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 20:50:51.581 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-24 20:50:51.584 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.585 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.601 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.602 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.603 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.609 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.611 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.616 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.618 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.619 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.620 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.625 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.629 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.631 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.634 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 20:50:51.635 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:51.637 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 53ms reading results.
2025-04-24 20:50:51.647 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-24 20:50:51.652 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-24 20:50:51.677 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-24 20:50:51.686 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-04-24 20:50:51.718 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 20:50:51.728 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 20:50:51.730 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 364.9425ms
2025-04-24 20:50:51.736 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-24 20:50:51.737 +08:00 [DBG] Connection id "0HNC33MILGQDC" completed keep alive response.
2025-04-24 20:50:51.748 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-24 20:50:51.750 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-24 20:50:51.751 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-24 20:50:51.759 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=15 - 200 1279 application/json; charset=utf-8 463.6245ms
2025-04-24 20:50:57.109 +08:00 [DBG] Connection id "0HNC33MILGQDC" received FIN.
2025-04-24 20:50:57.111 +08:00 [DBG] Connection id "0HNC33MILGQDC" disconnecting.
2025-04-24 20:50:57.112 +08:00 [DBG] Connection id "0HNC33MILGQDC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 20:50:57.124 +08:00 [DBG] Connection id "0HNC33MILGQDC" stopped.
2025-04-24 20:52:01.514 +08:00 [DBG] Connection id "0HNC33MILGQD8" disconnecting.
2025-04-24 20:52:01.514 +08:00 [DBG] Connection id "0HNC33MILGQD8" stopped.
2025-04-24 20:52:01.515 +08:00 [DBG] Connection id "0HNC33MILGQD8" sending FIN because: "The Socket transport's send loop completed gracefully."
