2025-04-25 13:50:19.175 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 13:50:20.250 +08:00 [DBG] Hosting starting
2025-04-25 13:50:20.287 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 13:50:20.317 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 13:50:20.475 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 13:50:20.520 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 13:50:20.536 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:50:21.148 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 13:50:21.356 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:50:21.370 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 13:50:21.388 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 13:50:21.426 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 13:50:21.452 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 13:50:21.686 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5212: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-25 13:50:54.777 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 13:50:54.950 +08:00 [DBG] Hosting starting
2025-04-25 13:50:54.980 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 13:50:55.003 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 13:50:55.018 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 13:50:55.035 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 13:50:55.039 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:50:55.048 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 13:50:55.050 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:50:55.060 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 13:50:55.062 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 13:50:55.064 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 13:50:55.065 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 13:50:55.070 +08:00 [DBG] Middleware loaded
2025-04-25 13:50:55.073 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-25 13:50:55.082 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-25 13:50:55.148 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-25 13:50:55.171 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 13:50:55.172 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 13:50:55.172 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-25 13:50:55.173 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 13:50:55.173 +08:00 [INF] Hosting environment: Development
2025-04-25 13:50:55.173 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 13:50:55.173 +08:00 [DBG] Hosting started
2025-04-25 13:50:55.619 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" accepted.
2025-04-25 13:50:55.621 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" started.
2025-04-25 13:50:55.639 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" accepted.
2025-04-25 13:50:55.640 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" started.
2025-04-25 13:50:56.270 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:50:56.285 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:50:56.538 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:50:56.561 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:50:56.562 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" completed keep alive response.
2025-04-25 13:50:56.566 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 298.2663ms
2025-04-25 13:50:56.606 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:50:56.616 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:50:56.616 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" completed keep alive response.
2025-04-25 13:50:56.629 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 10.2494ms
2025-04-25 13:50:57.700 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" received FIN.
2025-04-25 13:50:57.705 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" received FIN.
2025-04-25 13:50:57.707 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" disconnecting.
2025-04-25 13:50:57.711 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:50:57.713 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" disconnecting.
2025-04-25 13:50:57.714 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" stopped.
2025-04-25 13:50:57.715 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" stopped.
2025-04-25 13:50:57.719 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:50:58.236 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" accepted.
2025-04-25 13:50:58.237 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" started.
2025-04-25 13:50:58.239 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:50:58.805 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" completed keep alive response.
2025-04-25 13:50:58.806 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 566.609ms
2025-04-25 13:51:00.454 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" accepted.
2025-04-25 13:51:00.455 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" started.
2025-04-25 13:51:00.456 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" accepted.
2025-04-25 13:51:00.457 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" received FIN.
2025-04-25 13:51:00.457 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" started.
2025-04-25 13:51:00.458 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:51:00.464 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:51:00.465 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 13:51:00.467 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" disconnecting.
2025-04-25 13:51:00.471 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:00.472 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" stopped.
2025-04-25 13:51:00.518 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:51:00.526 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:51:00.527 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:51:00.706 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:51:00.724 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:51:00.730 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:51:00.734 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:51:00.751 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:51:00.751 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" completed keep alive response.
2025-04-25 13:51:00.752 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 293.2448ms
2025-04-25 13:51:07.686 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" received FIN.
2025-04-25 13:51:07.686 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" disconnecting.
2025-04-25 13:51:07.688 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:07.689 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" stopped.
2025-04-25 13:51:16.097 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:16.354 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:18.261 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:18.514 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:22.177 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" accepted.
2025-04-25 13:51:22.178 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" started.
2025-04-25 13:51:22.180 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" accepted.
2025-04-25 13:51:22.181 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" started.
2025-04-25 13:51:22.182 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:22.182 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:51:22.183 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:22.184 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:22.184 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" completed keep alive response.
2025-04-25 13:51:22.185 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 2.6954ms
2025-04-25 13:51:22.644 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:22.644 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:22.645 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" completed keep alive response.
2025-04-25 13:51:22.645 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.6869ms
2025-04-25 13:51:24.575 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:24.845 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:25.230 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:25.498 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:26.868 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:26.868 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:51:26.886 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" completed keep alive response.
2025-04-25 13:51:26.887 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.9667ms
2025-04-25 13:51:27.692 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" received FIN.
2025-04-25 13:51:27.693 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" received FIN.
2025-04-25 13:51:27.693 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" disconnecting.
2025-04-25 13:51:27.693 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" stopped.
2025-04-25 13:51:27.693 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" disconnecting.
2025-04-25 13:51:27.694 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" stopped.
2025-04-25 13:51:27.694 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:27.694 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:30.560 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" accepted.
2025-04-25 13:51:30.561 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" started.
2025-04-25 13:51:30.566 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" accepted.
2025-04-25 13:51:30.566 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" started.
2025-04-25 13:51:30.569 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:30.569 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:30.570 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:30.570 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:30.570 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.7438ms
2025-04-25 13:51:30.769 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:30.769 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:30.769 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:30.769 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4599ms
2025-04-25 13:51:31.927 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:31.963 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:31.963 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.5436ms
2025-04-25 13:51:36.459 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:36.460 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:36.464 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:36.465 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:36.465 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 5.8913ms
2025-04-25 13:51:36.543 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:36.543 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:36.544 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:36.544 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3582ms
2025-04-25 13:51:36.671 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:36.695 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:36.695 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.6574ms
2025-04-25 13:51:37.895 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" received FIN.
2025-04-25 13:51:37.895 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" received FIN.
2025-04-25 13:51:37.897 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" disconnecting.
2025-04-25 13:51:37.897 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" stopped.
2025-04-25 13:51:37.897 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" disconnecting.
2025-04-25 13:51:37.897 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" stopped.
2025-04-25 13:51:37.897 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:37.898 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:47.376 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" accepted.
2025-04-25 13:51:47.376 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" started.
2025-04-25 13:51:47.385 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" accepted.
2025-04-25 13:51:47.385 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" started.
2025-04-25 13:51:47.495 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:47.496 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:47.496 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:47.502 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" completed keep alive response.
2025-04-25 13:51:47.502 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 6.809ms
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" received FIN.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" received FIN.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" disconnecting.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" stopped.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" disconnecting.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" stopped.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:47.736 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:47.815 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" accepted.
2025-04-25 13:51:47.815 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" started.
2025-04-25 13:51:47.816 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:47.816 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:47.816 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:47.816 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3101ms
2025-04-25 13:51:49.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:49.099 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:49.100 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.937ms
2025-04-25 13:51:54.609 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" accepted.
2025-04-25 13:51:54.610 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" started.
2025-04-25 13:51:54.636 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:54.637 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:54.638 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:54.638 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:54.640 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 3.3795ms
2025-04-25 13:51:54.847 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:54.848 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:54.848 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:54.848 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.5343ms
2025-04-25 13:51:55.735 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:55.748 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:55.749 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.6144ms
2025-04-25 13:51:56.656 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:56.658 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:56.658 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:56.658 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:56.659 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.9411ms
2025-04-25 13:51:56.744 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:56.744 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:56.745 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:56.745 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3373ms
2025-04-25 13:51:56.865 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:56.877 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:56.877 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.8924ms
2025-04-25 13:51:58.054 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" received FIN.
2025-04-25 13:51:58.055 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" received FIN.
2025-04-25 13:51:58.063 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" disconnecting.
2025-04-25 13:51:58.063 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" stopped.
2025-04-25 13:51:58.064 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" disconnecting.
2025-04-25 13:51:58.064 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" stopped.
2025-04-25 13:51:58.065 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:58.067 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:52:24.400 +08:00 [DBG] Connection id "0HNC3NKIMIF40" accepted.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF40" started.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF41" accepted.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF40" received FIN.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF41" started.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF40" disconnecting.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF40" stopped.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF40" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:52:24.402 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:52:24.403 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:52:24.404 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:52:24.405 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:52:24.406 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:52:24.413 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:52:24.413 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:52:24.416 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:52:24.416 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:52:24.417 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:52:24.417 +08:00 [DBG] Connection id "0HNC3NKIMIF41" completed keep alive response.
2025-04-25 13:52:24.417 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 14.361ms
2025-04-25 13:52:44.066 +08:00 [DBG] Connection id "0HNC3NKIMIF42" accepted.
2025-04-25 13:52:44.066 +08:00 [DBG] Connection id "0HNC3NKIMIF42" started.
2025-04-25 13:52:44.080 +08:00 [DBG] Connection id "0HNC3NKIMIF43" accepted.
2025-04-25 13:52:44.081 +08:00 [DBG] Connection id "0HNC3NKIMIF43" started.
2025-04-25 13:52:44.081 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:52:44.081 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:52:44.082 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:52:44.082 +08:00 [DBG] Connection id "0HNC3NKIMIF42" completed keep alive response.
2025-04-25 13:52:44.082 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.6853ms
2025-04-25 13:52:44.159 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:52:44.159 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:52:44.159 +08:00 [DBG] Connection id "0HNC3NKIMIF42" completed keep alive response.
2025-04-25 13:52:44.159 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3378ms
2025-04-25 13:52:44.528 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:52:44.533 +08:00 [DBG] Connection id "0HNC3NKIMIF42" completed keep alive response.
2025-04-25 13:52:44.533 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.0718ms
2025-04-25 13:52:47.067 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:52:47.068 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:52:47.068 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:52:47.068 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:52:47.068 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:52:47.071 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:52:47.071 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:52:47.077 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:52:47.077 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:52:47.078 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:52:47.078 +08:00 [DBG] Connection id "0HNC3NKIMIF41" completed keep alive response.
2025-04-25 13:52:47.078 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 10.8864ms
2025-04-25 13:52:47.847 +08:00 [DBG] Connection id "0HNC3NKIMIF43" received FIN.
2025-04-25 13:52:47.847 +08:00 [DBG] Connection id "0HNC3NKIMIF42" received FIN.
2025-04-25 13:52:47.847 +08:00 [DBG] Connection id "0HNC3NKIMIF42" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:52:47.847 +08:00 [DBG] Connection id "0HNC3NKIMIF42" disconnecting.
2025-04-25 13:52:47.848 +08:00 [DBG] Connection id "0HNC3NKIMIF43" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:52:47.849 +08:00 [DBG] Connection id "0HNC3NKIMIF43" disconnecting.
2025-04-25 13:52:47.854 +08:00 [DBG] Connection id "0HNC3NKIMIF43" stopped.
2025-04-25 13:52:47.860 +08:00 [DBG] Connection id "0HNC3NKIMIF42" stopped.
2025-04-25 13:53:12.229 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" disconnecting.
2025-04-25 13:53:12.229 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" stopped.
2025-04-25 13:53:12.229 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:30.270 +08:00 [DBG] Connection id "0HNC3NKIMIF44" accepted.
2025-04-25 13:53:30.270 +08:00 [DBG] Connection id "0HNC3NKIMIF44" started.
2025-04-25 13:53:30.271 +08:00 [DBG] Connection id "0HNC3NKIMIF45" accepted.
2025-04-25 13:53:30.271 +08:00 [DBG] Connection id "0HNC3NKIMIF45" started.
2025-04-25 13:53:30.276 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:53:30.276 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:53:30.279 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:53:30.280 +08:00 [DBG] Connection id "0HNC3NKIMIF44" completed keep alive response.
2025-04-25 13:53:30.281 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 5.371ms
2025-04-25 13:53:30.698 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:53:30.699 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:53:30.699 +08:00 [DBG] Connection id "0HNC3NKIMIF44" completed keep alive response.
2025-04-25 13:53:30.699 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.338ms
2025-04-25 13:53:34.008 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:53:34.023 +08:00 [DBG] Connection id "0HNC3NKIMIF44" completed keep alive response.
2025-04-25 13:53:34.024 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.5298ms
2025-04-25 13:53:37.573 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:53:37.843 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF45" received FIN.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF44" received FIN.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF45" disconnecting.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF45" stopped.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF44" disconnecting.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF44" stopped.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF45" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:37.936 +08:00 [DBG] Connection id "0HNC3NKIMIF44" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:44.589 +08:00 [DBG] Connection id "0HNC3NKIMIF46" accepted.
2025-04-25 13:53:44.589 +08:00 [DBG] Connection id "0HNC3NKIMIF46" started.
2025-04-25 13:53:44.589 +08:00 [DBG] Connection id "0HNC3NKIMIF47" accepted.
2025-04-25 13:53:44.589 +08:00 [DBG] Connection id "0HNC3NKIMIF47" started.
2025-04-25 13:53:44.628 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:53:44.628 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:53:44.629 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:53:44.629 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:53:44.629 +08:00 [DBG] Connection id "0HNC3NKIMIF46" completed keep alive response.
2025-04-25 13:53:44.629 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.2904ms
2025-04-25 13:53:44.759 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:53:44.759 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:53:44.759 +08:00 [DBG] Connection id "0HNC3NKIMIF46" completed keep alive response.
2025-04-25 13:53:44.759 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3524ms
2025-04-25 13:53:47.045 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:53:47.055 +08:00 [DBG] Connection id "0HNC3NKIMIF46" completed keep alive response.
2025-04-25 13:53:47.055 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.1243ms
2025-04-25 13:53:47.942 +08:00 [DBG] Connection id "0HNC3NKIMIF47" received FIN.
2025-04-25 13:53:47.942 +08:00 [DBG] Connection id "0HNC3NKIMIF46" received FIN.
2025-04-25 13:53:47.942 +08:00 [DBG] Connection id "0HNC3NKIMIF47" disconnecting.
2025-04-25 13:53:47.942 +08:00 [DBG] Connection id "0HNC3NKIMIF47" stopped.
2025-04-25 13:53:47.943 +08:00 [DBG] Connection id "0HNC3NKIMIF46" disconnecting.
2025-04-25 13:53:47.943 +08:00 [DBG] Connection id "0HNC3NKIMIF46" stopped.
2025-04-25 13:53:47.943 +08:00 [DBG] Connection id "0HNC3NKIMIF47" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:47.943 +08:00 [DBG] Connection id "0HNC3NKIMIF46" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:51.293 +08:00 [DBG] Connection id "0HNC3NKIMIF48" accepted.
2025-04-25 13:53:51.293 +08:00 [DBG] Connection id "0HNC3NKIMIF48" started.
2025-04-25 13:53:51.322 +08:00 [DBG] Connection id "0HNC3NKIMIF49" accepted.
2025-04-25 13:53:51.325 +08:00 [DBG] Connection id "0HNC3NKIMIF49" started.
2025-04-25 13:53:51.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:53:51.341 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:53:51.341 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:53:51.341 +08:00 [DBG] Connection id "0HNC3NKIMIF48" completed keep alive response.
2025-04-25 13:53:51.341 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.6947ms
2025-04-25 13:53:51.425 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:53:51.425 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:53:51.425 +08:00 [DBG] Connection id "0HNC3NKIMIF48" completed keep alive response.
2025-04-25 13:53:51.425 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4115ms
2025-04-25 13:53:51.612 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:53:51.622 +08:00 [DBG] Connection id "0HNC3NKIMIF48" completed keep alive response.
2025-04-25 13:53:51.622 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.8066ms
2025-04-25 13:53:57.963 +08:00 [DBG] Connection id "0HNC3NKIMIF49" received FIN.
2025-04-25 13:53:57.964 +08:00 [DBG] Connection id "0HNC3NKIMIF49" disconnecting.
2025-04-25 13:53:57.964 +08:00 [DBG] Connection id "0HNC3NKIMIF49" stopped.
2025-04-25 13:53:57.968 +08:00 [DBG] Connection id "0HNC3NKIMIF49" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:57.969 +08:00 [DBG] Connection id "0HNC3NKIMIF48" received FIN.
2025-04-25 13:53:57.969 +08:00 [DBG] Connection id "0HNC3NKIMIF48" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:57.970 +08:00 [DBG] Connection id "0HNC3NKIMIF48" disconnecting.
2025-04-25 13:53:57.970 +08:00 [DBG] Connection id "0HNC3NKIMIF48" stopped.
2025-04-25 13:54:06.810 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" accepted.
2025-04-25 13:54:06.810 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" started.
2025-04-25 13:54:06.810 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:54:06.810 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" accepted.
2025-04-25 13:54:06.810 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" started.
2025-04-25 13:54:06.811 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:54:06.811 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:54:06.811 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" completed keep alive response.
2025-04-25 13:54:06.811 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.8438ms
2025-04-25 13:54:06.878 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:54:06.878 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:54:06.878 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" completed keep alive response.
2025-04-25 13:54:06.878 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.2958ms
2025-04-25 13:54:07.076 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:54:07.085 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" completed keep alive response.
2025-04-25 13:54:07.085 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1563ms
2025-04-25 13:54:07.972 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" received FIN.
2025-04-25 13:54:07.972 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" received FIN.
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" disconnecting.
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" stopped.
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" disconnecting.
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" stopped.
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:54:42.136 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" accepted.
2025-04-25 13:54:42.137 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" started.
2025-04-25 13:54:42.137 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:54:42.138 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:54:42.139 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:54:42.139 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" completed keep alive response.
2025-04-25 13:54:42.139 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 2.0864ms
2025-04-25 13:54:48.078 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" received FIN.
2025-04-25 13:54:48.078 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" disconnecting.
2025-04-25 13:54:48.078 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" stopped.
2025-04-25 13:54:48.078 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:54:56.757 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" accepted.
2025-04-25 13:54:56.757 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" started.
2025-04-25 13:54:56.757 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:54:56.757 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:54:56.757 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" completed keep alive response.
2025-04-25 13:54:56.757 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.262ms
2025-04-25 13:54:58.024 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" received FIN.
2025-04-25 13:54:58.024 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" disconnecting.
2025-04-25 13:54:58.024 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" stopped.
2025-04-25 13:54:58.024 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:54:58.943 +08:00 [DBG] Connection id "0HNC3NKIMIF41" disconnecting.
2025-04-25 13:54:58.943 +08:00 [DBG] Connection id "0HNC3NKIMIF41" stopped.
2025-04-25 13:54:58.943 +08:00 [DBG] Connection id "0HNC3NKIMIF41" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:11.800 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 13:55:11.968 +08:00 [DBG] Hosting starting
2025-04-25 13:55:11.999 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 13:55:12.018 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 13:55:12.033 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 13:55:12.048 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 13:55:12.055 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:55:12.059 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 13:55:12.061 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:55:12.074 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 13:55:12.076 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 13:55:12.079 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 13:55:12.080 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 13:55:12.088 +08:00 [DBG] Middleware loaded
2025-04-25 13:55:12.091 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-25 13:55:12.093 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-25 13:55:12.158 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-25 13:55:12.176 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 13:55:12.179 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 13:55:12.180 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-25 13:55:12.182 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 13:55:12.182 +08:00 [INF] Hosting environment: Development
2025-04-25 13:55:12.182 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 13:55:12.182 +08:00 [DBG] Hosting started
2025-04-25 13:55:12.425 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" accepted.
2025-04-25 13:55:12.428 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" accepted.
2025-04-25 13:55:12.430 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" started.
2025-04-25 13:55:12.472 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" started.
2025-04-25 13:55:12.589 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:55:12.610 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:55:12.832 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:55:12.852 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:55:12.852 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" completed keep alive response.
2025-04-25 13:55:12.855 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 268.6255ms
2025-04-25 13:55:12.909 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:55:12.917 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:55:12.918 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" completed keep alive response.
2025-04-25 13:55:12.918 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 14.0058ms
2025-04-25 13:55:14.683 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:55:15.119 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" completed keep alive response.
2025-04-25 13:55:15.121 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 437.4238ms
2025-04-25 13:55:18.068 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" received FIN.
2025-04-25 13:55:18.068 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" received FIN.
2025-04-25 13:55:18.071 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:18.071 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:18.073 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" disconnecting.
2025-04-25 13:55:18.073 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" disconnecting.
2025-04-25 13:55:18.076 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" stopped.
2025-04-25 13:55:18.076 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" stopped.
2025-04-25 13:55:19.782 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" received FIN.
2025-04-25 13:55:19.782 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" accepted.
2025-04-25 13:55:19.783 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" started.
2025-04-25 13:55:19.783 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:19.783 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" disconnecting.
2025-04-25 13:55:19.784 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" stopped.
2025-04-25 13:55:19.785 +08:00 [DBG] Connection id "0HNC3NMV7LA00" accepted.
2025-04-25 13:55:19.785 +08:00 [DBG] Connection id "0HNC3NMV7LA00" started.
2025-04-25 13:55:19.786 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:55:19.789 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:55:19.790 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 13:55:19.821 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:55:19.825 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:55:19.825 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:55:19.959 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:55:19.971 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:55:19.974 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:55:19.976 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:55:19.987 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:55:19.988 +08:00 [DBG] Connection id "0HNC3NMV7LA00" completed keep alive response.
2025-04-25 13:55:19.988 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 201.8824ms
2025-04-25 13:55:27.314 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:55:27.592 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:55:27.721 +08:00 [DBG] Connection id "0HNC3NMV7LA01" accepted.
2025-04-25 13:55:27.723 +08:00 [DBG] Connection id "0HNC3NMV7LA02" accepted.
2025-04-25 13:55:27.723 +08:00 [DBG] Connection id "0HNC3NMV7LA01" started.
2025-04-25 13:55:27.724 +08:00 [DBG] Connection id "0HNC3NMV7LA02" started.
2025-04-25 13:55:27.840 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:55:27.840 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:55:27.842 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:55:27.848 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:55:27.848 +08:00 [DBG] Connection id "0HNC3NMV7LA01" completed keep alive response.
2025-04-25 13:55:27.849 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 8.7906ms
2025-04-25 13:55:28.186 +08:00 [DBG] Connection id "0HNC3NMV7LA02" received FIN.
2025-04-25 13:55:28.186 +08:00 [DBG] Connection id "0HNC3NMV7LA01" received FIN.
2025-04-25 13:55:28.186 +08:00 [DBG] Connection id "0HNC3NMV7LA02" disconnecting.
2025-04-25 13:55:28.186 +08:00 [DBG] Connection id "0HNC3NMV7LA02" stopped.
2025-04-25 13:55:28.187 +08:00 [DBG] Connection id "0HNC3NMV7LA01" disconnecting.
2025-04-25 13:55:28.187 +08:00 [DBG] Connection id "0HNC3NMV7LA01" stopped.
2025-04-25 13:55:28.187 +08:00 [DBG] Connection id "0HNC3NMV7LA02" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:28.187 +08:00 [DBG] Connection id "0HNC3NMV7LA01" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:28.351 +08:00 [DBG] Connection id "0HNC3NMV7LA03" accepted.
2025-04-25 13:55:28.352 +08:00 [DBG] Connection id "0HNC3NMV7LA03" started.
2025-04-25 13:55:28.392 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:55:28.392 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:55:28.403 +08:00 [DBG] Connection id "0HNC3NMV7LA03" completed keep alive response.
2025-04-25 13:55:28.403 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 11.4817ms
2025-04-25 13:55:28.968 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:55:29.001 +08:00 [DBG] Connection id "0HNC3NMV7LA03" completed keep alive response.
2025-04-25 13:55:29.001 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.8509ms
2025-04-25 13:55:38.102 +08:00 [DBG] Connection id "0HNC3NMV7LA03" received FIN.
2025-04-25 13:55:38.105 +08:00 [DBG] Connection id "0HNC3NMV7LA03" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:38.105 +08:00 [DBG] Connection id "0HNC3NMV7LA03" disconnecting.
2025-04-25 13:55:38.106 +08:00 [DBG] Connection id "0HNC3NMV7LA03" stopped.
2025-04-25 13:55:44.500 +08:00 [DBG] Connection id "0HNC3NMV7LA04" accepted.
2025-04-25 13:55:44.500 +08:00 [DBG] Connection id "0HNC3NMV7LA04" started.
2025-04-25 13:55:44.502 +08:00 [DBG] Connection id "0HNC3NMV7LA05" accepted.
2025-04-25 13:55:44.502 +08:00 [DBG] Connection id "0HNC3NMV7LA05" started.
2025-04-25 13:55:44.503 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:55:44.505 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:55:44.505 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:55:44.505 +08:00 [DBG] Connection id "0HNC3NMV7LA04" completed keep alive response.
2025-04-25 13:55:44.505 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 2.0476ms
2025-04-25 13:55:44.623 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:55:44.628 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:55:44.629 +08:00 [DBG] Connection id "0HNC3NMV7LA04" completed keep alive response.
2025-04-25 13:55:44.630 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 6.2198ms
2025-04-25 13:55:44.789 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:55:44.819 +08:00 [DBG] Connection id "0HNC3NMV7LA04" completed keep alive response.
2025-04-25 13:55:44.820 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.0049ms
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA05" received FIN.
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA04" received FIN.
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA05" disconnecting.
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA05" stopped.
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA04" disconnecting.
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA04" stopped.
2025-04-25 13:55:48.141 +08:00 [DBG] Connection id "0HNC3NMV7LA05" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:48.141 +08:00 [DBG] Connection id "0HNC3NMV7LA04" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:54.101 +08:00 [DBG] Connection id "0HNC3NMV7LA06" accepted.
2025-04-25 13:55:54.102 +08:00 [DBG] Connection id "0HNC3NMV7LA07" accepted.
2025-04-25 13:55:54.103 +08:00 [DBG] Connection id "0HNC3NMV7LA06" started.
2025-04-25 13:55:54.103 +08:00 [DBG] Connection id "0HNC3NMV7LA07" started.
2025-04-25 13:55:54.108 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:55:54.119 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:55:54.119 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:55:54.119 +08:00 [DBG] Connection id "0HNC3NMV7LA06" completed keep alive response.
2025-04-25 13:55:54.120 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 11.6142ms
2025-04-25 13:55:54.303 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:55:54.303 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:55:54.304 +08:00 [DBG] Connection id "0HNC3NMV7LA06" completed keep alive response.
2025-04-25 13:55:54.304 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4339ms
2025-04-25 13:55:54.438 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:55:54.480 +08:00 [DBG] Connection id "0HNC3NMV7LA06" completed keep alive response.
2025-04-25 13:55:54.481 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.8026ms
2025-04-25 13:55:58.155 +08:00 [DBG] Connection id "0HNC3NMV7LA07" received FIN.
2025-04-25 13:55:58.155 +08:00 [DBG] Connection id "0HNC3NMV7LA06" received FIN.
2025-04-25 13:55:58.155 +08:00 [DBG] Connection id "0HNC3NMV7LA07" disconnecting.
2025-04-25 13:55:58.156 +08:00 [DBG] Connection id "0HNC3NMV7LA07" stopped.
2025-04-25 13:55:58.156 +08:00 [DBG] Connection id "0HNC3NMV7LA06" disconnecting.
2025-04-25 13:55:58.156 +08:00 [DBG] Connection id "0HNC3NMV7LA06" stopped.
2025-04-25 13:55:58.156 +08:00 [DBG] Connection id "0HNC3NMV7LA07" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:58.156 +08:00 [DBG] Connection id "0HNC3NMV7LA06" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:56:02.703 +08:00 [DBG] Connection id "0HNC3NMV7LA08" accepted.
2025-04-25 13:56:02.704 +08:00 [DBG] Connection id "0HNC3NMV7LA08" started.
2025-04-25 13:56:02.766 +08:00 [DBG] Connection id "0HNC3NMV7LA09" accepted.
2025-04-25 13:56:02.766 +08:00 [DBG] Connection id "0HNC3NMV7LA09" started.
2025-04-25 13:56:02.772 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:56:02.773 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:56:02.774 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:56:02.774 +08:00 [DBG] Connection id "0HNC3NMV7LA08" completed keep alive response.
2025-04-25 13:56:02.785 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 12.7072ms
2025-04-25 13:56:02.900 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:56:02.902 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:56:02.902 +08:00 [DBG] Connection id "0HNC3NMV7LA08" completed keep alive response.
2025-04-25 13:56:02.902 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.4609ms
2025-04-25 13:56:03.156 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:56:03.181 +08:00 [DBG] Connection id "0HNC3NMV7LA08" completed keep alive response.
2025-04-25 13:56:03.181 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.622ms
2025-04-25 13:56:04.556 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:56:04.556 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:56:04.561 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:56:04.561 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:56:04.561 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:56:04.568 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:56:04.569 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:56:04.573 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:56:04.573 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:56:04.576 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:56:04.576 +08:00 [DBG] Connection id "0HNC3NMV7LA00" completed keep alive response.
2025-04-25 13:56:04.576 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 20.1263ms
2025-04-25 13:56:07.533 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:56:07.533 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:56:07.533 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:56:07.533 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:56:07.533 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:56:07.535 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:56:07.535 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:56:07.619 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:56:07.619 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:56:07.620 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:56:07.620 +08:00 [DBG] Connection id "0HNC3NMV7LA00" completed keep alive response.
2025-04-25 13:56:07.620 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 86.8697ms
2025-04-25 13:56:08.213 +08:00 [DBG] Connection id "0HNC3NMV7LA09" received FIN.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA08" received FIN.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA09" disconnecting.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA09" stopped.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA08" disconnecting.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA08" stopped.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA09" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:56:08.215 +08:00 [DBG] Connection id "0HNC3NMV7LA08" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:56:10.578 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" accepted.
2025-04-25 13:56:10.579 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" started.
2025-04-25 13:56:10.584 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" accepted.
2025-04-25 13:56:10.586 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" started.
2025-04-25 13:56:10.590 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:56:10.633 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:56:10.633 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:56:10.633 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" completed keep alive response.
2025-04-25 13:56:10.633 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 43.201ms
2025-04-25 13:56:10.747 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:56:10.748 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:56:10.748 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" completed keep alive response.
2025-04-25 13:56:10.748 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 1.4976ms
2025-04-25 13:56:10.873 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:56:10.902 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" completed keep alive response.
2025-04-25 13:56:10.902 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.075ms
2025-04-25 13:56:18.176 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" received FIN.
2025-04-25 13:56:18.177 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" disconnecting.
2025-04-25 13:56:18.177 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" received FIN.
2025-04-25 13:56:18.177 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" stopped.
2025-04-25 13:56:18.177 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" disconnecting.
2025-04-25 13:56:18.177 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:56:18.178 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:56:18.178 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" stopped.
2025-04-25 13:57:05.767 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" accepted.
2025-04-25 13:57:05.769 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" accepted.
2025-04-25 13:57:05.776 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" started.
2025-04-25 13:57:05.779 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" started.
2025-04-25 13:57:05.783 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:57:05.785 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:57:05.794 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:57:05.795 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" completed keep alive response.
2025-04-25 13:57:05.795 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 11.4768ms
2025-04-25 13:57:05.881 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:57:05.881 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:57:05.881 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" completed keep alive response.
2025-04-25 13:57:05.881 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4193ms
2025-04-25 13:57:06.031 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:57:06.076 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" completed keep alive response.
2025-04-25 13:57:06.076 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.6847ms
2025-04-25 13:57:08.220 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" received FIN.
2025-04-25 13:57:08.220 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" received FIN.
2025-04-25 13:57:08.220 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" disconnecting.
2025-04-25 13:57:08.220 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:57:08.222 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:57:08.223 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" disconnecting.
2025-04-25 13:57:08.225 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" stopped.
2025-04-25 13:57:08.225 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" stopped.
2025-04-25 13:57:17.207 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" accepted.
2025-04-25 13:57:17.207 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" started.
2025-04-25 13:57:17.208 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-25 13:57:17.208 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:57:17.208 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:57:17.208 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:57:17.209 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:57:17.209 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:57:17.210 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:57:17.210 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:57:17.210 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:57:17.210 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:57:17.210 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" completed keep alive response.
2025-04-25 13:57:17.210 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 401 0 null 2.3363ms
2025-04-25 13:57:18.230 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" received FIN.
2025-04-25 13:57:18.231 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" disconnecting.
2025-04-25 13:57:18.231 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" stopped.
2025-04-25 13:57:18.232 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:57:21.716 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" accepted.
2025-04-25 13:57:21.716 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" started.
2025-04-25 13:57:21.716 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-25 13:57:21.717 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:57:21.717 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:57:21.717 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:57:21.717 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:57:21.717 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:57:21.718 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:57:21.718 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:57:21.718 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:57:21.718 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:57:21.718 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" completed keep alive response.
2025-04-25 13:57:21.718 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 401 0 null 2.0432ms
2025-04-25 13:57:28.245 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" received FIN.
2025-04-25 13:57:28.245 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" disconnecting.
2025-04-25 13:57:28.246 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" stopped.
2025-04-25 13:57:28.246 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:58:03.474 +08:00 [INF] Application is shutting down...
2025-04-25 13:58:03.480 +08:00 [DBG] Hosting stopping
2025-04-25 13:58:03.511 +08:00 [DBG] Connection id "0HNC3NMV7LA00" disconnecting.
2025-04-25 13:58:03.511 +08:00 [DBG] Connection id "0HNC3NMV7LA00" stopped.
2025-04-25 13:58:03.511 +08:00 [DBG] Connection id "0HNC3NMV7LA00" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:58:03.516 +08:00 [DBG] Hosting stopped
2025-04-25 14:03:08.905 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:03:09.156 +08:00 [DBG] Hosting starting
2025-04-25 14:03:09.193 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:03:09.218 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:03:09.258 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:03:09.289 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:03:09.297 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:03:09.316 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:03:09.323 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:03:09.342 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:03:09.353 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:03:09.359 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:03:09.362 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:03:09.688 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:03:09.690 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:03:09.693 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:03:09.694 +08:00 [INF] Hosting environment: Development
2025-04-25 14:03:09.697 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:03:09.699 +08:00 [DBG] Hosting started
2025-04-25 14:03:14.996 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" received FIN.
2025-04-25 14:03:15.013 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" accepted.
2025-04-25 14:03:15.029 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" accepted.
2025-04-25 14:03:15.032 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" started.
2025-04-25 14:03:15.032 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" started.
2025-04-25 14:03:15.046 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:03:15.083 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" disconnecting.
2025-04-25 14:03:15.098 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" stopped.
2025-04-25 14:03:15.192 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:03:15.212 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:03:15.396 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:03:15.458 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:03:15.766 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:03:15.792 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:03:15.814 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:03:16.129 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:03:16.134 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:03:16.144 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:03:16.148 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:03:16.163 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:03:16.175 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" completed keep alive response.
2025-04-25 14:03:16.179 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 999.0766ms
2025-04-25 14:03:30.908 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" accepted.
2025-04-25 14:03:30.978 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" started.
2025-04-25 14:03:33.879 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" received FIN.
2025-04-25 14:03:33.887 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:03:33.889 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" disconnecting.
2025-04-25 14:03:33.894 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" stopped.
2025-04-25 14:03:42.547 +08:00 [INF] Application is shutting down...
2025-04-25 14:03:42.549 +08:00 [DBG] Hosting stopping
2025-04-25 14:03:42.561 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" disconnecting.
2025-04-25 14:03:42.569 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" stopped.
2025-04-25 14:03:42.573 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:03:42.580 +08:00 [DBG] Hosting stopped
2025-04-25 14:05:55.933 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:05:56.114 +08:00 [DBG] Hosting starting
2025-04-25 14:05:56.136 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:05:56.158 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:05:56.177 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:05:56.200 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:05:56.205 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:05:56.212 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:05:56.216 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:05:56.232 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:05:56.244 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:05:56.248 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:05:56.250 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:05:56.312 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:05:56.313 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:05:56.315 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:05:56.316 +08:00 [INF] Hosting environment: Development
2025-04-25 14:05:56.317 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:05:56.318 +08:00 [DBG] Hosting started
2025-04-25 14:06:02.940 +08:00 [DBG] Connection id "0HNC3NT13EQLS" accepted.
2025-04-25 14:06:02.946 +08:00 [DBG] Connection id "0HNC3NT13EQLS" started.
2025-04-25 14:06:04.113 +08:00 [DBG] Connection id "0HNC3NT13EQLS" received FIN.
2025-04-25 14:06:04.122 +08:00 [DBG] Connection id "0HNC3NT13EQLS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:04.140 +08:00 [DBG] Connection id "0HNC3NT13EQLS" disconnecting.
2025-04-25 14:06:04.151 +08:00 [DBG] Connection id "0HNC3NT13EQLS" stopped.
2025-04-25 14:06:06.301 +08:00 [DBG] Connection id "0HNC3NT13EQLT" accepted.
2025-04-25 14:06:06.313 +08:00 [DBG] Connection id "0HNC3NT13EQLT" started.
2025-04-25 14:06:14.172 +08:00 [DBG] Connection id "0HNC3NT13EQLT" received FIN.
2025-04-25 14:06:14.183 +08:00 [DBG] Connection id "0HNC3NT13EQLT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:14.188 +08:00 [DBG] Connection id "0HNC3NT13EQLT" disconnecting.
2025-04-25 14:06:14.197 +08:00 [DBG] Connection id "0HNC3NT13EQLT" stopped.
2025-04-25 14:06:14.805 +08:00 [DBG] Connection id "0HNC3NT13EQLU" accepted.
2025-04-25 14:06:14.822 +08:00 [DBG] Connection id "0HNC3NT13EQLU" started.
2025-04-25 14:06:24.136 +08:00 [DBG] Connection id "0HNC3NT13EQLU" received FIN.
2025-04-25 14:06:24.142 +08:00 [DBG] Connection id "0HNC3NT13EQLU" disconnecting.
2025-04-25 14:06:24.145 +08:00 [DBG] Connection id "0HNC3NT13EQLU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:24.150 +08:00 [DBG] Connection id "0HNC3NT13EQLU" stopped.
2025-04-25 14:06:31.591 +08:00 [INF] Application is shutting down...
2025-04-25 14:06:31.594 +08:00 [DBG] Hosting stopping
2025-04-25 14:06:31.607 +08:00 [DBG] Hosting stopped
2025-04-25 14:06:41.702 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:06:41.920 +08:00 [DBG] Hosting starting
2025-04-25 14:06:41.949 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:06:41.978 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:06:42.011 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:06:42.092 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:06:42.266 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:06:42.273 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:06:42.301 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:06:42.323 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:06:42.331 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:06:42.337 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:06:42.340 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:06:42.402 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:06:42.404 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:06:42.406 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:06:42.407 +08:00 [INF] Hosting environment: Development
2025-04-25 14:06:42.408 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:06:42.409 +08:00 [DBG] Hosting started
2025-04-25 14:06:54.637 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" accepted.
2025-04-25 14:06:54.648 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" started.
2025-04-25 14:06:55.694 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" accepted.
2025-04-25 14:06:55.737 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" accepted.
2025-04-25 14:06:55.743 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" started.
2025-04-25 14:06:55.804 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" started.
2025-04-25 14:06:55.914 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:55.914 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:55.977 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" disconnecting.
2025-04-25 14:06:55.983 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" received FIN.
2025-04-25 14:06:55.984 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" accepted.
2025-04-25 14:06:56.008 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" stopped.
2025-04-25 14:06:56.011 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" disconnecting.
2025-04-25 14:06:56.015 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" received FIN.
2025-04-25 14:06:56.015 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" started.
2025-04-25 14:06:56.018 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" stopped.
2025-04-25 14:06:56.023 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" accepted.
2025-04-25 14:06:56.025 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:56.028 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:56.046 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:56.046 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" started.
2025-04-25 14:06:56.053 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" disconnecting.
2025-04-25 14:06:56.059 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" received FIN.
2025-04-25 14:06:56.067 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:56.176 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" stopped.
2025-04-25 14:06:56.186 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" disconnecting.
2025-04-25 14:06:56.194 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" received FIN.
2025-04-25 14:06:56.197 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:56.198 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" stopped.
2025-04-25 14:06:56.203 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:59.554 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" accepted.
2025-04-25 14:06:59.580 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" started.
2025-04-25 14:06:59.581 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" accepted.
2025-04-25 14:06:59.584 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:59.585 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" started.
2025-04-25 14:06:59.631 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:59.628 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" received FIN.
2025-04-25 14:06:59.629 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" accepted.
2025-04-25 14:06:59.613 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" disconnecting.
2025-04-25 14:06:59.680 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" disconnecting.
2025-04-25 14:06:59.693 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" received FIN.
2025-04-25 14:06:59.699 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" accepted.
2025-04-25 14:06:59.700 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:59.701 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" stopped.
2025-04-25 14:06:59.714 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:59.704 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" started.
2025-04-25 14:06:59.702 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" started.
2025-04-25 14:06:59.720 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:59.726 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:59.727 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" stopped.
2025-04-25 14:06:59.732 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" disconnecting.
2025-04-25 14:06:59.787 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" stopped.
2025-04-25 14:06:59.766 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" disconnecting.
2025-04-25 14:06:59.770 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" received FIN.
2025-04-25 14:06:59.735 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" received FIN.
2025-04-25 14:06:59.798 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:59.799 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" stopped.
2025-04-25 14:06:59.817 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:07:04.191 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" received FIN.
2025-04-25 14:07:04.211 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:07:04.466 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" disconnecting.
2025-04-25 14:07:04.749 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" stopped.
2025-04-25 14:07:14.381 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" accepted.
2025-04-25 14:07:14.426 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" started.
2025-04-25 14:07:14.428 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" accepted.
2025-04-25 14:07:14.451 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" started.
2025-04-25 14:07:14.550 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/ - null null
2025-04-25 14:07:14.565 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:07:14.603 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:07:14.607 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:07:14.631 +08:00 [DBG] No candidates found for the request path '/'
2025-04-25 14:07:14.632 +08:00 [DBG] Request did not match any endpoints
2025-04-25 14:07:14.675 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 14:07:14.680 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" completed keep alive response.
2025-04-25 14:07:14.685 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/ - 404 0 null 138.5238ms
2025-04-25 14:07:14.715 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5212/, Response status code: 404
2025-04-25 14:07:20.863 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 14:07:21.078 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" completed keep alive response.
2025-04-25 14:07:21.080 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 216.7506ms
2025-04-25 14:07:22.761 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 14:07:23.295 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" completed keep alive response.
2025-04-25 14:07:23.297 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 536.0254ms
2025-04-25 14:07:24.217 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" received FIN.
2025-04-25 14:07:24.217 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" received FIN.
2025-04-25 14:07:24.219 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:07:24.224 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" disconnecting.
2025-04-25 14:07:24.226 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" disconnecting.
2025-04-25 14:07:24.227 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:07:24.228 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" stopped.
2025-04-25 14:07:24.231 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" stopped.
2025-04-25 14:07:48.766 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" accepted.
2025-04-25 14:07:48.768 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" accepted.
2025-04-25 14:07:48.772 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" started.
2025-04-25 14:07:48.771 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" started.
2025-04-25 14:07:48.768 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" received FIN.
2025-04-25 14:07:48.778 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:07:48.781 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" disconnecting.
2025-04-25 14:07:48.784 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:07:48.788 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:07:48.798 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" stopped.
2025-04-25 14:07:48.799 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:07:48.828 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:07:48.832 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:07:49.155 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:07:49.170 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:07:49.180 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:07:49.187 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:07:49.208 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:07:49.212 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" completed keep alive response.
2025-04-25 14:07:49.215 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 436.9943ms
2025-04-25 14:08:03.055 +08:00 [INF] Application is shutting down...
2025-04-25 14:08:03.057 +08:00 [DBG] Hosting stopping
2025-04-25 14:08:03.073 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" disconnecting.
2025-04-25 14:08:03.079 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" stopped.
2025-04-25 14:08:03.080 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:08:03.092 +08:00 [DBG] Hosting stopped
2025-04-25 14:09:02.393 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:09:03.403 +08:00 [DBG] Hosting starting
2025-04-25 14:09:03.437 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:09:03.474 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:09:03.504 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:09:04.073 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:09:04.171 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:09:05.073 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:09:05.446 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:09:05.463 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:09:05.477 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:09:05.511 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:09:05.526 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:09:05.687 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:09:05.962 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:09:06.299 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:09:06.902 +08:00 [INF] Hosting environment: Development
2025-04-25 14:09:07.192 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:09:07.696 +08:00 [DBG] Hosting started
2025-04-25 14:09:09.196 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" accepted.
2025-04-25 14:09:09.204 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" started.
2025-04-25 14:09:09.250 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:09:09.259 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:09:09.303 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:09:09.306 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:09:09.349 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:09:09.367 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:09:09.373 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:09:09.627 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:09:09.656 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:09:09.668 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:09:09.675 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:09:09.685 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:09:09.690 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" completed keep alive response.
2025-04-25 14:09:09.700 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 453.6137ms
2025-04-25 14:09:09.908 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" reset.
2025-04-25 14:09:10.011 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:09:10.046 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" disconnecting.
2025-04-25 14:09:10.624 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" stopped.
2025-04-25 14:09:37.520 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" accepted.
2025-04-25 14:09:37.523 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" started.
2025-04-25 14:09:37.528 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:09:37.537 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:09:37.539 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:09:37.540 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:09:37.543 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:09:37.552 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:09:37.556 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:09:37.559 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:09:37.561 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:09:37.571 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:09:37.572 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" completed keep alive response.
2025-04-25 14:09:37.574 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 45.1502ms
2025-04-25 14:09:41.707 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" reset.
2025-04-25 14:09:41.713 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:09:41.742 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" disconnecting.
2025-04-25 14:09:41.744 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" stopped.
2025-04-25 14:09:59.010 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:09:59.315 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:11:32.596 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:11:33.176 +08:00 [DBG] Hosting starting
2025-04-25 14:11:33.324 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:11:33.371 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:11:33.433 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:11:33.490 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:11:33.541 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:11:33.569 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:11:33.574 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:11:33.612 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:11:33.618 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:11:33.632 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:11:33.642 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:11:33.735 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:11:33.740 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:11:33.748 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:11:33.750 +08:00 [INF] Hosting environment: Development
2025-04-25 14:11:33.752 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:11:33.753 +08:00 [DBG] Hosting started
2025-04-25 14:11:39.159 +08:00 [DBG] Connection id "0HNC3O059SPKB" received FIN.
2025-04-25 14:11:39.179 +08:00 [DBG] Connection id "0HNC3O059SPKB" accepted.
2025-04-25 14:11:39.194 +08:00 [DBG] Connection id "0HNC3O059SPKB" started.
2025-04-25 14:11:39.195 +08:00 [DBG] Connection id "0HNC3O059SPKC" accepted.
2025-04-25 14:11:39.202 +08:00 [DBG] Connection id "0HNC3O059SPKC" started.
2025-04-25 14:11:39.202 +08:00 [DBG] Connection id "0HNC3O059SPKB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:11:39.254 +08:00 [DBG] Connection id "0HNC3O059SPKB" disconnecting.
2025-04-25 14:11:39.264 +08:00 [DBG] Connection id "0HNC3O059SPKB" stopped.
2025-04-25 14:11:39.291 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 14:11:39.312 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:11:39.354 +08:00 [DBG] POST requests are not supported
2025-04-25 14:11:39.363 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:11:39.433 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 14:11:39.450 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 14:11:39.453 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:11:39.533 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 14:11:39.537 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:11:39.604 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 14:11:39.611 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:11:39.614 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:11:39.620 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:11:39.629 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:11:39.634 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:11:39.638 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 14:11:39.645 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 14:11:39.659 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 14:11:39.670 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 14:11:39.685 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 14:11:39.692 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 14:11:39.713 +08:00 [DBG] Connection id "0HNC3O059SPKC", Request id "0HNC3O059SPKC:00000001": started reading request body.
2025-04-25 14:11:39.716 +08:00 [DBG] Connection id "0HNC3O059SPKC", Request id "0HNC3O059SPKC:00000001": done reading request body.
2025-04-25 14:11:39.895 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:11:39.901 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:11:39.904 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 14:11:39.935 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:11:40.016 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:11:40.021 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:11:40.026 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:11:40.029 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:11:40.035 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 14:11:40.037 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 14:11:40.055 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 414.8385ms
2025-04-25 14:11:40.069 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:11:40.072 +08:00 [DBG] Connection id "0HNC3O059SPKC" completed keep alive response.
2025-04-25 14:11:40.079 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 797.1105ms
2025-04-25 14:12:02.769 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:12:02.777 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:12:02.780 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:12:02.782 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:12:02.795 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:12:02.883 +08:00 [DBG] Successfully validated the token.
2025-04-25 14:12:02.885 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 14:12:02.898 +08:00 [DBG] Authorization was successful.
2025-04-25 14:12:02.899 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:12:02.917 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 14:12:02.923 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:12:02.927 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:12:02.945 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:12:02.979 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:12:02.982 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:12:02.985 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:03.242 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-25 14:12:03.620 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:03.622 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 14:12:03.625 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 14:12:03.627 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 14:12:03.632 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 14:12:03.634 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 14:12:03.635 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 14:12:03.637 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 14:12:03.641 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 14:12:03.645 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 14:12:03.648 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:12:03.649 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:12:03.650 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:12:03.651 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 14:12:03.652 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:12:03.653 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 14:12:03.660 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 14:12:03.665 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:12:03.674 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:12:03.676 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:12:03.677 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 14:12:03.685 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:12:03.699 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 14:12:03.700 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 14:12:03.701 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:12:03.702 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:12:03.706 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:12:03.707 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 14:12:03.711 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:12:04.501 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 14:12:04.544 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-25 14:12:04.850 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 14:12:04.915 +08:00 [DBG] Creating DbConnection.
2025-04-25 14:12:04.936 +08:00 [DBG] Created DbConnection. (21ms).
2025-04-25 14:12:04.948 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:04.984 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:04.998 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:12:05.011 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-25 14:12:05.014 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-04-25 14:12:05.032 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 14:12:05.084 +08:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 14:12:05.101 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:05.118 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 27ms reading results.
2025-04-25 14:12:05.125 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:05.136 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2025-04-25 14:12:05.181 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-25 14:12:05.292 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 14:12:05.320 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:05.329 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:05.333 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:12:05.334 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 14:12:05.344 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-04-25 14:12:05.349 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 14:12:05.361 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 14:12:05.402 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.437 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.446 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.448 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.450 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.452 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.453 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.461 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.468 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.470 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.477 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:05.483 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 118ms reading results.
2025-04-25 14:12:05.498 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:05.500 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 14:12:05.650 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:12:05.662 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:12:05.669 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:12:05.685 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:12:05.695 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 14:12:05.699 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 14:12:05.876 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2891.2269ms
2025-04-25 14:12:06.250 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:12:06.410 +08:00 [DBG] Connection id "0HNC3O059SPKC" completed keep alive response.
2025-04-25 14:12:06.458 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 14:12:06.469 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:06.474 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-25 14:12:06.477 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 3708.1596ms
2025-04-25 14:12:26.531 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1 - null null
2025-04-25 14:12:26.534 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:12:26.535 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-04-25 14:12:26.540 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-04-25 14:12:26.548 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:26.558 +08:00 [DBG] Successfully validated the token.
2025-04-25 14:12:26.561 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 14:12:26.660 +08:00 [DBG] Authorization was successful.
2025-04-25 14:12:26.662 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:26.676 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 14:12:26.682 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:12:26.697 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:12:26.699 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:12:26.700 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:12:26.701 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:12:26.712 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:26.715 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:26.716 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-25 14:12:26.718 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-25 14:12:26.730 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:26.731 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:26.732 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-25 14:12:26.733 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:26.735 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-25 14:12:26.736 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2025-04-25 14:12:26.743 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:26.746 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:26.746 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:26.747 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-25 14:12:26.748 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:26.780 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 14:12:26.790 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2025-04-25 14:12:26.817 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: SingleQueryingEnumerable.Create<City>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            City entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                City instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(City);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (City)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                            {
                                return 
                                {
                                    City instance;
                                    instance = new City(dataReader.GetString(2));
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(City)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 14:12:26.845 +08:00 [DBG] Creating DbConnection.
2025-04-25 14:12:26.847 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-25 14:12:26.847 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:26.849 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:26.850 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:12:26.851 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 14:12:26.852 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 14:12:26.859 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-25 14:12:26.862 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-25 14:12:26.864 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:26.865 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:26.867 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-25 14:12:26.868 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:26.873 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-25 14:12:26.878 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:12:26.883 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:12:26.883 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:12:26.884 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:12:26.885 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 14:12:26.894 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2025-04-25 14:12:26.896 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 184.1592ms
2025-04-25 14:12:26.897 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:26.900 +08:00 [DBG] Connection id "0HNC3O059SPKC" completed keep alive response.
2025-04-25 14:12:26.901 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 14:12:26.906 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:26.910 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (7ms).
2025-04-25 14:12:26.912 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1 - 200 75 application/json; charset=utf-8 380.8196ms
2025-04-25 14:12:31.382 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2 - null null
2025-04-25 14:12:31.386 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:12:31.387 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2025-04-25 14:12:31.391 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2025-04-25 14:12:31.400 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:31.401 +08:00 [DBG] Successfully validated the token.
2025-04-25 14:12:31.409 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 14:12:31.414 +08:00 [DBG] Authorization was successful.
2025-04-25 14:12:31.441 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:31.442 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 14:12:31.457 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:12:31.461 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:12:31.466 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:12:31.514 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:12:31.516 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:12:31.518 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:31.549 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:31.550 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-25 14:12:31.552 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-25 14:12:31.562 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:31.563 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:31.565 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-25 14:12:31.567 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:31.569 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-25 14:12:31.580 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2025-04-25 14:12:31.581 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:31.583 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:31.584 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:31.585 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-25 14:12:31.594 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:31.683 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 14:12:31.693 +08:00 [DBG] Creating DbConnection.
2025-04-25 14:12:31.696 +08:00 [DBG] Created DbConnection. (2ms).
2025-04-25 14:12:31.697 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:31.698 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:31.699 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:12:31.700 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 14:12:31.701 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-25 14:12:31.705 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-25 14:12:31.712 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-25 14:12:31.714 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:31.715 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:31.716 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-25 14:12:31.718 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:31.725 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2025-04-25 14:12:31.746 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:12:31.748 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:12:31.749 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:12:31.749 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:12:31.750 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 14:12:31.751 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2025-04-25 14:12:31.757 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 239.4544ms
2025-04-25 14:12:31.767 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:31.773 +08:00 [DBG] Connection id "0HNC3O059SPKC" completed keep alive response.
2025-04-25 14:12:31.775 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 14:12:31.776 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:31.778 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 14:12:31.784 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2 - 200 100 application/json; charset=utf-8 402.0648ms
2025-04-25 14:14:43.233 +08:00 [DBG] Connection id "0HNC3O059SPKC" disconnecting.
2025-04-25 14:14:43.238 +08:00 [DBG] Connection id "0HNC3O059SPKC" stopped.
2025-04-25 14:14:43.240 +08:00 [DBG] Connection id "0HNC3O059SPKC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:16:26.318 +08:00 [DBG] Connection id "0HNC3O059SPKD" received FIN.
2025-04-25 14:16:26.320 +08:00 [DBG] Connection id "0HNC3O059SPKD" accepted.
2025-04-25 14:16:26.321 +08:00 [DBG] Connection id "0HNC3O059SPKD" started.
2025-04-25 14:16:26.322 +08:00 [DBG] Connection id "0HNC3O059SPKE" accepted.
2025-04-25 14:16:26.324 +08:00 [DBG] Connection id "0HNC3O059SPKD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:16:26.324 +08:00 [DBG] Connection id "0HNC3O059SPKE" started.
2025-04-25 14:16:26.327 +08:00 [DBG] Connection id "0HNC3O059SPKD" disconnecting.
2025-04-25 14:16:26.347 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:16:26.348 +08:00 [DBG] Connection id "0HNC3O059SPKD" stopped.
2025-04-25 14:16:26.351 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:16:26.366 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:16:26.371 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:16:26.386 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:16:26.387 +08:00 [DBG] Successfully validated the token.
2025-04-25 14:16:26.388 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 14:16:26.389 +08:00 [DBG] Authorization was successful.
2025-04-25 14:16:26.396 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:16:26.401 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 14:16:26.403 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:16:26.406 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:16:26.417 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:16:26.421 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:16:26.422 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:16:26.431 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:16:26.433 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:16:26.436 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 14:16:26.437 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 14:16:26.528 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 14:16:26.536 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 14:16:26.538 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 14:16:26.543 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 14:16:26.555 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 14:16:26.568 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 14:16:26.570 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 14:16:26.572 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:16:26.582 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:16:26.584 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:16:26.586 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 14:16:26.587 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:16:26.589 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 14:16:26.600 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 14:16:26.602 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:16:26.603 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:16:26.604 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:16:26.605 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 14:16:26.610 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:16:26.613 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 14:16:26.615 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 14:16:26.619 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:16:26.621 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:16:26.623 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:16:26.626 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 14:16:26.634 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:16:26.636 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 14:16:26.638 +08:00 [DBG] Creating DbConnection.
2025-04-25 14:16:26.639 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-25 14:16:26.643 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:16:26.644 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.646 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:16:26.649 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-25 14:16:26.665 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-04-25 14:16:26.666 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 14:16:26.668 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 14:16:26.670 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.671 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-25 14:16:26.674 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.677 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 14:16:26.678 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:16:26.681 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.687 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:16:26.688 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 14:16:26.698 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-25 14:16:26.703 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 14:16:26.705 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 14:16:26.710 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.712 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.714 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.720 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.722 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.726 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.729 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.733 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.749 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.752 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.753 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.754 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 43ms reading results.
2025-04-25 14:16:26.755 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.758 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-25 14:16:26.765 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:16:26.782 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:16:26.784 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:16:26.785 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:16:26.786 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 14:16:26.787 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 14:16:26.789 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 357.6459ms
2025-04-25 14:16:26.798 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:16:26.799 +08:00 [DBG] Connection id "0HNC3O059SPKE" completed keep alive response.
2025-04-25 14:16:26.813 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 14:16:26.815 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:16:26.836 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (20ms).
2025-04-25 14:16:26.838 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 491.5079ms
2025-04-25 14:17:04.229 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:05.265 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:20.662 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:21.065 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:42.046 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:42.576 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:42.942 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:43.211 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:43.957 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:44.222 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:45.355 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:45.716 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:48.992 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:49.255 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:50.882 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:51.701 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:54.731 +08:00 [INF] Application is shutting down...
2025-04-25 14:17:54.981 +08:00 [DBG] Hosting stopping
2025-04-25 14:17:55.198 +08:00 [DBG] Connection id "0HNC3O059SPKE" disconnecting.
2025-04-25 14:17:55.264 +08:00 [DBG] Connection id "0HNC3O059SPKE" stopped.
2025-04-25 14:17:55.282 +08:00 [DBG] Connection id "0HNC3O059SPKE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:17:55.363 +08:00 [DBG] Hosting stopped
2025-04-25 14:18:12.863 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:18:13.307 +08:00 [DBG] Hosting starting
2025-04-25 14:18:13.345 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:18:13.390 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:18:13.445 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:18:13.476 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:18:13.498 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:18:13.506 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:18:13.511 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:18:13.600 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:18:13.613 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:18:13.625 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:18:13.632 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:18:13.768 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:18:13.796 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:18:13.808 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:18:13.811 +08:00 [INF] Hosting environment: Development
2025-04-25 14:18:13.814 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:18:13.815 +08:00 [DBG] Hosting started
2025-04-25 14:18:44.226 +08:00 [DBG] Connection id "0HNC3O43VKTTT" received FIN.
2025-04-25 14:18:44.238 +08:00 [DBG] Connection id "0HNC3O43VKTTT" accepted.
2025-04-25 14:18:44.244 +08:00 [DBG] Connection id "0HNC3O43VKTTT" started.
2025-04-25 14:18:44.252 +08:00 [DBG] Connection id "0HNC3O43VKTTT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:18:44.259 +08:00 [DBG] Connection id "0HNC3O43VKTTU" accepted.
2025-04-25 14:18:44.261 +08:00 [DBG] Connection id "0HNC3O43VKTTT" disconnecting.
2025-04-25 14:18:44.269 +08:00 [DBG] Connection id "0HNC3O43VKTTU" started.
2025-04-25 14:18:44.288 +08:00 [DBG] Connection id "0HNC3O43VKTTT" stopped.
2025-04-25 14:18:44.355 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:18:44.363 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:18:44.402 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:18:44.405 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:18:44.446 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:18:44.471 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:18:44.477 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:18:45.015 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:18:45.124 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:18:45.128 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:18:45.140 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:18:45.157 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:18:45.168 +08:00 [DBG] Connection id "0HNC3O43VKTTU" completed keep alive response.
2025-04-25 14:18:45.175 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 826.4562ms
2025-04-25 14:19:28.677 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:19:28.684 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:19:28.692 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:19:28.699 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:19:28.709 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:19:28.724 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:19:28.737 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:19:28.758 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:19:28.761 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:19:28.770 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:19:28.777 +08:00 [DBG] Connection id "0HNC3O43VKTTU" completed keep alive response.
2025-04-25 14:19:28.779 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 102.0658ms
2025-04-25 14:19:38.128 +08:00 [DBG] Connection id "0HNC3O43VKTTV" accepted.
2025-04-25 14:19:38.173 +08:00 [DBG] Connection id "0HNC3O43VKTTV" started.
2025-04-25 14:19:38.173 +08:00 [DBG] Connection id "0HNC3O43VKTU0" accepted.
2025-04-25 14:19:38.190 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 14:19:38.192 +08:00 [DBG] Connection id "0HNC3O43VKTU0" started.
2025-04-25 14:19:38.408 +08:00 [DBG] Connection id "0HNC3O43VKTTV" completed keep alive response.
2025-04-25 14:19:38.409 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 219.2788ms
2025-04-25 14:19:41.906 +08:00 [DBG] Connection id "0HNC3O43VKTTV" received FIN.
2025-04-25 14:19:41.624 +08:00 [DBG] Connection id "0HNC3O43VKTU0" received FIN.
2025-04-25 14:19:42.197 +08:00 [DBG] Connection id "0HNC3O43VKTTV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:19:42.202 +08:00 [DBG] Connection id "0HNC3O43VKTTV" disconnecting.
2025-04-25 14:19:42.205 +08:00 [DBG] Connection id "0HNC3O43VKTU0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:19:42.207 +08:00 [DBG] Connection id "0HNC3O43VKTTV" stopped.
2025-04-25 14:19:42.221 +08:00 [DBG] Connection id "0HNC3O43VKTU0" disconnecting.
2025-04-25 14:19:42.228 +08:00 [DBG] Connection id "0HNC3O43VKTU0" stopped.
2025-04-25 14:19:43.399 +08:00 [DBG] Connection id "0HNC3O43VKTU1" accepted.
2025-04-25 14:19:43.403 +08:00 [DBG] Connection id "0HNC3O43VKTU1" started.
2025-04-25 14:19:43.406 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 14:19:43.819 +08:00 [DBG] Connection id "0HNC3O43VKTU1" completed keep alive response.
2025-04-25 14:19:43.825 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 418.5848ms
2025-04-25 14:19:50.522 +08:00 [DBG] Connection id "0HNC3O43VKTU1" received FIN.
2025-04-25 14:19:50.524 +08:00 [DBG] Connection id "0HNC3O43VKTU1" disconnecting.
2025-04-25 14:19:50.525 +08:00 [DBG] Connection id "0HNC3O43VKTU1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:19:50.539 +08:00 [DBG] Connection id "0HNC3O43VKTU1" stopped.
2025-04-25 14:19:56.227 +08:00 [DBG] Connection id "0HNC3O43VKTU2" accepted.
2025-04-25 14:19:56.229 +08:00 [DBG] Connection id "0HNC3O43VKTU2" started.
2025-04-25 14:19:56.231 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-25 14:19:56.235 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:19:56.237 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:19:56.239 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:19:56.241 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:19:56.245 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:19:56.258 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:19:56.266 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:19:56.268 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:19:56.270 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:19:56.275 +08:00 [DBG] Connection id "0HNC3O43VKTU2" completed keep alive response.
2025-04-25 14:19:56.299 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 401 0 null 68.0605ms
2025-04-25 14:20:00.523 +08:00 [DBG] Connection id "0HNC3O43VKTU2" received FIN.
2025-04-25 14:20:00.529 +08:00 [DBG] Connection id "0HNC3O43VKTU2" disconnecting.
2025-04-25 14:20:00.536 +08:00 [DBG] Connection id "0HNC3O43VKTU2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:20:00.547 +08:00 [DBG] Connection id "0HNC3O43VKTU2" stopped.
2025-04-25 14:21:39.316 +08:00 [DBG] Connection id "0HNC3O43VKTTU" disconnecting.
2025-04-25 14:21:39.320 +08:00 [DBG] Connection id "0HNC3O43VKTTU" stopped.
2025-04-25 14:21:39.324 +08:00 [DBG] Connection id "0HNC3O43VKTTU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:43:29.891 +08:00 [INF] Application is shutting down...
2025-04-25 14:43:29.911 +08:00 [DBG] Hosting stopping
2025-04-25 14:43:30.036 +08:00 [DBG] Hosting stopped
2025-04-25 14:43:54.971 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:43:55.410 +08:00 [DBG] Hosting starting
2025-04-25 14:43:55.487 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:43:55.521 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:43:55.627 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:43:55.676 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:43:55.712 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:43:55.729 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:43:55.759 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:43:55.822 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:43:55.844 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:43:55.883 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:43:55.893 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:43:56.087 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:43:56.094 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:43:56.096 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:43:56.103 +08:00 [INF] Hosting environment: Development
2025-04-25 14:43:56.109 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:43:56.112 +08:00 [DBG] Hosting started
2025-04-25 14:44:55.760 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" received FIN.
2025-04-25 14:44:55.785 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" accepted.
2025-04-25 14:44:55.792 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" started.
2025-04-25 14:44:55.798 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" accepted.
2025-04-25 14:44:55.810 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:44:55.825 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" started.
2025-04-25 14:44:55.832 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" disconnecting.
2025-04-25 14:44:55.842 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" stopped.
2025-04-25 14:44:55.901 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 14:44:55.908 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:44:55.955 +08:00 [DBG] POST requests are not supported
2025-04-25 14:44:55.956 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:44:56.007 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 14:44:56.018 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 14:44:56.024 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:44:56.099 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 14:44:56.104 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:44:56.167 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 14:44:56.171 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:44:56.173 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:44:56.175 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:44:56.182 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:44:56.186 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:44:56.193 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 14:44:56.196 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 14:44:56.216 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 14:44:56.240 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 14:44:56.253 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 14:44:56.260 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 14:44:56.277 +08:00 [DBG] Connection id "0HNC3OIOAV3AC", Request id "0HNC3OIOAV3AC:00000001": started reading request body.
2025-04-25 14:44:56.291 +08:00 [DBG] Connection id "0HNC3OIOAV3AC", Request id "0HNC3OIOAV3AC:00000001": done reading request body.
2025-04-25 14:44:56.438 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:44:56.439 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:44:56.440 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 14:44:56.450 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:44:56.553 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:44:56.556 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:44:56.557 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:44:56.558 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:44:56.560 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 14:44:56.572 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 14:44:56.584 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 385.1546ms
2025-04-25 14:44:56.603 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:44:56.605 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" completed keep alive response.
2025-04-25 14:44:56.617 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 720.1895ms
2025-04-25 14:47:07.634 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" disconnecting.
2025-04-25 14:47:07.638 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" stopped.
2025-04-25 14:47:07.642 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:48:16.002 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:48:16.287 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:48:39.102 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:48:39.573 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:48:39.837 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:48:49.535 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" received FIN.
2025-04-25 14:48:49.538 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" accepted.
2025-04-25 14:48:49.540 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" started.
2025-04-25 14:48:49.540 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" accepted.
2025-04-25 14:48:49.542 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:48:49.545 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" disconnecting.
2025-04-25 14:48:49.543 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" started.
2025-04-25 14:48:49.574 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" stopped.
2025-04-25 14:48:49.578 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:48:49.586 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:48:49.597 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:48:49.603 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:48:49.605 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:48:49.606 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:48:49.697 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:48:49.736 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:48:49.742 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:48:49.746 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 14:48:49.760 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:48:49.761 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" completed keep alive response.
2025-04-25 14:48:49.763 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 184.9994ms
2025-04-25 14:49:19.176 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:49:19.180 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:49:19.182 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:49:19.186 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:49:19.188 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:49:19.191 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:49:19.194 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:49:19.197 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:49:19.200 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 14:49:19.204 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:49:19.205 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" completed keep alive response.
2025-04-25 14:49:19.207 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 30.6879ms
2025-04-25 14:50:01.237 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 14:50:01.240 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:50:01.242 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 14:50:01.245 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 14:50:01.253 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 14:50:01.255 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:50:01.271 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:50:01.282 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:50:01.284 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 14:50:01.291 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:50:01.301 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" completed keep alive response.
2025-04-25 14:50:01.314 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 77.4176ms
2025-04-25 14:50:06.168 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/1 - null null
2025-04-25 14:50:06.191 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:50:06.204 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2025-04-25 14:50:06.208 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2025-04-25 14:50:06.283 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2025-04-25 14:50:06.287 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:50:06.294 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:50:06.303 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:50:06.304 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 14:50:06.306 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:50:06.308 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" completed keep alive response.
2025-04-25 14:50:06.326 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/1 - 401 0 null 158.2064ms
2025-04-25 14:52:17.494 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" disconnecting.
2025-04-25 14:52:17.495 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" stopped.
2025-04-25 14:52:17.498 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:14:32.171 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" received FIN.
2025-04-25 15:14:32.174 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" accepted.
2025-04-25 15:14:32.179 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" accepted.
2025-04-25 15:14:32.182 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" started.
2025-04-25 15:14:32.186 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 15:14:32.190 +08:00 [DBG] POST requests are not supported
2025-04-25 15:14:32.190 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" started.
2025-04-25 15:14:32.193 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 15:14:32.201 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:14:32.204 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 15:14:32.207 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" disconnecting.
2025-04-25 15:14:32.209 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:14:32.210 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" stopped.
2025-04-25 15:14:32.213 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 15:14:32.220 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:14:32.226 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 15:14:32.234 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:14:32.239 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:14:32.241 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:14:32.244 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:14:32.250 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:14:32.253 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 15:14:32.257 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 15:14:32.259 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 15:14:32.267 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 15:14:32.270 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 15:14:32.272 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 15:14:32.275 +08:00 [DBG] Connection id "0HNC3OIOAV3AG", Request id "0HNC3OIOAV3AG:00000001": started reading request body.
2025-04-25 15:14:32.276 +08:00 [DBG] Connection id "0HNC3OIOAV3AG", Request id "0HNC3OIOAV3AG:00000001": done reading request body.
2025-04-25 15:14:32.286 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:14:32.289 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:14:32.290 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 15:14:32.293 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:14:32.301 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:14:32.306 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:14:32.307 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 15:14:32.308 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 15:14:32.309 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 15:14:32.321 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 15:14:32.324 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 70.8561ms
2025-04-25 15:14:32.326 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:14:32.327 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" completed keep alive response.
2025-04-25 15:14:32.335 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 148.5828ms
2025-04-25 15:14:39.075 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 15:14:39.082 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:14:39.086 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 15:14:39.090 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 15:14:39.093 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:39.165 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:14:39.184 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:14:39.195 +08:00 [DBG] Authorization was successful.
2025-04-25 15:14:39.204 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:39.244 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 15:14:39.254 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:14:39.259 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:14:39.275 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:14:39.289 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:14:39.292 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:14:39.295 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:14:39.621 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-25 15:14:39.843 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:14:39.844 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:14:39.849 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 15:14:39.853 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:39.854 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:39.855 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:14:39.857 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:40.874 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:14:40.926 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2025-04-25 15:14:41.265 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:14:41.351 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:14:41.372 +08:00 [DBG] Created DbConnection. (25ms).
2025-04-25 15:14:41.376 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:41.416 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:41.423 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:14:41.438 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-04-25 15:14:41.449 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2025-04-25 15:14:41.459 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:14:41.502 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:14:41.517 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:41.527 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 17ms reading results.
2025-04-25 15:14:41.536 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:41.543 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (7ms).
2025-04-25 15:14:41.553 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-04-25 15:14:41.557 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 15:14:41.558 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 2264.167ms
2025-04-25 15:14:41.560 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:41.561 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" completed keep alive response.
2025-04-25 15:14:41.572 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:14:41.584 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:41.590 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-25 15:14:41.593 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 403 0 null 2517.9828ms
2025-04-25 15:14:46.857 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 15:14:46.863 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:14:46.864 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:14:46.865 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:14:46.871 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:46.876 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:14:46.878 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:14:46.880 +08:00 [DBG] Authorization was successful.
2025-04-25 15:14:46.882 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:46.884 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 15:14:46.888 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:14:46.890 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:14:46.891 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:14:46.893 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:14:46.898 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:14:46.900 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:14:46.906 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:14:46.907 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:14:46.910 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 15:14:46.912 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:46.914 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:46.915 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:14:46.917 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:46.965 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:14:46.973 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:14:46.974 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-25 15:14:46.976 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:46.979 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:46.981 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:14:46.987 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-25 15:14:46.988 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-25 15:14:46.990 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:14:46.993 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:14:47.000 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.004 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2025-04-25 15:14:47.006 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.008 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:14:47.016 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-25 15:14:47.028 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:14:47.034 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:47.037 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.039 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:14:47.041 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:14:47.043 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 15:14:47.050 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:14:47.054 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:14:47.059 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.061 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-25 15:14:47.066 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.070 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-25 15:14:47.085 +08:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-04-25 15:14:47.181 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PointOfInterest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PointOfInterest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PointOfInterest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PointOfInterest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (PointOfInterest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                        {
                            return 
                            {
                                PointOfInterest instance;
                                instance = new PointOfInterest(dataReader.GetString(3));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CityId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PointOfInterest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 15:14:47.214 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:47.219 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.220 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:14:47.221 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:14:47.223 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 15:14:47.224 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:14:47.225 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:14:47.266 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:14:47.298 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:14:47.300 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.302 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 70ms reading results.
2025-04-25 15:14:47.305 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.307 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:14:47.334 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:14:47.341 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:14:47.343 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 15:14:47.343 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 15:14:47.349 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 15:14:47.353 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 15:14:47.434 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 534.0963ms
2025-04-25 15:14:47.435 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:47.437 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" completed keep alive response.
2025-04-25 15:14:47.438 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:14:47.441 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:47.444 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 15:14:47.451 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 200 246 application/json; charset=utf-8 593.6722ms
2025-04-25 15:16:57.992 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" disconnecting.
2025-04-25 15:16:57.994 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" stopped.
2025-04-25 15:16:57.997 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:21:27.954 +08:00 [INF] Application is shutting down...
2025-04-25 15:21:27.971 +08:00 [DBG] Hosting stopping
2025-04-25 15:21:28.041 +08:00 [DBG] Hosting stopped
2025-04-25 15:26:41.167 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 15:26:41.533 +08:00 [DBG] Hosting starting
2025-04-25 15:26:41.565 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 15:26:41.630 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 15:26:41.681 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 15:26:41.704 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 15:26:41.713 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 15:26:41.733 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 15:26:41.742 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 15:26:41.801 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 15:26:41.815 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 15:26:41.819 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 15:26:41.827 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 15:26:42.037 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 15:26:42.097 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 15:26:42.101 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 15:26:42.105 +08:00 [INF] Hosting environment: Development
2025-04-25 15:26:42.107 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 15:26:42.111 +08:00 [DBG] Hosting started
2025-04-25 15:26:47.537 +08:00 [DBG] Connection id "0HNC3PA4T4GDK" received FIN.
2025-04-25 15:26:47.551 +08:00 [DBG] Connection id "0HNC3PA4T4GDK" accepted.
2025-04-25 15:26:47.560 +08:00 [DBG] Connection id "0HNC3PA4T4GDL" accepted.
2025-04-25 15:26:47.561 +08:00 [DBG] Connection id "0HNC3PA4T4GDK" started.
2025-04-25 15:26:47.565 +08:00 [DBG] Connection id "0HNC3PA4T4GDL" started.
2025-04-25 15:26:47.578 +08:00 [DBG] Connection id "0HNC3PA4T4GDK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:26:47.597 +08:00 [DBG] Connection id "0HNC3PA4T4GDK" disconnecting.
2025-04-25 15:26:47.613 +08:00 [DBG] Connection id "0HNC3PA4T4GDK" stopped.
2025-04-25 15:26:47.746 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 15:26:47.753 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 15:26:47.850 +08:00 [DBG] POST requests are not supported
2025-04-25 15:26:48.118 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 15:26:48.193 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 15:26:48.203 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 15:26:48.211 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:26:48.293 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 15:26:48.297 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:26:48.360 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 15:26:48.366 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:26:48.368 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:26:48.370 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:26:48.376 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:26:48.380 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:26:48.385 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 15:26:48.395 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 15:26:48.430 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 15:26:48.434 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 15:26:48.436 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 15:26:48.446 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 15:26:48.465 +08:00 [DBG] Connection id "0HNC3PA4T4GDL", Request id "0HNC3PA4T4GDL:00000001": started reading request body.
2025-04-25 15:26:48.466 +08:00 [DBG] Connection id "0HNC3PA4T4GDL", Request id "0HNC3PA4T4GDL:00000001": done reading request body.
2025-04-25 15:26:48.624 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:26:48.626 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:26:48.628 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 15:26:48.647 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:26:48.743 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:26:48.748 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:26:48.749 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 15:26:48.751 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 15:26:48.753 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 15:26:48.757 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 15:26:48.777 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 386.4772ms
2025-04-25 15:26:48.796 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:26:48.798 +08:00 [DBG] Connection id "0HNC3PA4T4GDL" completed keep alive response.
2025-04-25 15:26:48.807 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 1066.4717ms
2025-04-25 15:27:19.422 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/citie - null null
2025-04-25 15:27:19.435 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:27:19.438 +08:00 [DBG] No candidates found for the request path '/api/citie'
2025-04-25 15:27:19.446 +08:00 [DBG] Request did not match any endpoints
2025-04-25 15:27:19.583 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:27:19.587 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:27:19.592 +08:00 [DBG] Connection id "0HNC3PA4T4GDL" completed keep alive response.
2025-04-25 15:27:19.598 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/citie - 404 0 null 175.0423ms
2025-04-25 15:27:19.607 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5212/api/citie, Response status code: 404
2025-04-25 15:27:25.918 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 15:27:26.241 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:27:26.246 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 15:27:26.248 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 15:27:26.253 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:27:26.265 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:27:26.268 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:27:26.298 +08:00 [DBG] Authorization was successful.
2025-04-25 15:27:26.343 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:27:26.384 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 15:27:26.412 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:27:26.414 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:27:26.417 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:27:26.426 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:27:26.434 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:27:26.437 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 15:27:26.640 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-25 15:27:27.561 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 15:27:27.626 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 15:27:27.633 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 15:27:27.646 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 15:27:27.663 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 15:27:27.666 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 15:27:27.673 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 15:27:27.689 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 15:27:27.697 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 15:27:27.713 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 15:27:27.716 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:27:27.717 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:27:27.729 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:27:27.733 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 15:27:27.734 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:27:27.744 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 15:27:27.746 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 15:27:27.747 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:27:27.749 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:27:27.755 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:27:27.762 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 15:27:27.764 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:27:27.765 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 15:27:27.766 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 15:27:27.767 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:27:27.780 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:27:27.782 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:27:27.784 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 15:27:27.796 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:27:29.480 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:27:29.567 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-25 15:27:30.079 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:27:30.190 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:27:30.246 +08:00 [DBG] Created DbConnection. (30ms).
2025-04-25 15:27:30.279 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:27:30.339 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:27:30.351 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:27:30.375 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-04-25 15:27:30.380 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2025-04-25 15:27:30.401 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 15:27:30.462 +08:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 15:27:30.483 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:27:30.498 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 26ms reading results.
2025-04-25 15:27:30.527 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:27:30.561 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (38ms).
2025-04-25 15:27:30.598 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-25 15:27:30.727 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 15:27:30.827 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:27:30.841 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:27:30.851 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:27:30.865 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2025-04-25 15:27:30.880 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2025-04-25 15:27:30.897 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 15:27:30.914 +08:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 15:27:31.010 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:27:31.113 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:27:31.128 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:27:31.134 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:27:31.156 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:27:32.015 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:27:32.764 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:27:32.945 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:27:33.228 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:27:33.277 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:27:33.316 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:27:33.330 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2413ms reading results.
2025-04-25 15:27:33.351 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:27:33.377 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (26ms).
2025-04-25 15:27:33.763 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:27:33.781 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:27:33.830 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 15:27:33.833 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 15:27:33.851 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 15:27:33.862 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 15:27:33.975 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 7538.1098ms
2025-04-25 15:27:33.983 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:27:34.017 +08:00 [DBG] Connection id "0HNC3PA4T4GDL" completed keep alive response.
2025-04-25 15:27:34.048 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:27:34.077 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:27:34.092 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (6ms).
2025-04-25 15:27:34.094 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 8176.584ms
2025-04-25 15:27:43.981 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1 - null null
2025-04-25 15:27:43.986 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:27:43.987 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-04-25 15:27:43.994 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-04-25 15:27:43.998 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 15:27:44.002 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:27:44.005 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:27:44.015 +08:00 [DBG] Authorization was successful.
2025-04-25 15:27:44.017 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 15:27:44.037 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 15:27:44.045 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:27:44.046 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:27:44.048 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:27:44.050 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:27:44.055 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:27:44.057 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 15:27:44.063 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 15:27:44.066 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-25 15:27:44.076 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-25 15:27:44.080 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-25 15:27:44.083 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-25 15:27:44.088 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-25 15:27:44.096 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-25 15:27:44.097 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-25 15:27:44.098 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2025-04-25 15:27:44.100 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 15:27:44.111 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 15:27:44.114 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 15:27:44.117 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-25 15:27:44.148 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 15:27:44.202 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:27:44.217 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2025-04-25 15:27:44.262 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: SingleQueryingEnumerable.Create<City>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            City entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                City instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(City);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (City)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                            {
                                return 
                                {
                                    City instance;
                                    instance = new City(dataReader.GetString(2));
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(City)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:27:44.282 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:27:44.283 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-25 15:27:44.286 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:27:44.293 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:27:44.294 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:27:44.295 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 15:27:44.296 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:27:44.297 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-25 15:27:44.300 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-25 15:27:44.308 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:27:44.310 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:27:44.311 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2025-04-25 15:27:44.313 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:27:44.314 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:27:44.317 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:27:44.327 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:27:44.328 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 15:27:44.329 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 15:27:44.330 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 15:27:44.331 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2025-04-25 15:27:44.333 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 276.7068ms
2025-04-25 15:27:44.337 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 15:27:44.362 +08:00 [DBG] Connection id "0HNC3PA4T4GDL" completed keep alive response.
2025-04-25 15:27:44.365 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:27:44.367 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:27:44.375 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (9ms).
2025-04-25 15:27:44.376 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1 - 200 75 application/json; charset=utf-8 394.9637ms
2025-04-25 15:28:00.058 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 15:28:00.075 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:28:00.076 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 15:28:00.094 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 15:28:00.095 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:28:00.097 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:28:00.098 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:28:00.107 +08:00 [DBG] Authorization was successful.
2025-04-25 15:28:00.108 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:28:00.127 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 15:28:00.131 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:28:00.132 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:28:00.145 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:28:00.147 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:28:00.148 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 15:28:00.161 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:28:00.174 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:28:00.176 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:28:00.181 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 15:28:00.188 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:28:00.191 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:28:00.194 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:28:00.197 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:28:00.337 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:28:00.342 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2025-04-25 15:28:00.363 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:28:00.424 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:28:00.425 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-25 15:28:00.426 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:28:00.427 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:00.428 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:28:00.430 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:28:00.432 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 15:28:00.433 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:28:00.448 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:28:00.459 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:00.461 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2025-04-25 15:28:00.463 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:00.465 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:28:00.475 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-04-25 15:28:00.478 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 15:28:00.479 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 317.6625ms
2025-04-25 15:28:00.480 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:28:00.482 +08:00 [DBG] Connection id "0HNC3PA4T4GDL" completed keep alive response.
2025-04-25 15:28:00.492 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:28:00.495 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:28:00.496 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:28:00.497 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 403 0 null 438.9205ms
2025-04-25 15:28:07.131 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 15:28:07.135 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:28:07.137 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:28:07.143 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:28:07.145 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:28:07.146 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:28:07.147 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:28:07.163 +08:00 [DBG] Authorization was successful.
2025-04-25 15:28:07.166 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:28:07.175 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 15:28:07.178 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:28:07.180 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:28:07.181 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:28:07.188 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:28:07.194 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 15:28:07.196 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:28:07.197 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:28:07.199 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:28:07.209 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 15:28:07.211 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:28:07.212 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:28:07.214 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:28:07.215 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:28:07.223 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:28:07.232 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:28:07.235 +08:00 [DBG] Created DbConnection. (2ms).
2025-04-25 15:28:07.237 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:28:07.242 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:07.244 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:28:07.246 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:28:07.247 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 15:28:07.248 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:28:07.255 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:28:07.257 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:07.262 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 6ms reading results.
2025-04-25 15:28:07.266 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:07.279 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (13ms).
2025-04-25 15:28:07.282 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-25 15:28:07.295 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:28:07.298 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:28:07.306 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:07.308 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:28:07.310 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-25 15:28:07.312 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 15:28:07.313 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:28:07.315 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:28:07.332 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:07.342 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 20ms reading results.
2025-04-25 15:28:07.344 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:07.345 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-25 15:28:07.360 +08:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-04-25 15:28:07.377 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PointOfInterest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PointOfInterest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PointOfInterest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PointOfInterest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (PointOfInterest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                        {
                            return 
                            {
                                PointOfInterest instance;
                                instance = new PointOfInterest(dataReader.GetString(3));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CityId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PointOfInterest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 15:28:07.395 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:28:07.396 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:07.397 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:28:07.398 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 15:28:07.407 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-25 15:28:07.410 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:28:07.411 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:28:07.425 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:28:07.440 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:28:07.444 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:07.445 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 32ms reading results.
2025-04-25 15:28:07.447 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:28:07.448 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:28:07.464 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:28:07.480 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:28:07.482 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-04-25 15:28:07.485 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 15:28:07.487 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 15:28:07.495 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 299.5677ms
2025-04-25 15:28:07.496 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:28:07.497 +08:00 [DBG] Connection id "0HNC3PA4T4GDL" completed keep alive response.
2025-04-25 15:28:07.502 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:28:07.506 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:28:07.508 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 15:28:07.511 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 200 246 application/json; charset=utf-8 379.9467ms
2025-04-25 15:28:55.712 +08:00 [INF] Application is shutting down...
2025-04-25 15:28:55.717 +08:00 [DBG] Hosting stopping
2025-04-25 15:28:55.746 +08:00 [DBG] Connection id "0HNC3PA4T4GDL" disconnecting.
2025-04-25 15:28:55.765 +08:00 [DBG] Connection id "0HNC3PA4T4GDL" stopped.
2025-04-25 15:28:55.773 +08:00 [DBG] Connection id "0HNC3PA4T4GDL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:28:55.796 +08:00 [DBG] Hosting stopped
2025-04-25 15:32:36.587 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 15:32:37.439 +08:00 [DBG] Hosting starting
2025-04-25 15:32:37.469 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 15:32:37.515 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 15:32:37.566 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 15:32:37.593 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 15:32:37.604 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 15:32:37.617 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 15:32:37.633 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 15:32:37.683 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 15:32:37.693 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 15:32:37.697 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 15:32:37.704 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 15:32:37.874 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 15:32:37.879 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 15:32:37.883 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 15:32:37.886 +08:00 [INF] Hosting environment: Development
2025-04-25 15:32:37.900 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 15:32:37.916 +08:00 [DBG] Hosting started
2025-04-25 15:32:43.050 +08:00 [DBG] Connection id "0HNC3PDERIGAI" received FIN.
2025-04-25 15:32:43.066 +08:00 [DBG] Connection id "0HNC3PDERIGAI" accepted.
2025-04-25 15:32:43.068 +08:00 [DBG] Connection id "0HNC3PDERIGAI" started.
2025-04-25 15:32:43.110 +08:00 [DBG] Connection id "0HNC3PDERIGAJ" accepted.
2025-04-25 15:32:43.149 +08:00 [DBG] Connection id "0HNC3PDERIGAJ" started.
2025-04-25 15:32:43.149 +08:00 [DBG] Connection id "0HNC3PDERIGAI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:32:43.160 +08:00 [DBG] Connection id "0HNC3PDERIGAI" disconnecting.
2025-04-25 15:32:43.182 +08:00 [DBG] Connection id "0HNC3PDERIGAI" stopped.
2025-04-25 15:32:43.278 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 15:32:43.303 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 15:32:43.400 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:32:43.410 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 15:32:43.483 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 15:32:43.497 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 15:32:43.511 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:32:43.748 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 15:32:43.838 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 15:32:43.866 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 15:32:43.905 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 15:32:44.032 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 15:32:44.076 +08:00 [DBG] Connection id "0HNC3PDERIGAJ" completed keep alive response.
2025-04-25 15:32:44.136 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 867.4489ms
2025-04-25 15:33:04.347 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 15:33:04.674 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 15:33:49.563 +08:00 [DBG] Connection id "0HNC3PDERIGAK" received FIN.
2025-04-25 15:33:49.568 +08:00 [DBG] Connection id "0HNC3PDERIGAK" accepted.
2025-04-25 15:33:49.574 +08:00 [DBG] Connection id "0HNC3PDERIGAL" accepted.
2025-04-25 15:33:49.575 +08:00 [DBG] Connection id "0HNC3PDERIGAK" started.
2025-04-25 15:33:49.579 +08:00 [DBG] Connection id "0HNC3PDERIGAK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:33:49.579 +08:00 [DBG] Connection id "0HNC3PDERIGAL" started.
2025-04-25 15:33:49.580 +08:00 [DBG] Connection id "0HNC3PDERIGAK" disconnecting.
2025-04-25 15:33:49.585 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 15:33:49.588 +08:00 [DBG] Connection id "0HNC3PDERIGAK" stopped.
2025-04-25 15:33:49.592 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 15:33:49.597 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:33:49.602 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 15:33:49.604 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 15:33:49.607 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:33:49.666 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 15:33:49.675 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 15:33:49.678 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 15:33:49.679 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 15:33:49.688 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 15:33:49.690 +08:00 [DBG] Connection id "0HNC3PDERIGAL" completed keep alive response.
2025-04-25 15:33:49.695 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 109.6935ms
2025-04-25 15:33:55.278 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2 - null null
2025-04-25 15:33:55.287 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:33:55.289 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2025-04-25 15:33:55.290 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2025-04-25 15:33:55.293 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 15:33:55.300 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 15:33:55.306 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 15:33:55.311 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 15:33:55.312 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 15:33:55.313 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 15:33:55.316 +08:00 [DBG] Connection id "0HNC3PDERIGAL" completed keep alive response.
2025-04-25 15:33:55.320 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2 - 401 0 null 40.427ms
2025-04-25 15:34:08.311 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 15:34:08.324 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:34:08.325 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:34:08.326 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:34:08.328 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:34:08.329 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 15:34:08.339 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 15:34:08.342 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 15:34:08.343 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 15:34:08.344 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 15:34:08.346 +08:00 [DBG] Connection id "0HNC3PDERIGAL" completed keep alive response.
2025-04-25 15:34:08.356 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 401 0 null 45.6833ms
2025-04-25 15:34:30.656 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 15:34:30.658 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:34:30.659 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:34:30.660 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:34:30.663 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:34:30.667 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 15:34:30.688 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 15:34:30.690 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 15:34:30.694 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 15:34:30.702 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 15:34:30.705 +08:00 [DBG] Connection id "0HNC3PDERIGAL" completed keep alive response.
2025-04-25 15:34:30.708 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 401 0 null 51.5105ms
2025-04-25 15:34:48.227 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 15:34:48.256 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:34:48.258 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:34:48.267 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:34:48.273 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:34:48.276 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 15:34:48.300 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 15:34:48.305 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 15:34:48.307 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 15:34:48.308 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 15:34:48.309 +08:00 [DBG] Connection id "0HNC3PDERIGAL" completed keep alive response.
2025-04-25 15:34:48.343 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 401 0 null 115.7013ms
2025-04-25 15:34:55.567 +08:00 [DBG] Connection id "0HNC3PDERIGAJ" disconnecting.
2025-04-25 15:34:55.570 +08:00 [DBG] Connection id "0HNC3PDERIGAJ" stopped.
2025-04-25 15:34:55.572 +08:00 [DBG] Connection id "0HNC3PDERIGAJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:36:58.901 +08:00 [DBG] Connection id "0HNC3PDERIGAL" disconnecting.
2025-04-25 15:36:58.907 +08:00 [DBG] Connection id "0HNC3PDERIGAL" stopped.
2025-04-25 15:36:58.908 +08:00 [DBG] Connection id "0HNC3PDERIGAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:37:02.219 +08:00 [DBG] Connection id "0HNC3PDERIGAM" received FIN.
2025-04-25 15:37:02.349 +08:00 [DBG] Connection id "0HNC3PDERIGAM" accepted.
2025-04-25 15:37:02.413 +08:00 [DBG] Connection id "0HNC3PDERIGAM" started.
2025-04-25 15:37:02.415 +08:00 [DBG] Connection id "0HNC3PDERIGAN" accepted.
2025-04-25 15:37:02.419 +08:00 [DBG] Connection id "0HNC3PDERIGAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:37:02.430 +08:00 [DBG] Connection id "0HNC3PDERIGAN" started.
2025-04-25 15:37:02.435 +08:00 [DBG] Connection id "0HNC3PDERIGAM" disconnecting.
2025-04-25 15:37:02.446 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 15:37:02.447 +08:00 [DBG] Connection id "0HNC3PDERIGAM" stopped.
2025-04-25 15:37:02.450 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:37:02.465 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:37:02.469 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:37:02.479 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:37:02.546 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:37:02.551 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:37:02.559 +08:00 [DBG] Authorization was successful.
2025-04-25 15:37:02.561 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:37:02.650 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 15:37:02.656 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:37:02.659 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:37:02.663 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:37:02.665 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:37:02.666 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 15:37:02.669 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:37:02.896 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-25 15:37:03.202 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:37:03.229 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:37:03.236 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 15:37:03.252 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:37:03.263 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:37:03.264 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:37:03.269 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:37:04.648 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:37:04.727 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2025-04-25 15:37:05.177 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:37:05.249 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:37:05.274 +08:00 [DBG] Created DbConnection. (20ms).
2025-04-25 15:37:05.280 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:37:05.317 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:05.329 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:37:05.344 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-04-25 15:37:05.351 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-04-25 15:37:05.367 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:37:05.429 +08:00 [INF] Executed DbCommand (57ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:37:05.461 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:05.478 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 30ms reading results.
2025-04-25 15:37:05.498 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:05.516 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (17ms).
2025-04-25 15:37:05.533 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-25 15:37:05.549 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:37:05.560 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:37:05.562 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:05.564 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:37:05.565 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 15:37:05.566 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 15:37:05.567 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:37:05.569 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:37:05.579 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:05.582 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2025-04-25 15:37:05.584 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:05.586 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:37:05.606 +08:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-04-25 15:37:05.781 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PointOfInterest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PointOfInterest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PointOfInterest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PointOfInterest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (PointOfInterest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                        {
                            return 
                            {
                                PointOfInterest instance;
                                instance = new PointOfInterest(dataReader.GetString(3));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CityId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PointOfInterest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 15:37:05.797 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:37:05.798 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:05.813 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:37:05.814 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:37:05.816 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 15:37:05.818 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:37:05.827 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:37:05.878 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:05.927 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:05.929 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:05.934 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 103ms reading results.
2025-04-25 15:37:05.965 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:06.051 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (85ms).
2025-04-25 15:37:06.189 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:37:06.213 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:37:06.218 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-04-25 15:37:06.238 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 15:37:06.248 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 15:37:06.564 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 3882.3479ms
2025-04-25 15:37:06.569 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:37:06.575 +08:00 [DBG] Connection id "0HNC3PDERIGAN" completed keep alive response.
2025-04-25 15:37:06.583 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:37:06.630 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:37:06.658 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (35ms).
2025-04-25 15:37:06.664 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 200 246 application/json; charset=utf-8 4218.5802ms
2025-04-25 15:37:32.324 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 15:37:32.329 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:37:32.330 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 15:37:32.331 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 15:37:32.334 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:37:32.337 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:37:32.338 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:37:32.339 +08:00 [DBG] Authorization was successful.
2025-04-25 15:37:32.344 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:37:32.358 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 15:37:32.361 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:37:32.365 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:37:32.366 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:37:32.368 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:37:32.370 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:37:32.374 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 15:37:32.377 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 15:37:32.379 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 15:37:32.381 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 15:37:32.383 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 15:37:32.384 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 15:37:32.390 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 15:37:32.397 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 15:37:32.399 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 15:37:32.401 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 15:37:32.410 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 15:37:32.413 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:37:32.415 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:37:32.417 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:37:32.419 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 15:37:32.423 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:37:32.424 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 15:37:32.425 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 15:37:32.426 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:37:32.428 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:37:32.430 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:37:32.431 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 15:37:32.444 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:37:32.446 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 15:37:32.447 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 15:37:32.450 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:37:32.457 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:37:32.459 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:37:32.461 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 15:37:32.465 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:37:32.509 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:37:32.518 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-25 15:37:32.565 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:37:32.581 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:37:32.583 +08:00 [DBG] Created DbConnection. (2ms).
2025-04-25 15:37:32.587 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:37:32.588 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:32.590 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:37:32.591 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:37:32.594 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 15:37:32.595 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 15:37:32.597 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 15:37:32.599 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:32.600 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-25 15:37:32.601 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:32.607 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2025-04-25 15:37:32.613 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-25 15:37:32.637 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 15:37:32.648 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:37:32.650 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:32.651 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:37:32.656 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-25 15:37:32.657 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-25 15:37:32.658 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 15:37:32.660 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 15:37:32.667 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:32.694 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:32.698 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:32.700 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:32.701 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:32.706 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:32.707 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:32.709 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:32.710 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:32.714 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:37:32.715 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:32.717 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 53ms reading results.
2025-04-25 15:37:32.729 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:37:32.731 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 15:37:32.831 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:37:32.840 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:37:32.843 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 15:37:32.844 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 15:37:32.846 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 15:37:32.847 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 15:37:32.861 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 486.4986ms
2025-04-25 15:37:32.867 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:37:32.873 +08:00 [DBG] Connection id "0HNC3PDERIGAN" completed keep alive response.
2025-04-25 15:37:32.875 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:37:32.877 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:37:32.880 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 15:37:32.889 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 565.3137ms
2025-04-25 15:38:05.661 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointofinterest - null null
2025-04-25 15:38:05.680 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:38:05.688 +08:00 [DBG] No candidates found for the request path '/api/cities/2/pointofinterest'
2025-04-25 15:38:05.689 +08:00 [DBG] Request did not match any endpoints
2025-04-25 15:38:05.692 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:38:05.693 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:38:05.699 +08:00 [DBG] Connection id "0HNC3PDERIGAN" completed keep alive response.
2025-04-25 15:38:05.710 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointofinterest - 404 0 null 48.9979ms
2025-04-25 15:38:05.714 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5212/api/cities/2/pointofinterest, Response status code: 404
2025-04-25 15:38:16.850 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 15:38:16.855 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:38:16.860 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:38:16.861 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:38:16.877 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:38:16.882 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:38:16.896 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:38:16.909 +08:00 [DBG] Authorization was successful.
2025-04-25 15:38:16.911 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:38:16.913 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 15:38:16.915 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:38:16.925 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:38:16.928 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:38:16.930 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:38:16.931 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 15:38:16.968 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:38:16.989 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:38:16.993 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:38:16.995 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 15:38:16.997 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:38:16.998 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:38:17.004 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:38:17.007 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:38:17.143 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:38:17.173 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:38:17.178 +08:00 [DBG] Created DbConnection. (5ms).
2025-04-25 15:38:17.180 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:38:17.192 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:17.193 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:38:17.194 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 15:38:17.195 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:38:17.196 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:38:17.198 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:38:17.208 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:17.209 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-25 15:38:17.211 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:17.213 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:38:17.220 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:38:17.221 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:17.224 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:38:17.226 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:38:17.227 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 15:38:17.229 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:38:17.236 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:38:17.239 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:17.240 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-25 15:38:17.243 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:17.244 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:38:17.246 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:38:17.248 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:17.252 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:38:17.257 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-25 15:38:17.259 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-25 15:38:17.260 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:38:17.262 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:38:17.264 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:38:17.270 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:38:17.274 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:17.275 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 11ms reading results.
2025-04-25 15:38:17.277 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:17.278 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:38:17.280 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:38:17.285 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:38:17.287 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-04-25 15:38:17.289 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 15:38:17.290 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 15:38:17.296 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 330.2401ms
2025-04-25 15:38:17.309 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:38:17.313 +08:00 [DBG] Connection id "0HNC3PDERIGAN" completed keep alive response.
2025-04-25 15:38:17.319 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:38:17.329 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:38:17.331 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:38:17.347 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 200 246 application/json; charset=utf-8 497.1842ms
2025-04-25 15:38:26.910 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 15:38:26.914 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:38:26.920 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 15:38:26.927 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 15:38:26.940 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:38:26.948 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:38:26.957 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:38:26.973 +08:00 [DBG] Authorization was successful.
2025-04-25 15:38:26.979 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:38:26.980 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 15:38:27.011 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:38:27.021 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:38:27.024 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:38:27.026 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:38:27.027 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 15:38:27.030 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:38:27.039 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:38:27.041 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:38:27.044 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 15:38:27.046 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:38:27.047 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:38:27.050 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:38:27.053 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:38:27.058 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:38:27.062 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:38:27.064 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-25 15:38:27.065 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:38:27.074 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:27.075 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:38:27.076 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:38:27.078 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 15:38:27.079 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:38:27.089 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:38:27.092 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:27.094 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-25 15:38:27.097 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:27.122 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (24ms).
2025-04-25 15:38:27.127 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-04-25 15:38:27.130 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 15:38:27.131 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 100.3037ms
2025-04-25 15:38:27.138 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:38:27.140 +08:00 [DBG] Connection id "0HNC3PDERIGAN" completed keep alive response.
2025-04-25 15:38:27.141 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:38:27.142 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:38:27.143 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:38:27.145 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 403 0 null 234.9195ms
2025-04-25 15:38:37.813 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 15:38:37.826 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:38:37.827 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:38:37.828 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:38:37.831 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:38:37.861 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:38:37.863 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:38:37.875 +08:00 [DBG] Authorization was successful.
2025-04-25 15:38:37.876 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:38:37.877 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 15:38:37.879 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:38:37.889 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:38:37.895 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:38:37.897 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:38:37.925 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 15:38:37.929 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:38:37.936 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:38:37.956 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:38:37.961 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 15:38:37.984 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:38:37.994 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:38:37.996 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:38:37.997 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:38:38.007 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:38:38.009 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:38:38.010 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-25 15:38:38.012 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:38:38.019 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:38.025 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:38:38.027 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-25 15:38:38.028 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 15:38:38.029 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:38:38.041 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:38:38.044 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:38.045 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-25 15:38:38.056 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:38.058 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:38:38.059 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:38:38.060 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:38.064 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:38:38.073 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-04-25 15:38:38.075 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-25 15:38:38.076 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:38:38.078 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:38:38.088 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:38.091 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-25 15:38:38.093 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:38.095 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 15:38:38.097 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:38:38.105 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:38.106 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:38:38.107 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 15:38:38.108 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:38:38.109 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:38:38.111 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:38:38.125 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:38:38.137 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:38:38.142 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:38.145 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 19ms reading results.
2025-04-25 15:38:38.146 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:38:38.147 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:38:38.155 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:38:38.176 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:38:38.177 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-04-25 15:38:38.179 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 15:38:38.180 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 15:38:38.189 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 260.121ms
2025-04-25 15:38:38.197 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:38:38.206 +08:00 [DBG] Connection id "0HNC3PDERIGAN" completed keep alive response.
2025-04-25 15:38:38.208 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:38:38.211 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:38:38.230 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (18ms).
2025-04-25 15:38:38.260 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 200 246 application/json; charset=utf-8 446.9321ms
2025-04-25 15:40:49.748 +08:00 [DBG] Connection id "0HNC3PDERIGAN" disconnecting.
2025-04-25 15:40:49.750 +08:00 [DBG] Connection id "0HNC3PDERIGAN" stopped.
2025-04-25 15:40:49.753 +08:00 [DBG] Connection id "0HNC3PDERIGAN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:41:39.584 +08:00 [DBG] Connection id "0HNC3PDERIGAO" accepted.
2025-04-25 15:41:39.584 +08:00 [DBG] Connection id "0HNC3PDERIGAO" received FIN.
2025-04-25 15:41:39.586 +08:00 [DBG] Connection id "0HNC3PDERIGAO" started.
2025-04-25 15:41:39.589 +08:00 [DBG] Connection id "0HNC3PDERIGAO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:41:39.587 +08:00 [DBG] Connection id "0HNC3PDERIGAP" accepted.
2025-04-25 15:41:39.593 +08:00 [DBG] Connection id "0HNC3PDERIGAP" started.
2025-04-25 15:41:39.591 +08:00 [DBG] Connection id "0HNC3PDERIGAO" disconnecting.
2025-04-25 15:41:39.601 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 15:41:39.607 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:41:39.610 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:41:39.601 +08:00 [DBG] Connection id "0HNC3PDERIGAO" stopped.
2025-04-25 15:41:39.612 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:41:39.617 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:41:39.619 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:41:39.620 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:41:39.624 +08:00 [DBG] Authorization was successful.
2025-04-25 15:41:39.625 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:41:39.627 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 15:41:39.630 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:41:39.631 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:41:39.633 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:41:39.635 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:41:39.636 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 15:41:39.641 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:41:39.643 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:41:39.647 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:41:39.650 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 15:41:39.661 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:41:39.666 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:41:39.668 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:41:39.670 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:41:39.679 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:41:39.682 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:41:39.694 +08:00 [DBG] Created DbConnection. (11ms).
2025-04-25 15:41:39.699 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:41:39.701 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:41:39.702 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:41:39.708 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-04-25 15:41:39.720 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-04-25 15:41:39.724 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:41:39.735 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:41:39.745 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:41:39.748 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2025-04-25 15:41:39.750 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:41:39.752 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:41:39.760 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:41:39.762 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:41:39.767 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:41:39.769 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:41:39.770 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 15:41:39.777 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:41:39.782 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:41:39.787 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:41:39.794 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2025-04-25 15:41:39.798 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:41:39.799 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:41:39.801 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:41:39.802 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:41:39.811 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:41:39.814 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-25 15:41:39.815 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-25 15:41:39.816 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:41:39.817 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:41:39.820 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:41:39.831 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:41:39.835 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:41:39.848 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 28ms reading results.
2025-04-25 15:41:39.852 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:41:39.853 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:41:39.859 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:41:39.862 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:41:39.863 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-04-25 15:41:39.864 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 15:41:39.865 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 15:41:39.868 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 226.9892ms
2025-04-25 15:41:39.870 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:41:39.879 +08:00 [DBG] Connection id "0HNC3PDERIGAP" completed keep alive response.
2025-04-25 15:41:39.893 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:41:39.911 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:41:39.912 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:41:39.926 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 200 246 application/json; charset=utf-8 325.537ms
2025-04-25 15:42:43.769 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 15:42:44.849 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 15:43:38.360 +08:00 [INF] Application is shutting down...
2025-04-25 15:43:38.372 +08:00 [DBG] Hosting stopping
2025-04-25 15:43:38.430 +08:00 [DBG] Connection id "0HNC3PDERIGAP" disconnecting.
2025-04-25 15:43:38.455 +08:00 [DBG] Connection id "0HNC3PDERIGAP" stopped.
2025-04-25 15:43:38.457 +08:00 [DBG] Connection id "0HNC3PDERIGAP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:43:38.464 +08:00 [DBG] Hosting stopped
2025-04-25 15:45:29.764 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 15:45:30.066 +08:00 [DBG] Hosting starting
2025-04-25 15:45:30.119 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 15:45:30.184 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 15:45:30.230 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 15:45:30.268 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 15:45:30.284 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 15:45:30.367 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 15:45:30.376 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 15:45:30.437 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 15:45:30.470 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 15:45:30.474 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 15:45:30.487 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 15:45:30.606 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 15:45:30.618 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 15:45:30.621 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 15:45:30.622 +08:00 [INF] Hosting environment: Development
2025-04-25 15:45:30.624 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 15:45:30.637 +08:00 [DBG] Hosting started
2025-04-25 15:45:38.083 +08:00 [DBG] Connection id "0HNC3PKLQRQOO" received FIN.
2025-04-25 15:45:38.096 +08:00 [DBG] Connection id "0HNC3PKLQRQOO" accepted.
2025-04-25 15:45:38.100 +08:00 [DBG] Connection id "0HNC3PKLQRQOO" started.
2025-04-25 15:45:38.116 +08:00 [DBG] Connection id "0HNC3PKLQRQOO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:45:38.138 +08:00 [DBG] Connection id "0HNC3PKLQRQOP" accepted.
2025-04-25 15:45:38.145 +08:00 [DBG] Connection id "0HNC3PKLQRQOO" disconnecting.
2025-04-25 15:45:38.156 +08:00 [DBG] Connection id "0HNC3PKLQRQOP" started.
2025-04-25 15:45:38.166 +08:00 [DBG] Connection id "0HNC3PKLQRQOO" stopped.
2025-04-25 15:45:38.281 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 15:45:38.285 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 15:45:38.349 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:45:38.366 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 15:45:38.468 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 15:45:38.482 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 15:45:38.488 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:45:38.728 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'StartArray', could not be converted to 'JsonTokenType.String or JsonTokenType.Number'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.sub', Position: '29', CurrentDepth: '1', BytesConsumed: '30'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadStringOrNumberAsString(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 15:45:38.803 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 15:45:38.924 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 15:45:39.063 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 15:45:39.197 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 15:45:39.266 +08:00 [DBG] Connection id "0HNC3PKLQRQOP" completed keep alive response.
2025-04-25 15:45:39.698 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 1415.5032ms
2025-04-25 15:46:17.808 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 15:46:17.814 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:46:17.817 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:46:17.819 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:46:17.821 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:46:17.847 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'StartArray', could not be converted to 'JsonTokenType.String or JsonTokenType.Number'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.sub', Position: '29', CurrentDepth: '1', BytesConsumed: '30'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadStringOrNumberAsString(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 15:46:18.298 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 15:46:18.663 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 15:46:18.927 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 15:46:19.183 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 15:46:19.211 +08:00 [DBG] Connection id "0HNC3PKLQRQOP" completed keep alive response.
2025-04-25 15:46:19.509 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 401 0 null 1701.5345ms
2025-04-25 15:47:04.281 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 15:47:04.286 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:47:04.298 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 15:47:04.301 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 15:47:04.331 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:47:04.335 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'StartArray', could not be converted to 'JsonTokenType.String or JsonTokenType.Number'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.sub', Position: '29', CurrentDepth: '1', BytesConsumed: '30'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadStringOrNumberAsString(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 15:47:04.355 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 15:47:04.360 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 15:47:04.362 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 15:47:04.369 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 15:47:04.372 +08:00 [DBG] Connection id "0HNC3PKLQRQOP" completed keep alive response.
2025-04-25 15:47:04.375 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 94.2512ms
2025-04-25 15:48:12.801 +08:00 [DBG] Connection id "0HNC3PKLQRQOQ" received FIN.
2025-04-25 15:48:12.803 +08:00 [DBG] Connection id "0HNC3PKLQRQOQ" accepted.
2025-04-25 15:48:12.804 +08:00 [DBG] Connection id "0HNC3PKLQRQOQ" started.
2025-04-25 15:48:12.804 +08:00 [DBG] Connection id "0HNC3PKLQRQOR" accepted.
2025-04-25 15:48:12.812 +08:00 [DBG] Connection id "0HNC3PKLQRQOR" started.
2025-04-25 15:48:12.812 +08:00 [DBG] Connection id "0HNC3PKLQRQOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:48:12.814 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 15:48:12.825 +08:00 [DBG] Connection id "0HNC3PKLQRQOQ" disconnecting.
2025-04-25 15:48:12.829 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:48:12.831 +08:00 [DBG] Connection id "0HNC3PKLQRQOQ" stopped.
2025-04-25 15:48:12.831 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 15:48:12.842 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 15:48:12.844 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:48:12.847 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'StartArray', could not be converted to 'JsonTokenType.String or JsonTokenType.Number'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.sub', Position: '29', CurrentDepth: '1', BytesConsumed: '30'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadStringOrNumberAsString(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 15:48:12.860 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 15:48:12.864 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 15:48:12.896 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 15:48:12.910 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 15:48:12.912 +08:00 [DBG] Connection id "0HNC3PKLQRQOR" completed keep alive response.
2025-04-25 15:48:12.914 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 99.7177ms
2025-04-25 15:49:15.951 +08:00 [DBG] Connection id "0HNC3PKLQRQOP" disconnecting.
2025-04-25 15:49:15.956 +08:00 [DBG] Connection id "0HNC3PKLQRQOP" stopped.
2025-04-25 15:49:15.959 +08:00 [DBG] Connection id "0HNC3PKLQRQOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:49:46.606 +08:00 [DBG] Connection id "0HNC3PKLQRQOS" received FIN.
2025-04-25 15:49:46.608 +08:00 [DBG] Connection id "0HNC3PKLQRQOS" accepted.
2025-04-25 15:49:46.608 +08:00 [DBG] Connection id "0HNC3PKLQRQOS" started.
2025-04-25 15:49:46.609 +08:00 [DBG] Connection id "0HNC3PKLQRQOT" accepted.
2025-04-25 15:49:46.612 +08:00 [DBG] Connection id "0HNC3PKLQRQOS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:49:46.615 +08:00 [DBG] Connection id "0HNC3PKLQRQOT" started.
2025-04-25 15:49:46.623 +08:00 [DBG] Connection id "0HNC3PKLQRQOS" disconnecting.
2025-04-25 15:49:46.632 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 15:49:46.638 +08:00 [DBG] Connection id "0HNC3PKLQRQOS" stopped.
2025-04-25 15:49:46.642 +08:00 [DBG] POST requests are not supported
2025-04-25 15:49:46.643 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 15:49:46.653 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 15:49:46.677 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:49:46.703 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 15:49:46.710 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:49:46.787 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 15:49:46.790 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:49:46.792 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:49:46.799 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:49:46.803 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:49:46.804 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:49:46.810 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 15:49:46.818 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 15:49:46.824 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 15:49:46.837 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 15:49:46.840 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 15:49:46.842 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 15:49:46.859 +08:00 [DBG] Connection id "0HNC3PKLQRQOT", Request id "0HNC3PKLQRQOT:00000001": started reading request body.
2025-04-25 15:49:46.868 +08:00 [DBG] Connection id "0HNC3PKLQRQOT", Request id "0HNC3PKLQRQOT:00000001": done reading request body.
2025-04-25 15:49:47.081 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:49:47.086 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:49:47.087 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 15:49:47.100 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:49:47.185 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:49:47.200 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:49:47.206 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 15:49:47.208 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 15:49:47.214 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 15:49:47.221 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 15:49:47.232 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 416.7418ms
2025-04-25 15:49:47.233 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:49:47.235 +08:00 [DBG] Connection id "0HNC3PKLQRQOT" completed keep alive response.
2025-04-25 15:49:47.242 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 606.4952ms
2025-04-25 15:50:24.776 +08:00 [DBG] Connection id "0HNC3PKLQRQOR" disconnecting.
2025-04-25 15:50:25.190 +08:00 [DBG] Connection id "0HNC3PKLQRQOR" stopped.
2025-04-25 15:50:25.213 +08:00 [DBG] Connection id "0HNC3PKLQRQOR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:50:27.804 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 15:50:27.823 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:50:27.824 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 15:50:27.834 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 15:50:27.837 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:50:27.937 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:50:27.940 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:50:27.943 +08:00 [DBG] Authorization was successful.
2025-04-25 15:50:27.949 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:50:27.971 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 15:50:27.972 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:50:27.973 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:50:27.980 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:50:27.984 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:50:27.989 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:50:28.001 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 15:50:28.203 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-25 15:50:28.454 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 15:50:28.456 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 15:50:28.457 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 15:50:28.462 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 15:50:28.464 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 15:50:28.465 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 15:50:28.472 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 15:50:28.474 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 15:50:28.482 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 15:50:28.484 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 15:50:28.486 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:50:28.487 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:50:28.489 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:50:28.490 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 15:50:28.498 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 15:50:28.499 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 15:50:28.500 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 15:50:28.501 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:50:28.504 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:50:28.505 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:50:28.507 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 15:50:28.516 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 15:50:28.517 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 15:50:28.518 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 15:50:28.519 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:50:28.521 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:50:28.522 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:50:28.523 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 15:50:28.524 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 15:50:29.605 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:50:29.667 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-25 15:50:30.079 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:50:30.151 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:50:30.205 +08:00 [DBG] Created DbConnection. (42ms).
2025-04-25 15:50:30.213 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:50:30.257 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:50:30.271 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:50:30.287 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-04-25 15:50:30.289 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-04-25 15:50:30.319 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 15:50:30.372 +08:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 15:50:30.397 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:50:30.418 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 24ms reading results.
2025-04-25 15:50:30.440 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:50:30.473 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (40ms).
2025-04-25 15:50:30.551 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-25 15:50:30.705 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 15:50:30.764 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:50:30.769 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:50:30.771 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:50:30.772 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:50:30.781 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-25 15:50:30.788 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 15:50:30.803 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 15:50:30.882 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:50:30.939 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:50:31.004 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:50:31.020 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:50:31.022 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:50:31.036 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:50:31.039 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:50:31.053 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:50:31.057 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:50:31.087 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:50:31.254 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:50:31.290 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 476ms reading results.
2025-04-25 15:50:31.688 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:50:31.719 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (31ms).
2025-04-25 15:50:31.979 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:50:31.987 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:50:31.988 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 15:50:31.989 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 15:50:32.004 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 15:50:32.007 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 15:50:32.154 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4152.8339ms
2025-04-25 15:50:32.220 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 15:50:32.222 +08:00 [DBG] Connection id "0HNC3PKLQRQOT" completed keep alive response.
2025-04-25 15:50:32.237 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:50:32.266 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:50:32.270 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (12ms).
2025-04-25 15:50:32.273 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 4468.3171ms
2025-04-25 15:51:15.101 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 15:51:15.370 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 15:51:24.841 +08:00 [INF] Application is shutting down...
2025-04-25 15:51:24.847 +08:00 [DBG] Hosting stopping
2025-04-25 15:51:24.887 +08:00 [DBG] Connection id "0HNC3PKLQRQOT" disconnecting.
2025-04-25 15:51:24.903 +08:00 [DBG] Connection id "0HNC3PKLQRQOT" stopped.
2025-04-25 15:51:24.915 +08:00 [DBG] Connection id "0HNC3PKLQRQOT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:51:24.942 +08:00 [DBG] Hosting stopped
2025-04-25 16:17:39.965 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 16:17:40.191 +08:00 [DBG] Hosting starting
2025-04-25 16:17:40.222 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 16:17:40.281 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 16:17:40.342 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 16:17:40.381 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 16:17:40.391 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:17:40.394 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 16:17:40.399 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:17:40.416 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 16:17:40.424 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 16:17:40.426 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 16:17:40.427 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 16:17:40.440 +08:00 [DBG] Middleware loaded
2025-04-25 16:17:40.443 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-25 16:17:40.445 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-25 16:17:40.574 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-25 16:17:40.624 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 16:17:40.624 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 16:17:40.625 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-25 16:17:40.626 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 16:17:40.626 +08:00 [INF] Hosting environment: Development
2025-04-25 16:17:40.626 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 16:17:40.626 +08:00 [DBG] Hosting started
2025-04-25 16:17:41.207 +08:00 [DBG] Connection id "0HNC3Q6IV6C0C" accepted.
2025-04-25 16:17:41.209 +08:00 [DBG] Connection id "0HNC3Q6IV6C0D" accepted.
2025-04-25 16:17:41.211 +08:00 [DBG] Connection id "0HNC3Q6IV6C0C" started.
2025-04-25 16:17:41.229 +08:00 [DBG] Connection id "0HNC3Q6IV6C0D" started.
2025-04-25 16:17:41.525 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:17:41.542 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:17:41.797 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:17:41.847 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:17:41.848 +08:00 [DBG] Connection id "0HNC3Q6IV6C0D" completed keep alive response.
2025-04-25 16:17:41.854 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 328.0833ms
2025-04-25 16:17:42.121 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:17:42.125 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:17:42.125 +08:00 [DBG] Connection id "0HNC3Q6IV6C0D" completed keep alive response.
2025-04-25 16:17:42.125 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 4.1912ms
2025-04-25 16:17:44.208 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:17:44.760 +08:00 [DBG] Connection id "0HNC3Q6IV6C0D" completed keep alive response.
2025-04-25 16:17:44.761 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 553.1417ms
2025-04-25 16:17:45.346 +08:00 [DBG] Connection id "0HNC3Q6IV6C0C" received FIN.
2025-04-25 16:17:45.348 +08:00 [DBG] Connection id "0HNC3Q6IV6C0D" received FIN.
2025-04-25 16:17:45.355 +08:00 [DBG] Connection id "0HNC3Q6IV6C0D" disconnecting.
2025-04-25 16:17:45.356 +08:00 [DBG] Connection id "0HNC3Q6IV6C0C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:17:45.357 +08:00 [DBG] Connection id "0HNC3Q6IV6C0D" stopped.
2025-04-25 16:17:45.357 +08:00 [DBG] Connection id "0HNC3Q6IV6C0C" disconnecting.
2025-04-25 16:17:45.357 +08:00 [DBG] Connection id "0HNC3Q6IV6C0C" stopped.
2025-04-25 16:17:45.358 +08:00 [DBG] Connection id "0HNC3Q6IV6C0D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:18:13.974 +08:00 [DBG] Connection id "0HNC3Q6IV6C0E" received FIN.
2025-04-25 16:18:13.973 +08:00 [DBG] Connection id "0HNC3Q6IV6C0E" accepted.
2025-04-25 16:18:13.975 +08:00 [DBG] Connection id "0HNC3Q6IV6C0F" accepted.
2025-04-25 16:18:13.975 +08:00 [DBG] Connection id "0HNC3Q6IV6C0E" started.
2025-04-25 16:18:13.976 +08:00 [DBG] Connection id "0HNC3Q6IV6C0E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:18:13.976 +08:00 [DBG] Connection id "0HNC3Q6IV6C0F" started.
2025-04-25 16:18:13.976 +08:00 [DBG] Connection id "0HNC3Q6IV6C0E" disconnecting.
2025-04-25 16:18:13.976 +08:00 [DBG] Connection id "0HNC3Q6IV6C0E" stopped.
2025-04-25 16:18:13.976 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:18:13.981 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:18:13.986 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 16:18:14.036 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:18:14.043 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:18:14.044 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:18:14.126 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 16:18:14.157 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-04-25 16:18:14.160 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:18:14.170 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:18:14.181 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:18:14.181 +08:00 [DBG] Connection id "0HNC3Q6IV6C0F" completed keep alive response.
2025-04-25 16:18:14.181 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 204.7112ms
2025-04-25 16:19:37.369 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:19:37.636 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:19:45.374 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" accepted.
2025-04-25 16:19:45.374 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" started.
2025-04-25 16:19:45.374 +08:00 [DBG] Connection id "0HNC3Q6IV6C0H" accepted.
2025-04-25 16:19:45.375 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:19:45.375 +08:00 [DBG] Connection id "0HNC3Q6IV6C0H" started.
2025-04-25 16:19:45.381 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:19:45.383 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:19:45.383 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:19:45.383 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" completed keep alive response.
2025-04-25 16:19:45.384 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 8.8679ms
2025-04-25 16:19:45.505 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:19:45.506 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:19:45.506 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" completed keep alive response.
2025-04-25 16:19:45.506 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 1.0042ms
2025-04-25 16:19:48.623 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:19:48.651 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" completed keep alive response.
2025-04-25 16:19:48.651 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.2685ms
2025-04-25 16:19:52.889 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:19:52.898 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:19:52.899 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:19:52.899 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" completed keep alive response.
2025-04-25 16:19:52.899 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 9.5645ms
2025-04-25 16:19:53.705 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:19:53.705 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:19:53.705 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" completed keep alive response.
2025-04-25 16:19:53.705 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.6392ms
2025-04-25 16:19:55.473 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:19:55.487 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" completed keep alive response.
2025-04-25 16:19:55.487 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.5433ms
2025-04-25 16:20:15.515 +08:00 [DBG] Connection id "0HNC3Q6IV6C0H" received FIN.
2025-04-25 16:20:15.516 +08:00 [DBG] Connection id "0HNC3Q6IV6C0H" disconnecting.
2025-04-25 16:20:15.516 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" received FIN.
2025-04-25 16:20:15.516 +08:00 [DBG] Connection id "0HNC3Q6IV6C0H" stopped.
2025-04-25 16:20:15.516 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" disconnecting.
2025-04-25 16:20:15.516 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:20:15.519 +08:00 [DBG] Connection id "0HNC3Q6IV6C0G" stopped.
2025-04-25 16:20:15.520 +08:00 [DBG] Connection id "0HNC3Q6IV6C0H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:20:23.005 +08:00 [DBG] Connection id "0HNC3Q6IV6C0I" accepted.
2025-04-25 16:20:23.005 +08:00 [DBG] Connection id "0HNC3Q6IV6C0I" started.
2025-04-25 16:20:23.029 +08:00 [DBG] Connection id "0HNC3Q6IV6C0I" received FIN.
2025-04-25 16:20:23.029 +08:00 [DBG] Connection id "0HNC3Q6IV6C0I" disconnecting.
2025-04-25 16:20:23.029 +08:00 [DBG] Connection id "0HNC3Q6IV6C0I" stopped.
2025-04-25 16:20:23.029 +08:00 [DBG] Connection id "0HNC3Q6IV6C0I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:20:23.032 +08:00 [DBG] Connection id "0HNC3Q6IV6C0J" accepted.
2025-04-25 16:20:23.032 +08:00 [DBG] Connection id "0HNC3Q6IV6C0J" started.
2025-04-25 16:20:23.032 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:20:23.032 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:20:23.035 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:20:23.035 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:20:23.035 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:20:23.235 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 16:20:23.238 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 16:20:23.242 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:20:23.243 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:20:23.244 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:20:23.245 +08:00 [DBG] Connection id "0HNC3Q6IV6C0J" completed keep alive response.
2025-04-25 16:20:23.245 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 212.5268ms
2025-04-25 16:20:25.893 +08:00 [DBG] Connection id "0HNC3Q6IV6C0F" disconnecting.
2025-04-25 16:20:25.894 +08:00 [DBG] Connection id "0HNC3Q6IV6C0F" stopped.
2025-04-25 16:20:25.894 +08:00 [DBG] Connection id "0HNC3Q6IV6C0F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:20:43.644 +08:00 [DBG] Connection id "0HNC3Q6IV6C0K" accepted.
2025-04-25 16:20:43.644 +08:00 [DBG] Connection id "0HNC3Q6IV6C0K" started.
2025-04-25 16:20:43.645 +08:00 [DBG] Connection id "0HNC3Q6IV6C0L" accepted.
2025-04-25 16:20:43.645 +08:00 [DBG] Connection id "0HNC3Q6IV6C0L" started.
2025-04-25 16:20:43.705 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:20:43.706 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:20:43.706 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:20:43.706 +08:00 [DBG] Connection id "0HNC3Q6IV6C0L" completed keep alive response.
2025-04-25 16:20:43.706 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.8971ms
2025-04-25 16:20:43.800 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:20:43.801 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:20:43.801 +08:00 [DBG] Connection id "0HNC3Q6IV6C0L" completed keep alive response.
2025-04-25 16:20:43.802 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 1.044ms
2025-04-25 16:20:44.369 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:20:44.378 +08:00 [DBG] Connection id "0HNC3Q6IV6C0L" completed keep alive response.
2025-04-25 16:20:44.378 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.3739ms
2025-04-25 16:20:50.584 +08:00 [DBG] Connection id "0HNC3Q6IV6C0K" received FIN.
2025-04-25 16:20:50.584 +08:00 [DBG] Connection id "0HNC3Q6IV6C0L" received FIN.
2025-04-25 16:20:50.585 +08:00 [DBG] Connection id "0HNC3Q6IV6C0K" disconnecting.
2025-04-25 16:20:50.585 +08:00 [DBG] Connection id "0HNC3Q6IV6C0K" stopped.
2025-04-25 16:20:50.585 +08:00 [DBG] Connection id "0HNC3Q6IV6C0L" disconnecting.
2025-04-25 16:20:50.585 +08:00 [DBG] Connection id "0HNC3Q6IV6C0L" stopped.
2025-04-25 16:20:50.586 +08:00 [DBG] Connection id "0HNC3Q6IV6C0K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:20:50.586 +08:00 [DBG] Connection id "0HNC3Q6IV6C0L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:21:44.219 +08:00 [DBG] Connection id "0HNC3Q6IV6C0M" accepted.
2025-04-25 16:21:44.220 +08:00 [DBG] Connection id "0HNC3Q6IV6C0N" accepted.
2025-04-25 16:21:44.226 +08:00 [DBG] Connection id "0HNC3Q6IV6C0M" started.
2025-04-25 16:21:44.226 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:21:44.227 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:21:44.228 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:21:44.228 +08:00 [DBG] Connection id "0HNC3Q6IV6C0M" completed keep alive response.
2025-04-25 16:21:44.228 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.2827ms
2025-04-25 16:21:44.228 +08:00 [DBG] Connection id "0HNC3Q6IV6C0N" started.
2025-04-25 16:21:44.344 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:21:44.344 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:21:44.345 +08:00 [DBG] Connection id "0HNC3Q6IV6C0M" completed keep alive response.
2025-04-25 16:21:44.345 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.9154ms
2025-04-25 16:21:46.192 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:21:46.197 +08:00 [DBG] Connection id "0HNC3Q6IV6C0M" completed keep alive response.
2025-04-25 16:21:46.197 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.8461ms
2025-04-25 16:21:50.710 +08:00 [DBG] Connection id "0HNC3Q6IV6C0N" received FIN.
2025-04-25 16:21:50.710 +08:00 [DBG] Connection id "0HNC3Q6IV6C0M" received FIN.
2025-04-25 16:21:50.711 +08:00 [DBG] Connection id "0HNC3Q6IV6C0N" disconnecting.
2025-04-25 16:21:50.711 +08:00 [DBG] Connection id "0HNC3Q6IV6C0N" stopped.
2025-04-25 16:21:50.711 +08:00 [DBG] Connection id "0HNC3Q6IV6C0M" disconnecting.
2025-04-25 16:21:50.711 +08:00 [DBG] Connection id "0HNC3Q6IV6C0M" stopped.
2025-04-25 16:21:50.712 +08:00 [DBG] Connection id "0HNC3Q6IV6C0N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:21:50.712 +08:00 [DBG] Connection id "0HNC3Q6IV6C0M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:22:34.240 +08:00 [DBG] Connection id "0HNC3Q6IV6C0J" disconnecting.
2025-04-25 16:22:34.241 +08:00 [DBG] Connection id "0HNC3Q6IV6C0J" stopped.
2025-04-25 16:22:34.241 +08:00 [DBG] Connection id "0HNC3Q6IV6C0J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:22:44.409 +08:00 [DBG] Connection id "0HNC3Q6IV6C0O" accepted.
2025-04-25 16:22:44.410 +08:00 [DBG] Connection id "0HNC3Q6IV6C0O" started.
2025-04-25 16:22:44.410 +08:00 [DBG] Connection id "0HNC3Q6IV6C0P" accepted.
2025-04-25 16:22:44.410 +08:00 [DBG] Connection id "0HNC3Q6IV6C0P" started.
2025-04-25 16:22:44.410 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:22:44.411 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:22:44.411 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:22:44.412 +08:00 [DBG] Connection id "0HNC3Q6IV6C0O" completed keep alive response.
2025-04-25 16:22:44.412 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.1727ms
2025-04-25 16:22:44.440 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:22:44.441 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:22:44.441 +08:00 [DBG] Connection id "0HNC3Q6IV6C0O" completed keep alive response.
2025-04-25 16:22:44.441 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.7321ms
2025-04-25 16:22:44.638 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:22:44.644 +08:00 [DBG] Connection id "0HNC3Q6IV6C0O" completed keep alive response.
2025-04-25 16:22:44.644 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.449ms
2025-04-25 16:22:50.789 +08:00 [DBG] Connection id "0HNC3Q6IV6C0P" received FIN.
2025-04-25 16:22:50.789 +08:00 [DBG] Connection id "0HNC3Q6IV6C0P" disconnecting.
2025-04-25 16:22:50.789 +08:00 [DBG] Connection id "0HNC3Q6IV6C0O" received FIN.
2025-04-25 16:22:50.789 +08:00 [DBG] Connection id "0HNC3Q6IV6C0P" stopped.
2025-04-25 16:22:50.789 +08:00 [DBG] Connection id "0HNC3Q6IV6C0O" disconnecting.
2025-04-25 16:22:50.789 +08:00 [DBG] Connection id "0HNC3Q6IV6C0O" stopped.
2025-04-25 16:22:50.789 +08:00 [DBG] Connection id "0HNC3Q6IV6C0P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:22:50.790 +08:00 [DBG] Connection id "0HNC3Q6IV6C0O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:23:43.944 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:23:44.208 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:23:45.539 +08:00 [DBG] Connection id "0HNC3Q6IV6C0Q" accepted.
2025-04-25 16:23:45.540 +08:00 [DBG] Connection id "0HNC3Q6IV6C0R" accepted.
2025-04-25 16:23:45.540 +08:00 [DBG] Connection id "0HNC3Q6IV6C0Q" started.
2025-04-25 16:23:45.540 +08:00 [DBG] Connection id "0HNC3Q6IV6C0R" started.
2025-04-25 16:23:45.560 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:23:45.561 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:23:45.561 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:23:45.561 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:23:45.561 +08:00 [DBG] Connection id "0HNC3Q6IV6C0Q" completed keep alive response.
2025-04-25 16:23:45.561 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.2339ms
2025-04-25 16:23:45.834 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:23:45.858 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:23:45.858 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:23:45.858 +08:00 [DBG] Connection id "0HNC3Q6IV6C0Q" completed keep alive response.
2025-04-25 16:23:45.859 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4033ms
2025-04-25 16:23:46.111 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:23:46.494 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:23:46.757 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:23:47.451 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:23:47.710 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:23:50.894 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:23:50.894 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:23:50.905 +08:00 [DBG] Connection id "0HNC3Q6IV6C0Q" completed keep alive response.
2025-04-25 16:23:50.905 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.275ms
2025-04-25 16:23:53.684 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:23:53.687 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:23:53.687 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:23:53.687 +08:00 [DBG] Connection id "0HNC3Q6IV6C0Q" completed keep alive response.
2025-04-25 16:23:53.687 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 2.8762ms
2025-04-25 16:23:53.725 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:23:53.725 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:23:53.726 +08:00 [DBG] Connection id "0HNC3Q6IV6C0Q" completed keep alive response.
2025-04-25 16:23:53.726 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4005ms
2025-04-25 16:23:55.939 +08:00 [DBG] Connection id "0HNC3Q6IV6C0R" received FIN.
2025-04-25 16:23:55.939 +08:00 [DBG] Connection id "0HNC3Q6IV6C0Q" received FIN.
2025-04-25 16:23:55.939 +08:00 [DBG] Connection id "0HNC3Q6IV6C0R" disconnecting.
2025-04-25 16:23:55.940 +08:00 [DBG] Connection id "0HNC3Q6IV6C0R" stopped.
2025-04-25 16:23:55.940 +08:00 [DBG] Connection id "0HNC3Q6IV6C0Q" disconnecting.
2025-04-25 16:23:55.940 +08:00 [DBG] Connection id "0HNC3Q6IV6C0Q" stopped.
2025-04-25 16:23:55.940 +08:00 [DBG] Connection id "0HNC3Q6IV6C0R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:23:55.940 +08:00 [DBG] Connection id "0HNC3Q6IV6C0Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:23:56.692 +08:00 [DBG] Connection id "0HNC3Q6IV6C0S" accepted.
2025-04-25 16:23:56.693 +08:00 [DBG] Connection id "0HNC3Q6IV6C0S" started.
2025-04-25 16:23:56.693 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:23:56.708 +08:00 [DBG] Connection id "0HNC3Q6IV6C0S" completed keep alive response.
2025-04-25 16:23:56.708 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.5105ms
2025-04-25 16:24:02.274 +08:00 [DBG] Connection id "0HNC3Q6IV6C0T" accepted.
2025-04-25 16:24:02.274 +08:00 [DBG] Connection id "0HNC3Q6IV6C0T" started.
2025-04-25 16:24:02.278 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:24:02.285 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:24:02.285 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:24:02.285 +08:00 [DBG] Connection id "0HNC3Q6IV6C0S" completed keep alive response.
2025-04-25 16:24:02.285 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 6.9499ms
2025-04-25 16:24:02.344 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:24:02.345 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:24:02.345 +08:00 [DBG] Connection id "0HNC3Q6IV6C0S" completed keep alive response.
2025-04-25 16:24:02.345 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.307ms
2025-04-25 16:24:03.170 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:24:03.177 +08:00 [DBG] Connection id "0HNC3Q6IV6C0S" completed keep alive response.
2025-04-25 16:24:03.177 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.3452ms
2025-04-25 16:24:45.950 +08:00 [DBG] Connection id "0HNC3Q6IV6C0T" received FIN.
2025-04-25 16:24:45.950 +08:00 [DBG] Connection id "0HNC3Q6IV6C0S" received FIN.
2025-04-25 16:24:45.951 +08:00 [DBG] Connection id "0HNC3Q6IV6C0T" disconnecting.
2025-04-25 16:24:45.951 +08:00 [DBG] Connection id "0HNC3Q6IV6C0T" stopped.
2025-04-25 16:24:45.951 +08:00 [DBG] Connection id "0HNC3Q6IV6C0S" disconnecting.
2025-04-25 16:24:45.951 +08:00 [DBG] Connection id "0HNC3Q6IV6C0S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:24:45.952 +08:00 [DBG] Connection id "0HNC3Q6IV6C0S" stopped.
2025-04-25 16:24:45.953 +08:00 [DBG] Connection id "0HNC3Q6IV6C0T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:24:45.993 +08:00 [DBG] Connection id "0HNC3Q6IV6C0U" accepted.
2025-04-25 16:24:45.999 +08:00 [DBG] Connection id "0HNC3Q6IV6C0U" started.
2025-04-25 16:24:46.001 +08:00 [DBG] Connection id "0HNC3Q6IV6C0V" accepted.
2025-04-25 16:24:46.001 +08:00 [DBG] Connection id "0HNC3Q6IV6C0V" started.
2025-04-25 16:24:46.002 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:24:46.002 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:24:46.002 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:24:46.002 +08:00 [DBG] Connection id "0HNC3Q6IV6C0U" completed keep alive response.
2025-04-25 16:24:46.003 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.0743ms
2025-04-25 16:24:46.072 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:24:46.073 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:24:46.073 +08:00 [DBG] Connection id "0HNC3Q6IV6C0U" completed keep alive response.
2025-04-25 16:24:46.073 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3041ms
2025-04-25 16:24:46.437 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:24:46.442 +08:00 [DBG] Connection id "0HNC3Q6IV6C0U" completed keep alive response.
2025-04-25 16:24:46.442 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.861ms
2025-04-25 16:24:56.020 +08:00 [DBG] Connection id "0HNC3Q6IV6C0V" received FIN.
2025-04-25 16:24:56.020 +08:00 [DBG] Connection id "0HNC3Q6IV6C0U" received FIN.
2025-04-25 16:24:56.020 +08:00 [DBG] Connection id "0HNC3Q6IV6C0V" disconnecting.
2025-04-25 16:24:56.020 +08:00 [DBG] Connection id "0HNC3Q6IV6C0V" stopped.
2025-04-25 16:24:56.020 +08:00 [DBG] Connection id "0HNC3Q6IV6C0U" disconnecting.
2025-04-25 16:24:56.020 +08:00 [DBG] Connection id "0HNC3Q6IV6C0U" stopped.
2025-04-25 16:24:56.020 +08:00 [DBG] Connection id "0HNC3Q6IV6C0V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:24:56.021 +08:00 [DBG] Connection id "0HNC3Q6IV6C0U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:25:03.780 +08:00 [DBG] Connection id "0HNC3Q6IV6C10" accepted.
2025-04-25 16:25:03.781 +08:00 [DBG] Connection id "0HNC3Q6IV6C10" started.
2025-04-25 16:25:03.786 +08:00 [DBG] Connection id "0HNC3Q6IV6C11" accepted.
2025-04-25 16:25:03.786 +08:00 [DBG] Connection id "0HNC3Q6IV6C11" started.
2025-04-25 16:25:03.802 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:25:03.803 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:25:03.803 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:25:03.803 +08:00 [DBG] Connection id "0HNC3Q6IV6C10" completed keep alive response.
2025-04-25 16:25:03.804 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.3614ms
2025-04-25 16:25:03.888 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:25:03.888 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:25:03.888 +08:00 [DBG] Connection id "0HNC3Q6IV6C10" completed keep alive response.
2025-04-25 16:25:03.888 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3282ms
2025-04-25 16:25:04.253 +08:00 [DBG] Connection id "0HNC3Q6IV6C11" received FIN.
2025-04-25 16:25:04.253 +08:00 [DBG] Connection id "0HNC3Q6IV6C10" received FIN.
2025-04-25 16:25:04.253 +08:00 [DBG] Connection id "0HNC3Q6IV6C11" disconnecting.
2025-04-25 16:25:04.253 +08:00 [DBG] Connection id "0HNC3Q6IV6C10" disconnecting.
2025-04-25 16:25:04.253 +08:00 [DBG] Connection id "0HNC3Q6IV6C10" stopped.
2025-04-25 16:25:04.253 +08:00 [DBG] Connection id "0HNC3Q6IV6C11" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:25:04.253 +08:00 [DBG] Connection id "0HNC3Q6IV6C10" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:25:04.254 +08:00 [DBG] Connection id "0HNC3Q6IV6C11" stopped.
2025-04-25 16:25:05.437 +08:00 [DBG] Connection id "0HNC3Q6IV6C12" accepted.
2025-04-25 16:25:05.437 +08:00 [DBG] Connection id "0HNC3Q6IV6C12" started.
2025-04-25 16:25:05.438 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:25:05.444 +08:00 [DBG] Connection id "0HNC3Q6IV6C12" completed keep alive response.
2025-04-25 16:25:05.444 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.6878ms
2025-04-25 16:25:05.978 +08:00 [DBG] Connection id "0HNC3Q6IV6C12" received FIN.
2025-04-25 16:25:05.979 +08:00 [DBG] Connection id "0HNC3Q6IV6C12" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:25:05.980 +08:00 [DBG] Connection id "0HNC3Q6IV6C12" disconnecting.
2025-04-25 16:25:05.980 +08:00 [DBG] Connection id "0HNC3Q6IV6C12" stopped.
2025-04-25 16:26:03.169 +08:00 [DBG] Connection id "0HNC3Q6IV6C13" accepted.
2025-04-25 16:26:03.169 +08:00 [DBG] Connection id "0HNC3Q6IV6C13" started.
2025-04-25 16:26:03.171 +08:00 [DBG] Connection id "0HNC3Q6IV6C14" accepted.
2025-04-25 16:26:03.171 +08:00 [DBG] Connection id "0HNC3Q6IV6C14" started.
2025-04-25 16:26:03.173 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:26:03.181 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:26:03.183 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:26:03.184 +08:00 [DBG] Connection id "0HNC3Q6IV6C13" completed keep alive response.
2025-04-25 16:26:03.185 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 12.2701ms
2025-04-25 16:26:03.335 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:26:03.338 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:26:03.338 +08:00 [DBG] Connection id "0HNC3Q6IV6C13" completed keep alive response.
2025-04-25 16:26:03.338 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 3.0889ms
2025-04-25 16:26:06.092 +08:00 [DBG] Connection id "0HNC3Q6IV6C14" received FIN.
2025-04-25 16:26:06.092 +08:00 [DBG] Connection id "0HNC3Q6IV6C13" received FIN.
2025-04-25 16:26:06.164 +08:00 [DBG] Connection id "0HNC3Q6IV6C14" disconnecting.
2025-04-25 16:26:06.164 +08:00 [DBG] Connection id "0HNC3Q6IV6C14" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:26:06.165 +08:00 [DBG] Connection id "0HNC3Q6IV6C13" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:26:06.165 +08:00 [DBG] Connection id "0HNC3Q6IV6C13" disconnecting.
2025-04-25 16:26:06.189 +08:00 [DBG] Connection id "0HNC3Q6IV6C14" stopped.
2025-04-25 16:26:06.201 +08:00 [DBG] Connection id "0HNC3Q6IV6C13" stopped.
2025-04-25 16:26:19.642 +08:00 [DBG] Connection id "0HNC3Q6IV6C15" accepted.
2025-04-25 16:26:19.643 +08:00 [DBG] Connection id "0HNC3Q6IV6C15" started.
2025-04-25 16:26:19.643 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:26:19.669 +08:00 [DBG] Connection id "0HNC3Q6IV6C15" completed keep alive response.
2025-04-25 16:26:19.670 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.5647ms
2025-04-25 16:26:27.532 +08:00 [DBG] Connection id "0HNC3Q6IV6C15" received FIN.
2025-04-25 16:26:27.533 +08:00 [DBG] Connection id "0HNC3Q6IV6C15" disconnecting.
2025-04-25 16:26:27.533 +08:00 [DBG] Connection id "0HNC3Q6IV6C15" stopped.
2025-04-25 16:26:27.533 +08:00 [DBG] Connection id "0HNC3Q6IV6C15" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:26:36.199 +08:00 [DBG] Connection id "0HNC3Q6IV6C16" accepted.
2025-04-25 16:26:36.200 +08:00 [DBG] Connection id "0HNC3Q6IV6C16" started.
2025-04-25 16:26:36.201 +08:00 [DBG] Connection id "0HNC3Q6IV6C17" accepted.
2025-04-25 16:26:36.202 +08:00 [DBG] Connection id "0HNC3Q6IV6C17" started.
2025-04-25 16:26:36.203 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:26:36.203 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:26:36.207 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:26:36.207 +08:00 [DBG] Connection id "0HNC3Q6IV6C16" completed keep alive response.
2025-04-25 16:26:36.208 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 4.9473ms
2025-04-25 16:26:36.285 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:26:36.285 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:26:36.286 +08:00 [DBG] Connection id "0HNC3Q6IV6C16" completed keep alive response.
2025-04-25 16:26:36.286 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.5811ms
2025-04-25 16:26:37.541 +08:00 [DBG] Connection id "0HNC3Q6IV6C17" received FIN.
2025-04-25 16:26:37.541 +08:00 [DBG] Connection id "0HNC3Q6IV6C16" received FIN.
2025-04-25 16:26:37.541 +08:00 [DBG] Connection id "0HNC3Q6IV6C17" disconnecting.
2025-04-25 16:26:37.541 +08:00 [DBG] Connection id "0HNC3Q6IV6C17" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:26:37.541 +08:00 [DBG] Connection id "0HNC3Q6IV6C16" disconnecting.
2025-04-25 16:26:37.541 +08:00 [DBG] Connection id "0HNC3Q6IV6C16" stopped.
2025-04-25 16:26:37.542 +08:00 [DBG] Connection id "0HNC3Q6IV6C16" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:26:37.545 +08:00 [DBG] Connection id "0HNC3Q6IV6C17" stopped.
2025-04-25 16:26:38.168 +08:00 [DBG] Connection id "0HNC3Q6IV6C18" accepted.
2025-04-25 16:26:38.169 +08:00 [DBG] Connection id "0HNC3Q6IV6C18" started.
2025-04-25 16:26:38.169 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:26:38.183 +08:00 [DBG] Connection id "0HNC3Q6IV6C18" completed keep alive response.
2025-04-25 16:26:38.183 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.1297ms
2025-04-25 16:26:47.541 +08:00 [DBG] Connection id "0HNC3Q6IV6C18" received FIN.
2025-04-25 16:26:47.542 +08:00 [DBG] Connection id "0HNC3Q6IV6C18" disconnecting.
2025-04-25 16:26:47.542 +08:00 [DBG] Connection id "0HNC3Q6IV6C18" stopped.
2025-04-25 16:26:47.542 +08:00 [DBG] Connection id "0HNC3Q6IV6C18" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:27:05.696 +08:00 [DBG] Connection id "0HNC3Q6IV6C19" accepted.
2025-04-25 16:27:05.696 +08:00 [DBG] Connection id "0HNC3Q6IV6C19" started.
2025-04-25 16:27:05.698 +08:00 [DBG] Connection id "0HNC3Q6IV6C1A" accepted.
2025-04-25 16:27:05.699 +08:00 [DBG] Connection id "0HNC3Q6IV6C1A" started.
2025-04-25 16:27:05.700 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:27:05.700 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:27:05.700 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:27:05.700 +08:00 [DBG] Connection id "0HNC3Q6IV6C19" completed keep alive response.
2025-04-25 16:27:05.701 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.9775ms
2025-04-25 16:27:05.760 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:27:05.761 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:27:05.761 +08:00 [DBG] Connection id "0HNC3Q6IV6C19" completed keep alive response.
2025-04-25 16:27:05.761 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 1.2747ms
2025-04-25 16:27:06.112 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:27:06.118 +08:00 [DBG] Connection id "0HNC3Q6IV6C19" completed keep alive response.
2025-04-25 16:27:06.118 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.084ms
2025-04-25 16:27:07.586 +08:00 [DBG] Connection id "0HNC3Q6IV6C1A" received FIN.
2025-04-25 16:27:07.586 +08:00 [DBG] Connection id "0HNC3Q6IV6C19" received FIN.
2025-04-25 16:27:07.587 +08:00 [DBG] Connection id "0HNC3Q6IV6C1A" disconnecting.
2025-04-25 16:27:07.587 +08:00 [DBG] Connection id "0HNC3Q6IV6C1A" stopped.
2025-04-25 16:27:07.587 +08:00 [DBG] Connection id "0HNC3Q6IV6C19" disconnecting.
2025-04-25 16:27:07.587 +08:00 [DBG] Connection id "0HNC3Q6IV6C19" stopped.
2025-04-25 16:27:07.587 +08:00 [DBG] Connection id "0HNC3Q6IV6C1A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:27:07.587 +08:00 [DBG] Connection id "0HNC3Q6IV6C19" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:27:16.516 +08:00 [DBG] Connection id "0HNC3Q6IV6C1B" accepted.
2025-04-25 16:27:16.516 +08:00 [DBG] Connection id "0HNC3Q6IV6C1B" started.
2025-04-25 16:27:16.517 +08:00 [DBG] Connection id "0HNC3Q6IV6C1C" accepted.
2025-04-25 16:27:16.517 +08:00 [DBG] Connection id "0HNC3Q6IV6C1C" started.
2025-04-25 16:27:16.533 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:27:16.541 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:27:16.542 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:27:16.542 +08:00 [DBG] Connection id "0HNC3Q6IV6C1B" completed keep alive response.
2025-04-25 16:27:16.542 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 9.6148ms
2025-04-25 16:27:16.584 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:27:16.584 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:27:16.584 +08:00 [DBG] Connection id "0HNC3Q6IV6C1B" completed keep alive response.
2025-04-25 16:27:16.584 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.7769ms
2025-04-25 16:27:16.868 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:27:16.881 +08:00 [DBG] Connection id "0HNC3Q6IV6C1B" completed keep alive response.
2025-04-25 16:27:16.882 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.4796ms
2025-04-25 16:27:17.591 +08:00 [DBG] Connection id "0HNC3Q6IV6C1C" received FIN.
2025-04-25 16:27:17.591 +08:00 [DBG] Connection id "0HNC3Q6IV6C1C" disconnecting.
2025-04-25 16:27:17.591 +08:00 [DBG] Connection id "0HNC3Q6IV6C1C" stopped.
2025-04-25 16:27:17.591 +08:00 [DBG] Connection id "0HNC3Q6IV6C1B" received FIN.
2025-04-25 16:27:17.591 +08:00 [DBG] Connection id "0HNC3Q6IV6C1B" disconnecting.
2025-04-25 16:27:17.591 +08:00 [DBG] Connection id "0HNC3Q6IV6C1B" stopped.
2025-04-25 16:27:17.591 +08:00 [DBG] Connection id "0HNC3Q6IV6C1B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:27:17.591 +08:00 [DBG] Connection id "0HNC3Q6IV6C1C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:27:45.570 +08:00 [DBG] Connection id "0HNC3Q6IV6C1D" accepted.
2025-04-25 16:27:45.571 +08:00 [DBG] Connection id "0HNC3Q6IV6C1E" accepted.
2025-04-25 16:27:45.571 +08:00 [DBG] Connection id "0HNC3Q6IV6C1D" started.
2025-04-25 16:27:45.572 +08:00 [DBG] Connection id "0HNC3Q6IV6C1E" started.
2025-04-25 16:27:45.573 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:27:45.578 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:27:45.579 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:27:45.579 +08:00 [DBG] Connection id "0HNC3Q6IV6C1D" completed keep alive response.
2025-04-25 16:27:45.579 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 6.0068ms
2025-04-25 16:27:45.622 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:27:45.622 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:27:45.623 +08:00 [DBG] Connection id "0HNC3Q6IV6C1D" completed keep alive response.
2025-04-25 16:27:45.623 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.6611ms
2025-04-25 16:27:45.860 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:27:45.866 +08:00 [DBG] Connection id "0HNC3Q6IV6C1D" completed keep alive response.
2025-04-25 16:27:45.866 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.3436ms
2025-04-25 16:27:47.622 +08:00 [DBG] Connection id "0HNC3Q6IV6C1E" received FIN.
2025-04-25 16:27:47.622 +08:00 [DBG] Connection id "0HNC3Q6IV6C1D" received FIN.
2025-04-25 16:27:47.622 +08:00 [DBG] Connection id "0HNC3Q6IV6C1E" disconnecting.
2025-04-25 16:27:47.623 +08:00 [DBG] Connection id "0HNC3Q6IV6C1E" stopped.
2025-04-25 16:27:47.623 +08:00 [DBG] Connection id "0HNC3Q6IV6C1D" disconnecting.
2025-04-25 16:27:47.623 +08:00 [DBG] Connection id "0HNC3Q6IV6C1E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:27:47.623 +08:00 [DBG] Connection id "0HNC3Q6IV6C1D" stopped.
2025-04-25 16:27:47.623 +08:00 [DBG] Connection id "0HNC3Q6IV6C1D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:28:04.578 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 16:28:04.757 +08:00 [DBG] Hosting starting
2025-04-25 16:28:04.788 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 16:28:04.807 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 16:28:04.839 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 16:28:04.858 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 16:28:04.863 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:28:04.867 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 16:28:04.872 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:28:04.884 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 16:28:04.888 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 16:28:04.890 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 16:28:04.891 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 16:28:04.905 +08:00 [DBG] Middleware loaded
2025-04-25 16:28:04.907 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-25 16:28:04.909 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-25 16:28:05.004 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-25 16:28:05.031 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 16:28:05.031 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 16:28:05.032 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-25 16:28:05.033 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 16:28:05.033 +08:00 [INF] Hosting environment: Development
2025-04-25 16:28:05.033 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 16:28:05.033 +08:00 [DBG] Hosting started
2025-04-25 16:28:05.396 +08:00 [DBG] Connection id "0HNC3QCCVT1BI" accepted.
2025-04-25 16:28:05.398 +08:00 [DBG] Connection id "0HNC3QCCVT1BJ" accepted.
2025-04-25 16:28:05.400 +08:00 [DBG] Connection id "0HNC3QCCVT1BI" started.
2025-04-25 16:28:05.420 +08:00 [DBG] Connection id "0HNC3QCCVT1BJ" started.
2025-04-25 16:28:05.655 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:28:05.667 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:28:05.881 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:28:05.907 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:28:05.907 +08:00 [DBG] Connection id "0HNC3QCCVT1BI" completed keep alive response.
2025-04-25 16:28:05.910 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 258.2734ms
2025-04-25 16:28:06.009 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:28:06.013 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:28:06.014 +08:00 [DBG] Connection id "0HNC3QCCVT1BI" completed keep alive response.
2025-04-25 16:28:06.014 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 4.4199ms
2025-04-25 16:28:09.055 +08:00 [DBG] Connection id "0HNC3QCCVT1BJ" received FIN.
2025-04-25 16:28:09.055 +08:00 [DBG] Connection id "0HNC3QCCVT1BI" received FIN.
2025-04-25 16:28:09.058 +08:00 [DBG] Connection id "0HNC3QCCVT1BJ" disconnecting.
2025-04-25 16:28:09.058 +08:00 [DBG] Connection id "0HNC3QCCVT1BI" disconnecting.
2025-04-25 16:28:09.060 +08:00 [DBG] Connection id "0HNC3QCCVT1BI" stopped.
2025-04-25 16:28:09.060 +08:00 [DBG] Connection id "0HNC3QCCVT1BJ" stopped.
2025-04-25 16:28:09.063 +08:00 [DBG] Connection id "0HNC3QCCVT1BI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:28:09.114 +08:00 [DBG] Connection id "0HNC3QCCVT1BJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:28:09.155 +08:00 [DBG] Connection id "0HNC3QCCVT1BK" accepted.
2025-04-25 16:28:09.155 +08:00 [DBG] Connection id "0HNC3QCCVT1BK" started.
2025-04-25 16:28:09.191 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:28:09.603 +08:00 [DBG] Connection id "0HNC3QCCVT1BK" completed keep alive response.
2025-04-25 16:28:09.603 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 411.6507ms
2025-04-25 16:28:17.705 +08:00 [DBG] Connection id "0HNC3QCCVT1BK" received FIN.
2025-04-25 16:28:17.720 +08:00 [DBG] Connection id "0HNC3QCCVT1BK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:28:17.776 +08:00 [DBG] Connection id "0HNC3QCCVT1BK" disconnecting.
2025-04-25 16:28:17.779 +08:00 [DBG] Connection id "0HNC3QCCVT1BK" stopped.
2025-04-25 16:28:19.045 +08:00 [DBG] Connection id "0HNC3QCCVT1BL" accepted.
2025-04-25 16:28:19.045 +08:00 [DBG] Connection id "0HNC3QCCVT1BL" started.
2025-04-25 16:28:19.048 +08:00 [DBG] Connection id "0HNC3QCCVT1BL" received FIN.
2025-04-25 16:28:19.048 +08:00 [DBG] Connection id "0HNC3QCCVT1BM" accepted.
2025-04-25 16:28:19.048 +08:00 [DBG] Connection id "0HNC3QCCVT1BL" disconnecting.
2025-04-25 16:28:19.051 +08:00 [DBG] Connection id "0HNC3QCCVT1BL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:28:19.052 +08:00 [DBG] Connection id "0HNC3QCCVT1BM" started.
2025-04-25 16:28:19.052 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:28:19.053 +08:00 [DBG] Connection id "0HNC3QCCVT1BL" stopped.
2025-04-25 16:28:19.057 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:28:19.059 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 16:28:19.111 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:28:19.121 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:28:19.122 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:28:19.270 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:28:19.272 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:28:19.277 +08:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:28:19.280 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 16:28:19.280 +08:00 [DBG] Connection id "0HNC3QCCVT1BM" completed keep alive response.
2025-04-25 16:28:19.281 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 403 0 null 228.6084ms
2025-04-25 16:28:36.984 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 16:28:36.984 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:28:36.986 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 16:28:36.986 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 16:28:36.986 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:28:36.991 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:28:36.991 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:28:36.996 +08:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:28:37.001 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 16:28:37.001 +08:00 [DBG] Connection id "0HNC3QCCVT1BM" completed keep alive response.
2025-04-25 16:28:37.002 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 403 0 null 18.0562ms
2025-04-25 16:28:45.309 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1 - null null
2025-04-25 16:28:45.309 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:28:45.309 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-04-25 16:28:45.310 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-04-25 16:28:45.310 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 16:28:45.311 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:28:45.311 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:28:45.312 +08:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:28:45.313 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 16:28:45.313 +08:00 [DBG] Connection id "0HNC3QCCVT1BM" completed keep alive response.
2025-04-25 16:28:45.313 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1 - 403 0 null 3.6432ms
2025-04-25 16:28:52.261 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:28:52.261 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:28:52.261 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:28:52.261 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:28:52.261 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:28:52.262 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:28:52.262 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:28:52.263 +08:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:28:52.266 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 16:28:52.266 +08:00 [DBG] Connection id "0HNC3QCCVT1BM" completed keep alive response.
2025-04-25 16:28:52.266 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 403 0 null 5.3041ms
2025-04-25 16:28:54.179 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" accepted.
2025-04-25 16:28:54.180 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" started.
2025-04-25 16:28:54.183 +08:00 [DBG] Connection id "0HNC3QCCVT1BO" accepted.
2025-04-25 16:28:54.183 +08:00 [DBG] Connection id "0HNC3QCCVT1BO" started.
2025-04-25 16:28:54.204 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:28:54.205 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:28:54.205 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:28:54.205 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" completed keep alive response.
2025-04-25 16:28:54.205 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.5922ms
2025-04-25 16:28:54.241 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:28:54.242 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:28:54.242 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" completed keep alive response.
2025-04-25 16:28:54.243 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 1.0764ms
2025-04-25 16:28:54.739 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:28:54.762 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" completed keep alive response.
2025-04-25 16:28:54.768 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.747ms
2025-04-25 16:29:10.358 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:29:10.359 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:29:10.359 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:29:10.359 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" completed keep alive response.
2025-04-25 16:29:10.359 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.9723ms
2025-04-25 16:29:10.423 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:29:10.423 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:29:10.423 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" completed keep alive response.
2025-04-25 16:29:10.423 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.5559ms
2025-04-25 16:29:10.905 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:29:10.915 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" completed keep alive response.
2025-04-25 16:29:10.915 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.501ms
2025-04-25 16:29:19.032 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:29:19.032 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:29:19.032 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:29:19.032 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" completed keep alive response.
2025-04-25 16:29:19.033 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.9201ms
2025-04-25 16:29:19.061 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:29:19.061 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:29:19.063 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" completed keep alive response.
2025-04-25 16:29:19.063 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.2678ms
2025-04-25 16:29:19.362 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:29:19.371 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" completed keep alive response.
2025-04-25 16:29:19.371 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.3623ms
2025-04-25 16:29:22.756 +08:00 [DBG] Connection id "0HNC3QCCVT1BO" received FIN.
2025-04-25 16:29:22.756 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" received FIN.
2025-04-25 16:29:22.757 +08:00 [DBG] Connection id "0HNC3QCCVT1BO" disconnecting.
2025-04-25 16:29:22.757 +08:00 [DBG] Connection id "0HNC3QCCVT1BO" stopped.
2025-04-25 16:29:22.757 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" disconnecting.
2025-04-25 16:29:22.757 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:29:22.758 +08:00 [DBG] Connection id "0HNC3QCCVT1BO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:29:22.758 +08:00 [DBG] Connection id "0HNC3QCCVT1BN" stopped.
2025-04-25 16:29:25.844 +08:00 [DBG] Connection id "0HNC3QCCVT1BP" accepted.
2025-04-25 16:29:25.845 +08:00 [DBG] Connection id "0HNC3QCCVT1BP" started.
2025-04-25 16:29:25.847 +08:00 [DBG] Connection id "0HNC3QCCVT1BQ" accepted.
2025-04-25 16:29:25.847 +08:00 [DBG] Connection id "0HNC3QCCVT1BQ" started.
2025-04-25 16:29:25.849 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:29:25.850 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:29:25.850 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:29:25.850 +08:00 [DBG] Connection id "0HNC3QCCVT1BP" completed keep alive response.
2025-04-25 16:29:25.850 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.1014ms
2025-04-25 16:29:25.893 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:29:25.893 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:29:25.893 +08:00 [DBG] Connection id "0HNC3QCCVT1BP" completed keep alive response.
2025-04-25 16:29:25.893 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3815ms
2025-04-25 16:29:26.241 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:29:26.249 +08:00 [DBG] Connection id "0HNC3QCCVT1BP" completed keep alive response.
2025-04-25 16:29:26.250 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.3198ms
2025-04-25 16:29:32.771 +08:00 [DBG] Connection id "0HNC3QCCVT1BQ" received FIN.
2025-04-25 16:29:32.772 +08:00 [DBG] Connection id "0HNC3QCCVT1BP" received FIN.
2025-04-25 16:29:32.772 +08:00 [DBG] Connection id "0HNC3QCCVT1BQ" disconnecting.
2025-04-25 16:29:32.772 +08:00 [DBG] Connection id "0HNC3QCCVT1BQ" stopped.
2025-04-25 16:29:32.772 +08:00 [DBG] Connection id "0HNC3QCCVT1BP" disconnecting.
2025-04-25 16:29:32.772 +08:00 [DBG] Connection id "0HNC3QCCVT1BP" stopped.
2025-04-25 16:29:32.772 +08:00 [DBG] Connection id "0HNC3QCCVT1BQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:29:32.772 +08:00 [DBG] Connection id "0HNC3QCCVT1BP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:29:33.129 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" accepted.
2025-04-25 16:29:33.130 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" started.
2025-04-25 16:29:33.130 +08:00 [DBG] Connection id "0HNC3QCCVT1BS" accepted.
2025-04-25 16:29:33.131 +08:00 [DBG] Connection id "0HNC3QCCVT1BS" started.
2025-04-25 16:29:33.140 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:29:33.141 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:29:33.141 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:29:33.141 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" completed keep alive response.
2025-04-25 16:29:33.141 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.9327ms
2025-04-25 16:29:33.175 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:29:33.175 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:29:33.175 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" completed keep alive response.
2025-04-25 16:29:33.175 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4805ms
2025-04-25 16:29:33.574 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:29:33.581 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" completed keep alive response.
2025-04-25 16:29:33.581 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.0636ms
2025-04-25 16:29:40.335 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:29:40.336 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:29:40.336 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:29:40.336 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" completed keep alive response.
2025-04-25 16:29:40.336 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.3042ms
2025-04-25 16:29:40.373 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:29:40.374 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:29:40.374 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" completed keep alive response.
2025-04-25 16:29:40.374 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4002ms
2025-04-25 16:29:40.672 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:29:40.680 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" completed keep alive response.
2025-04-25 16:29:40.680 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.8994ms
2025-04-25 16:29:42.790 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" received FIN.
2025-04-25 16:29:42.790 +08:00 [DBG] Connection id "0HNC3QCCVT1BS" received FIN.
2025-04-25 16:29:42.790 +08:00 [DBG] Connection id "0HNC3QCCVT1BS" disconnecting.
2025-04-25 16:29:42.790 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" disconnecting.
2025-04-25 16:29:42.790 +08:00 [DBG] Connection id "0HNC3QCCVT1BS" stopped.
2025-04-25 16:29:42.790 +08:00 [DBG] Connection id "0HNC3QCCVT1BS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:29:42.790 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:29:42.792 +08:00 [DBG] Connection id "0HNC3QCCVT1BR" stopped.
2025-04-25 16:29:52.869 +08:00 [DBG] Connection id "0HNC3QCCVT1BT" accepted.
2025-04-25 16:29:52.869 +08:00 [DBG] Connection id "0HNC3QCCVT1BT" started.
2025-04-25 16:29:52.869 +08:00 [DBG] Connection id "0HNC3QCCVT1BU" accepted.
2025-04-25 16:29:52.869 +08:00 [DBG] Connection id "0HNC3QCCVT1BU" started.
2025-04-25 16:29:52.886 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:29:52.887 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:29:52.887 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:29:52.887 +08:00 [DBG] Connection id "0HNC3QCCVT1BT" completed keep alive response.
2025-04-25 16:29:52.888 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.4374ms
2025-04-25 16:29:52.924 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:29:52.925 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:29:52.925 +08:00 [DBG] Connection id "0HNC3QCCVT1BT" completed keep alive response.
2025-04-25 16:29:52.925 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.2974ms
2025-04-25 16:29:53.187 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:29:53.192 +08:00 [DBG] Connection id "0HNC3QCCVT1BT" completed keep alive response.
2025-04-25 16:29:53.194 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.0301ms
2025-04-25 16:29:58.852 +08:00 [DBG] Connection id "0HNC3QCCVT1BV" accepted.
2025-04-25 16:29:58.852 +08:00 [DBG] Connection id "0HNC3QCCVT1BV" started.
2025-04-25 16:29:58.854 +08:00 [DBG] Connection id "0HNC3QCCVT1C0" accepted.
2025-04-25 16:29:58.854 +08:00 [DBG] Connection id "0HNC3QCCVT1BV" received FIN.
2025-04-25 16:29:58.854 +08:00 [DBG] Connection id "0HNC3QCCVT1C0" started.
2025-04-25 16:29:58.854 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:29:58.854 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:29:58.854 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:29:58.855 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:29:58.855 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:29:58.855 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:29:58.855 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:29:58.856 +08:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:29:58.856 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 16:29:58.856 +08:00 [DBG] Connection id "0HNC3QCCVT1C0" completed keep alive response.
2025-04-25 16:29:58.856 +08:00 [DBG] Connection id "0HNC3QCCVT1BV" disconnecting.
2025-04-25 16:29:58.856 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 403 0 null 1.6313ms
2025-04-25 16:29:58.856 +08:00 [DBG] Connection id "0HNC3QCCVT1BV" stopped.
2025-04-25 16:29:58.856 +08:00 [DBG] Connection id "0HNC3QCCVT1BV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:30:12.844 +08:00 [DBG] Connection id "0HNC3QCCVT1BT" received FIN.
2025-04-25 16:30:12.844 +08:00 [DBG] Connection id "0HNC3QCCVT1BU" received FIN.
2025-04-25 16:30:12.845 +08:00 [DBG] Connection id "0HNC3QCCVT1BT" disconnecting.
2025-04-25 16:30:12.845 +08:00 [DBG] Connection id "0HNC3QCCVT1BT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:30:12.845 +08:00 [DBG] Connection id "0HNC3QCCVT1BU" disconnecting.
2025-04-25 16:30:12.846 +08:00 [DBG] Connection id "0HNC3QCCVT1BU" stopped.
2025-04-25 16:30:12.846 +08:00 [DBG] Connection id "0HNC3QCCVT1BT" stopped.
2025-04-25 16:30:12.846 +08:00 [DBG] Connection id "0HNC3QCCVT1BU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:30:43.672 +08:00 [DBG] Connection id "0HNC3QCCVT1C1" accepted.
2025-04-25 16:30:43.678 +08:00 [DBG] Connection id "0HNC3QCCVT1C1" started.
2025-04-25 16:30:43.678 +08:00 [DBG] Connection id "0HNC3QCCVT1C2" accepted.
2025-04-25 16:30:43.679 +08:00 [DBG] Connection id "0HNC3QCCVT1C2" started.
2025-04-25 16:30:43.679 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:30:43.680 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:30:43.680 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:30:43.680 +08:00 [DBG] Connection id "0HNC3QCCVT1C1" completed keep alive response.
2025-04-25 16:30:43.680 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.3804ms
2025-04-25 16:30:43.805 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:30:43.805 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:30:43.805 +08:00 [DBG] Connection id "0HNC3QCCVT1C1" completed keep alive response.
2025-04-25 16:30:43.805 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3412ms
2025-04-25 16:30:44.446 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:30:44.457 +08:00 [DBG] Connection id "0HNC3QCCVT1C1" completed keep alive response.
2025-04-25 16:30:44.457 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.734ms
2025-04-25 16:30:52.904 +08:00 [DBG] Connection id "0HNC3QCCVT1C2" received FIN.
2025-04-25 16:30:52.905 +08:00 [DBG] Connection id "0HNC3QCCVT1C1" received FIN.
2025-04-25 16:30:52.905 +08:00 [DBG] Connection id "0HNC3QCCVT1C2" disconnecting.
2025-04-25 16:30:52.905 +08:00 [DBG] Connection id "0HNC3QCCVT1C2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:30:52.905 +08:00 [DBG] Connection id "0HNC3QCCVT1C1" disconnecting.
2025-04-25 16:30:52.905 +08:00 [DBG] Connection id "0HNC3QCCVT1C1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:30:52.909 +08:00 [DBG] Connection id "0HNC3QCCVT1C1" stopped.
2025-04-25 16:30:52.909 +08:00 [DBG] Connection id "0HNC3QCCVT1C2" stopped.
2025-04-25 16:31:02.900 +08:00 [DBG] Connection id "0HNC3QCCVT1BM" disconnecting.
2025-04-25 16:31:02.901 +08:00 [DBG] Connection id "0HNC3QCCVT1BM" stopped.
2025-04-25 16:31:02.901 +08:00 [DBG] Connection id "0HNC3QCCVT1BM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:31:08.543 +08:00 [DBG] Connection id "0HNC3QCCVT1C3" accepted.
2025-04-25 16:31:08.544 +08:00 [DBG] Connection id "0HNC3QCCVT1C4" accepted.
2025-04-25 16:31:08.544 +08:00 [DBG] Connection id "0HNC3QCCVT1C3" started.
2025-04-25 16:31:08.545 +08:00 [DBG] Connection id "0HNC3QCCVT1C4" started.
2025-04-25 16:31:08.548 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:31:08.549 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:31:08.549 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:31:08.550 +08:00 [DBG] Connection id "0HNC3QCCVT1C3" completed keep alive response.
2025-04-25 16:31:08.550 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 2.0242ms
2025-04-25 16:31:08.897 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:31:08.897 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:31:08.897 +08:00 [DBG] Connection id "0HNC3QCCVT1C3" completed keep alive response.
2025-04-25 16:31:08.897 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.8626ms
2025-04-25 16:31:11.593 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:31:11.599 +08:00 [DBG] Connection id "0HNC3QCCVT1C3" completed keep alive response.
2025-04-25 16:31:11.599 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.0089ms
2025-04-25 16:31:12.944 +08:00 [DBG] Connection id "0HNC3QCCVT1C4" received FIN.
2025-04-25 16:31:12.945 +08:00 [DBG] Connection id "0HNC3QCCVT1C3" received FIN.
2025-04-25 16:31:12.945 +08:00 [DBG] Connection id "0HNC3QCCVT1C4" disconnecting.
2025-04-25 16:31:12.945 +08:00 [DBG] Connection id "0HNC3QCCVT1C4" stopped.
2025-04-25 16:31:12.945 +08:00 [DBG] Connection id "0HNC3QCCVT1C3" disconnecting.
2025-04-25 16:31:12.945 +08:00 [DBG] Connection id "0HNC3QCCVT1C3" stopped.
2025-04-25 16:31:12.945 +08:00 [DBG] Connection id "0HNC3QCCVT1C4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:31:12.945 +08:00 [DBG] Connection id "0HNC3QCCVT1C3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:31:17.296 +08:00 [DBG] Connection id "0HNC3QCCVT1C5" accepted.
2025-04-25 16:31:17.296 +08:00 [DBG] Connection id "0HNC3QCCVT1C5" started.
2025-04-25 16:31:17.297 +08:00 [DBG] Connection id "0HNC3QCCVT1C6" accepted.
2025-04-25 16:31:17.297 +08:00 [DBG] Connection id "0HNC3QCCVT1C6" started.
2025-04-25 16:31:17.335 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 16:31:17.336 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 16:31:17.336 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 16:31:17.336 +08:00 [DBG] Connection id "0HNC3QCCVT1C6" completed keep alive response.
2025-04-25 16:31:17.336 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.7717ms
2025-04-25 16:31:18.167 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:31:18.168 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 16:31:18.168 +08:00 [DBG] Connection id "0HNC3QCCVT1C6" completed keep alive response.
2025-04-25 16:31:18.168 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3385ms
2025-04-25 16:31:22.984 +08:00 [DBG] Connection id "0HNC3QCCVT1C5" received FIN.
2025-04-25 16:31:22.984 +08:00 [DBG] Connection id "0HNC3QCCVT1C6" received FIN.
2025-04-25 16:31:22.984 +08:00 [DBG] Connection id "0HNC3QCCVT1C5" disconnecting.
2025-04-25 16:31:22.984 +08:00 [DBG] Connection id "0HNC3QCCVT1C5" stopped.
2025-04-25 16:31:22.984 +08:00 [DBG] Connection id "0HNC3QCCVT1C6" disconnecting.
2025-04-25 16:31:22.984 +08:00 [DBG] Connection id "0HNC3QCCVT1C6" stopped.
2025-04-25 16:31:22.984 +08:00 [DBG] Connection id "0HNC3QCCVT1C5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:31:22.984 +08:00 [DBG] Connection id "0HNC3QCCVT1C6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:31:34.181 +08:00 [DBG] Connection id "0HNC3QCCVT1C7" accepted.
2025-04-25 16:31:34.182 +08:00 [DBG] Connection id "0HNC3QCCVT1C7" started.
2025-04-25 16:31:34.182 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:31:34.187 +08:00 [DBG] Connection id "0HNC3QCCVT1C7" completed keep alive response.
2025-04-25 16:31:34.187 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.9138ms
2025-04-25 16:31:34.351 +08:00 [INF] Application is shutting down...
2025-04-25 16:31:34.358 +08:00 [DBG] Hosting stopping
2025-04-25 16:31:34.398 +08:00 [DBG] Connection id "0HNC3QCCVT1C0" disconnecting.
2025-04-25 16:31:34.400 +08:00 [DBG] Connection id "0HNC3QCCVT1C0" stopped.
2025-04-25 16:31:34.400 +08:00 [DBG] Connection id "0HNC3QCCVT1C7" disconnecting.
2025-04-25 16:31:34.400 +08:00 [DBG] Connection id "0HNC3QCCVT1C7" stopped.
2025-04-25 16:31:34.400 +08:00 [DBG] Connection id "0HNC3QCCVT1C0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:31:34.400 +08:00 [DBG] Connection id "0HNC3QCCVT1C7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:31:34.419 +08:00 [DBG] Hosting stopped
2025-04-25 16:32:04.097 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 16:32:05.697 +08:00 [DBG] Hosting starting
2025-04-25 16:32:05.795 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 16:32:06.080 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 16:32:06.145 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 16:32:06.187 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 16:32:06.208 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:32:06.215 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 16:32:06.223 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:32:06.261 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 16:32:06.268 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 16:32:06.281 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 16:32:06.284 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 16:32:06.465 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 16:32:06.467 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 16:32:06.469 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 16:32:06.473 +08:00 [INF] Hosting environment: Development
2025-04-25 16:32:06.475 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 16:32:06.477 +08:00 [DBG] Hosting started
2025-04-25 16:32:09.460 +08:00 [DBG] Connection id "0HNC3QELNGCPO" received FIN.
2025-04-25 16:32:09.507 +08:00 [DBG] Connection id "0HNC3QELNGCPO" accepted.
2025-04-25 16:32:09.515 +08:00 [DBG] Connection id "0HNC3QELNGCPO" started.
2025-04-25 16:32:09.519 +08:00 [DBG] Connection id "0HNC3QELNGCPP" accepted.
2025-04-25 16:32:09.681 +08:00 [DBG] Connection id "0HNC3QELNGCPO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:32:09.697 +08:00 [DBG] Connection id "0HNC3QELNGCPP" started.
2025-04-25 16:32:09.701 +08:00 [DBG] Connection id "0HNC3QELNGCPO" disconnecting.
2025-04-25 16:32:09.727 +08:00 [DBG] Connection id "0HNC3QELNGCPO" stopped.
2025-04-25 16:32:09.867 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:32:10.208 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:32:10.260 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:32:10.275 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 16:32:10.363 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:32:10.381 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:32:10.401 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:32:10.672 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 16:32:10.730 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 16:32:10.742 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:32:10.749 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:32:10.780 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:32:10.792 +08:00 [DBG] Connection id "0HNC3QELNGCPP" completed keep alive response.
2025-04-25 16:32:10.814 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 951.0051ms
2025-04-25 16:32:13.231 +08:00 [DBG] Connection id "0HNC3QELNGCPQ" accepted.
2025-04-25 16:32:13.242 +08:00 [DBG] Connection id "0HNC3QELNGCPQ" started.
2025-04-25 16:32:13.266 +08:00 [DBG] Connection id "0HNC3QELNGCPQ" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 16:32:13.297 +08:00 [DBG] Connection id "0HNC3QELNGCPQ" disconnecting.
2025-04-25 16:32:13.300 +08:00 [DBG] Connection id "0HNC3QELNGCPQ" stopped.
2025-04-25 16:32:13.309 +08:00 [DBG] Connection id "0HNC3QELNGCPQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:32:13.332 +08:00 [DBG] Connection id "0HNC3QELNGCPR" accepted.
2025-04-25 16:32:13.416 +08:00 [DBG] Connection id "0HNC3QELNGCPR" started.
2025-04-25 16:32:13.425 +08:00 [DBG] Connection id "0HNC3QELNGCPR" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 16:32:13.555 +08:00 [DBG] Connection id "0HNC3QELNGCPR" disconnecting.
2025-04-25 16:32:13.561 +08:00 [DBG] Connection id "0HNC3QELNGCPR" reset.
2025-04-25 16:32:13.705 +08:00 [DBG] Connection id "0HNC3QELNGCPR" stopped.
2025-04-25 16:32:13.747 +08:00 [DBG] Connection id "0HNC3QELNGCPR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:32:27.114 +08:00 [DBG] Connection id "0HNC3QELNGCPS" accepted.
2025-04-25 16:32:27.116 +08:00 [DBG] Connection id "0HNC3QELNGCPS" started.
2025-04-25 16:32:27.133 +08:00 [DBG] Connection id "0HNC3QELNGCPS" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 16:32:27.150 +08:00 [DBG] Connection id "0HNC3QELNGCPS" disconnecting.
2025-04-25 16:32:27.153 +08:00 [DBG] Connection id "0HNC3QELNGCPS" reset.
2025-04-25 16:32:27.154 +08:00 [DBG] Connection id "0HNC3QELNGCPT" accepted.
2025-04-25 16:32:27.162 +08:00 [DBG] Connection id "0HNC3QELNGCPT" started.
2025-04-25 16:32:27.156 +08:00 [DBG] Connection id "0HNC3QELNGCPS" stopped.
2025-04-25 16:32:27.166 +08:00 [DBG] Connection id "0HNC3QELNGCPT" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 16:32:27.167 +08:00 [DBG] Connection id "0HNC3QELNGCPS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:32:27.175 +08:00 [DBG] Connection id "0HNC3QELNGCPT" disconnecting.
2025-04-25 16:32:27.178 +08:00 [DBG] Connection id "0HNC3QELNGCPT" stopped.
2025-04-25 16:32:27.176 +08:00 [DBG] Connection id "0HNC3QELNGCPT" reset.
2025-04-25 16:32:27.180 +08:00 [DBG] Connection id "0HNC3QELNGCPT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:32:37.843 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:32:38.120 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:32:57.223 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:32:57.227 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:32:57.229 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:32:57.232 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:32:57.234 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:32:57.236 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:32:57.242 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'StartArray', could not be converted to 'JsonTokenType.String or JsonTokenType.Number'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.sub', Position: '29', CurrentDepth: '1', BytesConsumed: '30'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadStringOrNumberAsString(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 16:32:57.246 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 16:32:57.248 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:32:57.250 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:32:57.255 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:32:57.258 +08:00 [DBG] Connection id "0HNC3QELNGCPP" completed keep alive response.
2025-04-25 16:32:57.260 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 36.5831ms
2025-04-25 16:33:44.127 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:33:44.131 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:33:44.132 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:33:44.137 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:33:44.139 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:33:44.144 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'StartArray', could not be converted to 'JsonTokenType.String or JsonTokenType.Number'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.sub', Position: '29', CurrentDepth: '1', BytesConsumed: '30'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadStringOrNumberAsString(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 16:33:44.155 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 16:33:44.159 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:33:44.160 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:33:44.161 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:33:44.162 +08:00 [DBG] Connection id "0HNC3QELNGCPP" completed keep alive response.
2025-04-25 16:33:44.163 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 35.93ms
2025-04-25 16:33:57.534 +08:00 [INF] Application is shutting down...
2025-04-25 16:33:57.536 +08:00 [DBG] Hosting stopping
2025-04-25 16:33:57.545 +08:00 [DBG] Connection id "0HNC3QELNGCPP" disconnecting.
2025-04-25 16:33:57.547 +08:00 [DBG] Connection id "0HNC3QELNGCPP" stopped.
2025-04-25 16:33:57.550 +08:00 [DBG] Connection id "0HNC3QELNGCPP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:33:57.562 +08:00 [DBG] Hosting stopped
2025-04-25 16:34:12.070 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 16:34:12.255 +08:00 [DBG] Hosting starting
2025-04-25 16:34:12.272 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 16:34:12.297 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 16:34:12.316 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 16:34:12.331 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 16:34:12.339 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:34:12.342 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 16:34:12.346 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:34:12.357 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 16:34:12.360 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 16:34:12.364 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 16:34:12.369 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 16:34:12.452 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 16:34:12.457 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 16:34:12.458 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 16:34:12.460 +08:00 [INF] Hosting environment: Development
2025-04-25 16:34:12.463 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 16:34:12.470 +08:00 [DBG] Hosting started
2025-04-25 16:35:05.803 +08:00 [DBG] Connection id "0HNC3QGA981ER" received FIN.
2025-04-25 16:35:05.812 +08:00 [DBG] Connection id "0HNC3QGA981ER" accepted.
2025-04-25 16:35:05.816 +08:00 [DBG] Connection id "0HNC3QGA981ER" started.
2025-04-25 16:35:05.831 +08:00 [DBG] Connection id "0HNC3QGA981ES" accepted.
2025-04-25 16:35:05.837 +08:00 [DBG] Connection id "0HNC3QGA981ES" started.
2025-04-25 16:35:05.852 +08:00 [DBG] Connection id "0HNC3QGA981ER" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:35:05.858 +08:00 [DBG] Connection id "0HNC3QGA981ER" disconnecting.
2025-04-25 16:35:05.889 +08:00 [DBG] Connection id "0HNC3QGA981ER" stopped.
2025-04-25 16:35:05.922 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:35:05.925 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:35:05.964 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:35:05.967 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 16:35:06.022 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:35:06.030 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:35:06.033 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:35:06.104 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'StartArray', could not be converted to 'JsonTokenType.String or JsonTokenType.Number'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.sub', Position: '29', CurrentDepth: '1', BytesConsumed: '30'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadStringOrNumberAsString(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 16:35:06.124 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 16:35:06.132 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:35:06.140 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:35:06.150 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:35:06.157 +08:00 [DBG] Connection id "0HNC3QGA981ES" completed keep alive response.
2025-04-25 16:35:06.167 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 241.695ms
2025-04-25 16:35:13.446 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:35:13.456 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:35:13.466 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:35:13.469 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:35:13.471 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:35:13.477 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'StartArray', could not be converted to 'JsonTokenType.String or JsonTokenType.Number'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.sub', Position: '29', CurrentDepth: '1', BytesConsumed: '30'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadStringOrNumberAsString(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 16:35:13.487 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 16:35:13.491 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:35:13.496 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:35:13.501 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:35:13.507 +08:00 [DBG] Connection id "0HNC3QGA981ES" completed keep alive response.
2025-04-25 16:35:13.520 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 73.8837ms
2025-04-25 16:35:19.431 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 16:35:19.436 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:35:19.437 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 16:35:19.439 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 16:35:19.443 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:35:19.451 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'StartArray', could not be converted to 'JsonTokenType.String or JsonTokenType.Number'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.sub', Position: '29', CurrentDepth: '1', BytesConsumed: '30'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadStringOrNumberAsString(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 16:35:19.457 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 16:35:19.464 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:35:19.465 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:35:19.466 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:35:19.467 +08:00 [DBG] Connection id "0HNC3QGA981ES" completed keep alive response.
2025-04-25 16:35:19.468 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 401 0 null 36.9964ms
2025-04-25 16:35:43.585 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:35:43.594 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:35:43.597 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:35:43.601 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:35:43.604 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:35:43.617 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'StartArray', could not be converted to 'JsonTokenType.String or JsonTokenType.Number'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.sub', Position: '29', CurrentDepth: '1', BytesConsumed: '30'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadStringOrNumberAsString(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 16:35:43.627 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 16:35:43.635 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:35:43.768 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:35:43.788 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:35:43.805 +08:00 [DBG] Connection id "0HNC3QGA981ES" completed keep alive response.
2025-04-25 16:35:43.852 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 266.7246ms
2025-04-25 16:36:06.078 +08:00 [INF] Application is shutting down...
2025-04-25 16:36:06.080 +08:00 [DBG] Hosting stopping
2025-04-25 16:36:06.093 +08:00 [DBG] Connection id "0HNC3QGA981ES" disconnecting.
2025-04-25 16:36:06.096 +08:00 [DBG] Connection id "0HNC3QGA981ES" stopped.
2025-04-25 16:36:06.098 +08:00 [DBG] Connection id "0HNC3QGA981ES" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:36:06.110 +08:00 [DBG] Hosting stopped
