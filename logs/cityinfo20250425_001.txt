2025-04-25 13:50:19.175 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 13:50:20.250 +08:00 [DBG] Hosting starting
2025-04-25 13:50:20.287 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 13:50:20.317 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 13:50:20.475 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 13:50:20.520 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 13:50:20.536 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:50:21.148 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 13:50:21.356 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:50:21.370 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 13:50:21.388 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 13:50:21.426 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 13:50:21.452 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 13:50:21.686 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5212: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-25 13:50:54.777 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 13:50:54.950 +08:00 [DBG] Hosting starting
2025-04-25 13:50:54.980 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 13:50:55.003 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 13:50:55.018 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 13:50:55.035 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 13:50:55.039 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:50:55.048 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 13:50:55.050 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:50:55.060 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 13:50:55.062 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 13:50:55.064 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 13:50:55.065 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 13:50:55.070 +08:00 [DBG] Middleware loaded
2025-04-25 13:50:55.073 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-25 13:50:55.082 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-25 13:50:55.148 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-25 13:50:55.171 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 13:50:55.172 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 13:50:55.172 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-25 13:50:55.173 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 13:50:55.173 +08:00 [INF] Hosting environment: Development
2025-04-25 13:50:55.173 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 13:50:55.173 +08:00 [DBG] Hosting started
2025-04-25 13:50:55.619 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" accepted.
2025-04-25 13:50:55.621 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" started.
2025-04-25 13:50:55.639 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" accepted.
2025-04-25 13:50:55.640 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" started.
2025-04-25 13:50:56.270 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:50:56.285 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:50:56.538 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:50:56.561 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:50:56.562 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" completed keep alive response.
2025-04-25 13:50:56.566 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 298.2663ms
2025-04-25 13:50:56.606 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:50:56.616 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:50:56.616 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" completed keep alive response.
2025-04-25 13:50:56.629 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 10.2494ms
2025-04-25 13:50:57.700 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" received FIN.
2025-04-25 13:50:57.705 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" received FIN.
2025-04-25 13:50:57.707 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" disconnecting.
2025-04-25 13:50:57.711 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:50:57.713 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" disconnecting.
2025-04-25 13:50:57.714 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" stopped.
2025-04-25 13:50:57.715 +08:00 [DBG] Connection id "0HNC3NKIMIF3K" stopped.
2025-04-25 13:50:57.719 +08:00 [DBG] Connection id "0HNC3NKIMIF3J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:50:58.236 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" accepted.
2025-04-25 13:50:58.237 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" started.
2025-04-25 13:50:58.239 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:50:58.805 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" completed keep alive response.
2025-04-25 13:50:58.806 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 566.609ms
2025-04-25 13:51:00.454 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" accepted.
2025-04-25 13:51:00.455 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" started.
2025-04-25 13:51:00.456 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" accepted.
2025-04-25 13:51:00.457 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" received FIN.
2025-04-25 13:51:00.457 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" started.
2025-04-25 13:51:00.458 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:51:00.464 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:51:00.465 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 13:51:00.467 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" disconnecting.
2025-04-25 13:51:00.471 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:00.472 +08:00 [DBG] Connection id "0HNC3NKIMIF3M" stopped.
2025-04-25 13:51:00.518 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:51:00.526 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:51:00.527 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:51:00.706 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:51:00.724 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:51:00.730 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:51:00.734 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:51:00.751 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:51:00.751 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" completed keep alive response.
2025-04-25 13:51:00.752 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 293.2448ms
2025-04-25 13:51:07.686 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" received FIN.
2025-04-25 13:51:07.686 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" disconnecting.
2025-04-25 13:51:07.688 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:07.689 +08:00 [DBG] Connection id "0HNC3NKIMIF3L" stopped.
2025-04-25 13:51:16.097 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:16.354 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:18.261 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:18.514 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:22.177 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" accepted.
2025-04-25 13:51:22.178 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" started.
2025-04-25 13:51:22.180 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" accepted.
2025-04-25 13:51:22.181 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" started.
2025-04-25 13:51:22.182 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:22.182 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:51:22.183 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:22.184 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:22.184 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" completed keep alive response.
2025-04-25 13:51:22.185 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 2.6954ms
2025-04-25 13:51:22.644 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:22.644 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:22.645 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" completed keep alive response.
2025-04-25 13:51:22.645 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.6869ms
2025-04-25 13:51:24.575 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:24.845 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:25.230 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:25.498 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:51:26.868 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:26.868 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:51:26.886 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" completed keep alive response.
2025-04-25 13:51:26.887 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.9667ms
2025-04-25 13:51:27.692 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" received FIN.
2025-04-25 13:51:27.693 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" received FIN.
2025-04-25 13:51:27.693 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" disconnecting.
2025-04-25 13:51:27.693 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" stopped.
2025-04-25 13:51:27.693 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" disconnecting.
2025-04-25 13:51:27.694 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" stopped.
2025-04-25 13:51:27.694 +08:00 [DBG] Connection id "0HNC3NKIMIF3P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:27.694 +08:00 [DBG] Connection id "0HNC3NKIMIF3O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:30.560 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" accepted.
2025-04-25 13:51:30.561 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" started.
2025-04-25 13:51:30.566 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" accepted.
2025-04-25 13:51:30.566 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" started.
2025-04-25 13:51:30.569 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:30.569 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:30.570 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:30.570 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:30.570 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.7438ms
2025-04-25 13:51:30.769 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:30.769 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:30.769 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:30.769 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4599ms
2025-04-25 13:51:31.927 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:31.963 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:31.963 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.5436ms
2025-04-25 13:51:36.459 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:36.460 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:36.464 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:36.465 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:36.465 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 5.8913ms
2025-04-25 13:51:36.543 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:36.543 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:36.544 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:36.544 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3582ms
2025-04-25 13:51:36.671 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:36.695 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" completed keep alive response.
2025-04-25 13:51:36.695 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.6574ms
2025-04-25 13:51:37.895 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" received FIN.
2025-04-25 13:51:37.895 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" received FIN.
2025-04-25 13:51:37.897 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" disconnecting.
2025-04-25 13:51:37.897 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" stopped.
2025-04-25 13:51:37.897 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" disconnecting.
2025-04-25 13:51:37.897 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" stopped.
2025-04-25 13:51:37.897 +08:00 [DBG] Connection id "0HNC3NKIMIF3R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:37.898 +08:00 [DBG] Connection id "0HNC3NKIMIF3Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:47.376 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" accepted.
2025-04-25 13:51:47.376 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" started.
2025-04-25 13:51:47.385 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" accepted.
2025-04-25 13:51:47.385 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" started.
2025-04-25 13:51:47.495 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:47.496 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:47.496 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:47.502 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" completed keep alive response.
2025-04-25 13:51:47.502 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 6.809ms
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" received FIN.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" received FIN.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" disconnecting.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" stopped.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" disconnecting.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" stopped.
2025-04-25 13:51:47.735 +08:00 [DBG] Connection id "0HNC3NKIMIF3S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:47.736 +08:00 [DBG] Connection id "0HNC3NKIMIF3T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:47.815 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" accepted.
2025-04-25 13:51:47.815 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" started.
2025-04-25 13:51:47.816 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:47.816 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:47.816 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:47.816 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3101ms
2025-04-25 13:51:49.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:49.099 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:49.100 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.937ms
2025-04-25 13:51:54.609 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" accepted.
2025-04-25 13:51:54.610 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" started.
2025-04-25 13:51:54.636 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:54.637 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:54.638 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:54.638 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:54.640 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 3.3795ms
2025-04-25 13:51:54.847 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:54.848 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:54.848 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:54.848 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.5343ms
2025-04-25 13:51:55.735 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:55.748 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:55.749 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.6144ms
2025-04-25 13:51:56.656 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:51:56.658 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:51:56.658 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:51:56.658 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:56.659 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.9411ms
2025-04-25 13:51:56.744 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:51:56.744 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:51:56.745 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:56.745 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3373ms
2025-04-25 13:51:56.865 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:51:56.877 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" completed keep alive response.
2025-04-25 13:51:56.877 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.8924ms
2025-04-25 13:51:58.054 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" received FIN.
2025-04-25 13:51:58.055 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" received FIN.
2025-04-25 13:51:58.063 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" disconnecting.
2025-04-25 13:51:58.063 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" stopped.
2025-04-25 13:51:58.064 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" disconnecting.
2025-04-25 13:51:58.064 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" stopped.
2025-04-25 13:51:58.065 +08:00 [DBG] Connection id "0HNC3NKIMIF3V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:51:58.067 +08:00 [DBG] Connection id "0HNC3NKIMIF3U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:52:24.400 +08:00 [DBG] Connection id "0HNC3NKIMIF40" accepted.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF40" started.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF41" accepted.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF40" received FIN.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF41" started.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF40" disconnecting.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF40" stopped.
2025-04-25 13:52:24.401 +08:00 [DBG] Connection id "0HNC3NKIMIF40" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:52:24.402 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:52:24.403 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:52:24.404 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:52:24.405 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:52:24.406 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:52:24.413 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:52:24.413 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:52:24.416 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:52:24.416 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:52:24.417 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:52:24.417 +08:00 [DBG] Connection id "0HNC3NKIMIF41" completed keep alive response.
2025-04-25 13:52:24.417 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 14.361ms
2025-04-25 13:52:44.066 +08:00 [DBG] Connection id "0HNC3NKIMIF42" accepted.
2025-04-25 13:52:44.066 +08:00 [DBG] Connection id "0HNC3NKIMIF42" started.
2025-04-25 13:52:44.080 +08:00 [DBG] Connection id "0HNC3NKIMIF43" accepted.
2025-04-25 13:52:44.081 +08:00 [DBG] Connection id "0HNC3NKIMIF43" started.
2025-04-25 13:52:44.081 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:52:44.081 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:52:44.082 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:52:44.082 +08:00 [DBG] Connection id "0HNC3NKIMIF42" completed keep alive response.
2025-04-25 13:52:44.082 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.6853ms
2025-04-25 13:52:44.159 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:52:44.159 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:52:44.159 +08:00 [DBG] Connection id "0HNC3NKIMIF42" completed keep alive response.
2025-04-25 13:52:44.159 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3378ms
2025-04-25 13:52:44.528 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:52:44.533 +08:00 [DBG] Connection id "0HNC3NKIMIF42" completed keep alive response.
2025-04-25 13:52:44.533 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.0718ms
2025-04-25 13:52:47.067 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:52:47.068 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:52:47.068 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:52:47.068 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:52:47.068 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:52:47.071 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:52:47.071 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:52:47.077 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:52:47.077 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:52:47.078 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:52:47.078 +08:00 [DBG] Connection id "0HNC3NKIMIF41" completed keep alive response.
2025-04-25 13:52:47.078 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 10.8864ms
2025-04-25 13:52:47.847 +08:00 [DBG] Connection id "0HNC3NKIMIF43" received FIN.
2025-04-25 13:52:47.847 +08:00 [DBG] Connection id "0HNC3NKIMIF42" received FIN.
2025-04-25 13:52:47.847 +08:00 [DBG] Connection id "0HNC3NKIMIF42" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:52:47.847 +08:00 [DBG] Connection id "0HNC3NKIMIF42" disconnecting.
2025-04-25 13:52:47.848 +08:00 [DBG] Connection id "0HNC3NKIMIF43" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:52:47.849 +08:00 [DBG] Connection id "0HNC3NKIMIF43" disconnecting.
2025-04-25 13:52:47.854 +08:00 [DBG] Connection id "0HNC3NKIMIF43" stopped.
2025-04-25 13:52:47.860 +08:00 [DBG] Connection id "0HNC3NKIMIF42" stopped.
2025-04-25 13:53:12.229 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" disconnecting.
2025-04-25 13:53:12.229 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" stopped.
2025-04-25 13:53:12.229 +08:00 [DBG] Connection id "0HNC3NKIMIF3N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:30.270 +08:00 [DBG] Connection id "0HNC3NKIMIF44" accepted.
2025-04-25 13:53:30.270 +08:00 [DBG] Connection id "0HNC3NKIMIF44" started.
2025-04-25 13:53:30.271 +08:00 [DBG] Connection id "0HNC3NKIMIF45" accepted.
2025-04-25 13:53:30.271 +08:00 [DBG] Connection id "0HNC3NKIMIF45" started.
2025-04-25 13:53:30.276 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:53:30.276 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:53:30.279 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:53:30.280 +08:00 [DBG] Connection id "0HNC3NKIMIF44" completed keep alive response.
2025-04-25 13:53:30.281 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 5.371ms
2025-04-25 13:53:30.698 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:53:30.699 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:53:30.699 +08:00 [DBG] Connection id "0HNC3NKIMIF44" completed keep alive response.
2025-04-25 13:53:30.699 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.338ms
2025-04-25 13:53:34.008 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:53:34.023 +08:00 [DBG] Connection id "0HNC3NKIMIF44" completed keep alive response.
2025-04-25 13:53:34.024 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.5298ms
2025-04-25 13:53:37.573 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:53:37.843 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF45" received FIN.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF44" received FIN.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF45" disconnecting.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF45" stopped.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF44" disconnecting.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF44" stopped.
2025-04-25 13:53:37.935 +08:00 [DBG] Connection id "0HNC3NKIMIF45" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:37.936 +08:00 [DBG] Connection id "0HNC3NKIMIF44" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:44.589 +08:00 [DBG] Connection id "0HNC3NKIMIF46" accepted.
2025-04-25 13:53:44.589 +08:00 [DBG] Connection id "0HNC3NKIMIF46" started.
2025-04-25 13:53:44.589 +08:00 [DBG] Connection id "0HNC3NKIMIF47" accepted.
2025-04-25 13:53:44.589 +08:00 [DBG] Connection id "0HNC3NKIMIF47" started.
2025-04-25 13:53:44.628 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:53:44.628 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:53:44.629 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:53:44.629 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:53:44.629 +08:00 [DBG] Connection id "0HNC3NKIMIF46" completed keep alive response.
2025-04-25 13:53:44.629 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 1.2904ms
2025-04-25 13:53:44.759 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:53:44.759 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:53:44.759 +08:00 [DBG] Connection id "0HNC3NKIMIF46" completed keep alive response.
2025-04-25 13:53:44.759 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.3524ms
2025-04-25 13:53:47.045 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:53:47.055 +08:00 [DBG] Connection id "0HNC3NKIMIF46" completed keep alive response.
2025-04-25 13:53:47.055 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.1243ms
2025-04-25 13:53:47.942 +08:00 [DBG] Connection id "0HNC3NKIMIF47" received FIN.
2025-04-25 13:53:47.942 +08:00 [DBG] Connection id "0HNC3NKIMIF46" received FIN.
2025-04-25 13:53:47.942 +08:00 [DBG] Connection id "0HNC3NKIMIF47" disconnecting.
2025-04-25 13:53:47.942 +08:00 [DBG] Connection id "0HNC3NKIMIF47" stopped.
2025-04-25 13:53:47.943 +08:00 [DBG] Connection id "0HNC3NKIMIF46" disconnecting.
2025-04-25 13:53:47.943 +08:00 [DBG] Connection id "0HNC3NKIMIF46" stopped.
2025-04-25 13:53:47.943 +08:00 [DBG] Connection id "0HNC3NKIMIF47" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:47.943 +08:00 [DBG] Connection id "0HNC3NKIMIF46" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:51.293 +08:00 [DBG] Connection id "0HNC3NKIMIF48" accepted.
2025-04-25 13:53:51.293 +08:00 [DBG] Connection id "0HNC3NKIMIF48" started.
2025-04-25 13:53:51.322 +08:00 [DBG] Connection id "0HNC3NKIMIF49" accepted.
2025-04-25 13:53:51.325 +08:00 [DBG] Connection id "0HNC3NKIMIF49" started.
2025-04-25 13:53:51.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:53:51.341 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:53:51.341 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:53:51.341 +08:00 [DBG] Connection id "0HNC3NKIMIF48" completed keep alive response.
2025-04-25 13:53:51.341 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.6947ms
2025-04-25 13:53:51.425 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:53:51.425 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:53:51.425 +08:00 [DBG] Connection id "0HNC3NKIMIF48" completed keep alive response.
2025-04-25 13:53:51.425 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4115ms
2025-04-25 13:53:51.612 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:53:51.622 +08:00 [DBG] Connection id "0HNC3NKIMIF48" completed keep alive response.
2025-04-25 13:53:51.622 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.8066ms
2025-04-25 13:53:57.963 +08:00 [DBG] Connection id "0HNC3NKIMIF49" received FIN.
2025-04-25 13:53:57.964 +08:00 [DBG] Connection id "0HNC3NKIMIF49" disconnecting.
2025-04-25 13:53:57.964 +08:00 [DBG] Connection id "0HNC3NKIMIF49" stopped.
2025-04-25 13:53:57.968 +08:00 [DBG] Connection id "0HNC3NKIMIF49" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:57.969 +08:00 [DBG] Connection id "0HNC3NKIMIF48" received FIN.
2025-04-25 13:53:57.969 +08:00 [DBG] Connection id "0HNC3NKIMIF48" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:53:57.970 +08:00 [DBG] Connection id "0HNC3NKIMIF48" disconnecting.
2025-04-25 13:53:57.970 +08:00 [DBG] Connection id "0HNC3NKIMIF48" stopped.
2025-04-25 13:54:06.810 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" accepted.
2025-04-25 13:54:06.810 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" started.
2025-04-25 13:54:06.810 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:54:06.810 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" accepted.
2025-04-25 13:54:06.810 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" started.
2025-04-25 13:54:06.811 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:54:06.811 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:54:06.811 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" completed keep alive response.
2025-04-25 13:54:06.811 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 0.8438ms
2025-04-25 13:54:06.878 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:54:06.878 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:54:06.878 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" completed keep alive response.
2025-04-25 13:54:06.878 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.2958ms
2025-04-25 13:54:07.076 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:54:07.085 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" completed keep alive response.
2025-04-25 13:54:07.085 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1563ms
2025-04-25 13:54:07.972 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" received FIN.
2025-04-25 13:54:07.972 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" received FIN.
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" disconnecting.
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" stopped.
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" disconnecting.
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" stopped.
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:54:07.973 +08:00 [DBG] Connection id "0HNC3NKIMIF4A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:54:42.136 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" accepted.
2025-04-25 13:54:42.137 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" started.
2025-04-25 13:54:42.137 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:54:42.138 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:54:42.139 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:54:42.139 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" completed keep alive response.
2025-04-25 13:54:42.139 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 2.0864ms
2025-04-25 13:54:48.078 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" received FIN.
2025-04-25 13:54:48.078 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" disconnecting.
2025-04-25 13:54:48.078 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" stopped.
2025-04-25 13:54:48.078 +08:00 [DBG] Connection id "0HNC3NKIMIF4C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:54:56.757 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" accepted.
2025-04-25 13:54:56.757 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" started.
2025-04-25 13:54:56.757 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:54:56.757 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:54:56.757 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" completed keep alive response.
2025-04-25 13:54:56.757 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.262ms
2025-04-25 13:54:58.024 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" received FIN.
2025-04-25 13:54:58.024 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" disconnecting.
2025-04-25 13:54:58.024 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" stopped.
2025-04-25 13:54:58.024 +08:00 [DBG] Connection id "0HNC3NKIMIF4D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:54:58.943 +08:00 [DBG] Connection id "0HNC3NKIMIF41" disconnecting.
2025-04-25 13:54:58.943 +08:00 [DBG] Connection id "0HNC3NKIMIF41" stopped.
2025-04-25 13:54:58.943 +08:00 [DBG] Connection id "0HNC3NKIMIF41" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:11.800 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 13:55:11.968 +08:00 [DBG] Hosting starting
2025-04-25 13:55:11.999 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 13:55:12.018 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 13:55:12.033 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 13:55:12.048 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 13:55:12.055 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:55:12.059 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 13:55:12.061 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 13:55:12.074 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 13:55:12.076 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 13:55:12.079 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 13:55:12.080 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 13:55:12.088 +08:00 [DBG] Middleware loaded
2025-04-25 13:55:12.091 +08:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-04-25 13:55:12.093 +08:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-25 13:55:12.158 +08:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-25 13:55:12.176 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 13:55:12.179 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 13:55:12.180 +08:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-25 13:55:12.182 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 13:55:12.182 +08:00 [INF] Hosting environment: Development
2025-04-25 13:55:12.182 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 13:55:12.182 +08:00 [DBG] Hosting started
2025-04-25 13:55:12.425 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" accepted.
2025-04-25 13:55:12.428 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" accepted.
2025-04-25 13:55:12.430 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" started.
2025-04-25 13:55:12.472 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" started.
2025-04-25 13:55:12.589 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:55:12.610 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:55:12.832 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:55:12.852 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:55:12.852 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" completed keep alive response.
2025-04-25 13:55:12.855 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 268.6255ms
2025-04-25 13:55:12.909 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:55:12.917 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:55:12.918 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" completed keep alive response.
2025-04-25 13:55:12.918 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 14.0058ms
2025-04-25 13:55:14.683 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:55:15.119 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" completed keep alive response.
2025-04-25 13:55:15.121 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 437.4238ms
2025-04-25 13:55:18.068 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" received FIN.
2025-04-25 13:55:18.068 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" received FIN.
2025-04-25 13:55:18.071 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:18.071 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:18.073 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" disconnecting.
2025-04-25 13:55:18.073 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" disconnecting.
2025-04-25 13:55:18.076 +08:00 [DBG] Connection id "0HNC3NMV7L9VT" stopped.
2025-04-25 13:55:18.076 +08:00 [DBG] Connection id "0HNC3NMV7L9VU" stopped.
2025-04-25 13:55:19.782 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" received FIN.
2025-04-25 13:55:19.782 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" accepted.
2025-04-25 13:55:19.783 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" started.
2025-04-25 13:55:19.783 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:19.783 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" disconnecting.
2025-04-25 13:55:19.784 +08:00 [DBG] Connection id "0HNC3NMV7L9VV" stopped.
2025-04-25 13:55:19.785 +08:00 [DBG] Connection id "0HNC3NMV7LA00" accepted.
2025-04-25 13:55:19.785 +08:00 [DBG] Connection id "0HNC3NMV7LA00" started.
2025-04-25 13:55:19.786 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:55:19.789 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:55:19.790 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 13:55:19.821 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:55:19.825 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:55:19.825 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:55:19.959 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:55:19.971 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:55:19.974 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:55:19.976 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:55:19.987 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:55:19.988 +08:00 [DBG] Connection id "0HNC3NMV7LA00" completed keep alive response.
2025-04-25 13:55:19.988 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 201.8824ms
2025-04-25 13:55:27.314 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:55:27.592 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 13:55:27.721 +08:00 [DBG] Connection id "0HNC3NMV7LA01" accepted.
2025-04-25 13:55:27.723 +08:00 [DBG] Connection id "0HNC3NMV7LA02" accepted.
2025-04-25 13:55:27.723 +08:00 [DBG] Connection id "0HNC3NMV7LA01" started.
2025-04-25 13:55:27.724 +08:00 [DBG] Connection id "0HNC3NMV7LA02" started.
2025-04-25 13:55:27.840 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:55:27.840 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 13:55:27.842 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:55:27.848 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:55:27.848 +08:00 [DBG] Connection id "0HNC3NMV7LA01" completed keep alive response.
2025-04-25 13:55:27.849 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 8.7906ms
2025-04-25 13:55:28.186 +08:00 [DBG] Connection id "0HNC3NMV7LA02" received FIN.
2025-04-25 13:55:28.186 +08:00 [DBG] Connection id "0HNC3NMV7LA01" received FIN.
2025-04-25 13:55:28.186 +08:00 [DBG] Connection id "0HNC3NMV7LA02" disconnecting.
2025-04-25 13:55:28.186 +08:00 [DBG] Connection id "0HNC3NMV7LA02" stopped.
2025-04-25 13:55:28.187 +08:00 [DBG] Connection id "0HNC3NMV7LA01" disconnecting.
2025-04-25 13:55:28.187 +08:00 [DBG] Connection id "0HNC3NMV7LA01" stopped.
2025-04-25 13:55:28.187 +08:00 [DBG] Connection id "0HNC3NMV7LA02" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:28.187 +08:00 [DBG] Connection id "0HNC3NMV7LA01" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:28.351 +08:00 [DBG] Connection id "0HNC3NMV7LA03" accepted.
2025-04-25 13:55:28.352 +08:00 [DBG] Connection id "0HNC3NMV7LA03" started.
2025-04-25 13:55:28.392 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:55:28.392 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:55:28.403 +08:00 [DBG] Connection id "0HNC3NMV7LA03" completed keep alive response.
2025-04-25 13:55:28.403 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 11.4817ms
2025-04-25 13:55:28.968 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:55:29.001 +08:00 [DBG] Connection id "0HNC3NMV7LA03" completed keep alive response.
2025-04-25 13:55:29.001 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.8509ms
2025-04-25 13:55:38.102 +08:00 [DBG] Connection id "0HNC3NMV7LA03" received FIN.
2025-04-25 13:55:38.105 +08:00 [DBG] Connection id "0HNC3NMV7LA03" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:38.105 +08:00 [DBG] Connection id "0HNC3NMV7LA03" disconnecting.
2025-04-25 13:55:38.106 +08:00 [DBG] Connection id "0HNC3NMV7LA03" stopped.
2025-04-25 13:55:44.500 +08:00 [DBG] Connection id "0HNC3NMV7LA04" accepted.
2025-04-25 13:55:44.500 +08:00 [DBG] Connection id "0HNC3NMV7LA04" started.
2025-04-25 13:55:44.502 +08:00 [DBG] Connection id "0HNC3NMV7LA05" accepted.
2025-04-25 13:55:44.502 +08:00 [DBG] Connection id "0HNC3NMV7LA05" started.
2025-04-25 13:55:44.503 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:55:44.505 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:55:44.505 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:55:44.505 +08:00 [DBG] Connection id "0HNC3NMV7LA04" completed keep alive response.
2025-04-25 13:55:44.505 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 2.0476ms
2025-04-25 13:55:44.623 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:55:44.628 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:55:44.629 +08:00 [DBG] Connection id "0HNC3NMV7LA04" completed keep alive response.
2025-04-25 13:55:44.630 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 6.2198ms
2025-04-25 13:55:44.789 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:55:44.819 +08:00 [DBG] Connection id "0HNC3NMV7LA04" completed keep alive response.
2025-04-25 13:55:44.820 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.0049ms
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA05" received FIN.
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA04" received FIN.
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA05" disconnecting.
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA05" stopped.
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA04" disconnecting.
2025-04-25 13:55:48.140 +08:00 [DBG] Connection id "0HNC3NMV7LA04" stopped.
2025-04-25 13:55:48.141 +08:00 [DBG] Connection id "0HNC3NMV7LA05" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:48.141 +08:00 [DBG] Connection id "0HNC3NMV7LA04" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:54.101 +08:00 [DBG] Connection id "0HNC3NMV7LA06" accepted.
2025-04-25 13:55:54.102 +08:00 [DBG] Connection id "0HNC3NMV7LA07" accepted.
2025-04-25 13:55:54.103 +08:00 [DBG] Connection id "0HNC3NMV7LA06" started.
2025-04-25 13:55:54.103 +08:00 [DBG] Connection id "0HNC3NMV7LA07" started.
2025-04-25 13:55:54.108 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:55:54.119 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:55:54.119 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:55:54.119 +08:00 [DBG] Connection id "0HNC3NMV7LA06" completed keep alive response.
2025-04-25 13:55:54.120 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 11.6142ms
2025-04-25 13:55:54.303 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:55:54.303 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:55:54.304 +08:00 [DBG] Connection id "0HNC3NMV7LA06" completed keep alive response.
2025-04-25 13:55:54.304 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4339ms
2025-04-25 13:55:54.438 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:55:54.480 +08:00 [DBG] Connection id "0HNC3NMV7LA06" completed keep alive response.
2025-04-25 13:55:54.481 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.8026ms
2025-04-25 13:55:58.155 +08:00 [DBG] Connection id "0HNC3NMV7LA07" received FIN.
2025-04-25 13:55:58.155 +08:00 [DBG] Connection id "0HNC3NMV7LA06" received FIN.
2025-04-25 13:55:58.155 +08:00 [DBG] Connection id "0HNC3NMV7LA07" disconnecting.
2025-04-25 13:55:58.156 +08:00 [DBG] Connection id "0HNC3NMV7LA07" stopped.
2025-04-25 13:55:58.156 +08:00 [DBG] Connection id "0HNC3NMV7LA06" disconnecting.
2025-04-25 13:55:58.156 +08:00 [DBG] Connection id "0HNC3NMV7LA06" stopped.
2025-04-25 13:55:58.156 +08:00 [DBG] Connection id "0HNC3NMV7LA07" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:55:58.156 +08:00 [DBG] Connection id "0HNC3NMV7LA06" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:56:02.703 +08:00 [DBG] Connection id "0HNC3NMV7LA08" accepted.
2025-04-25 13:56:02.704 +08:00 [DBG] Connection id "0HNC3NMV7LA08" started.
2025-04-25 13:56:02.766 +08:00 [DBG] Connection id "0HNC3NMV7LA09" accepted.
2025-04-25 13:56:02.766 +08:00 [DBG] Connection id "0HNC3NMV7LA09" started.
2025-04-25 13:56:02.772 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:56:02.773 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:56:02.774 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:56:02.774 +08:00 [DBG] Connection id "0HNC3NMV7LA08" completed keep alive response.
2025-04-25 13:56:02.785 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 12.7072ms
2025-04-25 13:56:02.900 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:56:02.902 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:56:02.902 +08:00 [DBG] Connection id "0HNC3NMV7LA08" completed keep alive response.
2025-04-25 13:56:02.902 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.4609ms
2025-04-25 13:56:03.156 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:56:03.181 +08:00 [DBG] Connection id "0HNC3NMV7LA08" completed keep alive response.
2025-04-25 13:56:03.181 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.622ms
2025-04-25 13:56:04.556 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:56:04.556 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:56:04.561 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:56:04.561 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:56:04.561 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:56:04.568 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:56:04.569 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:56:04.573 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:56:04.573 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:56:04.576 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:56:04.576 +08:00 [DBG] Connection id "0HNC3NMV7LA00" completed keep alive response.
2025-04-25 13:56:04.576 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 20.1263ms
2025-04-25 13:56:07.533 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 13:56:07.533 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:56:07.533 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:56:07.533 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:56:07.533 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:56:07.535 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:56:07.535 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:56:07.619 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:56:07.619 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:56:07.620 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:56:07.620 +08:00 [DBG] Connection id "0HNC3NMV7LA00" completed keep alive response.
2025-04-25 13:56:07.620 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 86.8697ms
2025-04-25 13:56:08.213 +08:00 [DBG] Connection id "0HNC3NMV7LA09" received FIN.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA08" received FIN.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA09" disconnecting.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA09" stopped.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA08" disconnecting.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA08" stopped.
2025-04-25 13:56:08.214 +08:00 [DBG] Connection id "0HNC3NMV7LA09" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:56:08.215 +08:00 [DBG] Connection id "0HNC3NMV7LA08" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:56:10.578 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" accepted.
2025-04-25 13:56:10.579 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" started.
2025-04-25 13:56:10.584 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" accepted.
2025-04-25 13:56:10.586 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" started.
2025-04-25 13:56:10.590 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:56:10.633 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:56:10.633 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:56:10.633 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" completed keep alive response.
2025-04-25 13:56:10.633 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 43.201ms
2025-04-25 13:56:10.747 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:56:10.748 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:56:10.748 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" completed keep alive response.
2025-04-25 13:56:10.748 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 1.4976ms
2025-04-25 13:56:10.873 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:56:10.902 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" completed keep alive response.
2025-04-25 13:56:10.902 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.075ms
2025-04-25 13:56:18.176 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" received FIN.
2025-04-25 13:56:18.177 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" disconnecting.
2025-04-25 13:56:18.177 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" received FIN.
2025-04-25 13:56:18.177 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" stopped.
2025-04-25 13:56:18.177 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" disconnecting.
2025-04-25 13:56:18.177 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:56:18.178 +08:00 [DBG] Connection id "0HNC3NMV7LA0B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:56:18.178 +08:00 [DBG] Connection id "0HNC3NMV7LA0A" stopped.
2025-04-25 13:57:05.767 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" accepted.
2025-04-25 13:57:05.769 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" accepted.
2025-04-25 13:57:05.776 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" started.
2025-04-25 13:57:05.779 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" started.
2025-04-25 13:57:05.783 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 13:57:05.785 +08:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-25 13:57:05.794 +08:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-25 13:57:05.795 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" completed keep alive response.
2025-04-25 13:57:05.795 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 11.4768ms
2025-04-25 13:57:05.881 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:57:05.881 +08:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-25 13:57:05.881 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" completed keep alive response.
2025-04-25 13:57:05.881 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 0.4193ms
2025-04-25 13:57:06.031 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 13:57:06.076 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" completed keep alive response.
2025-04-25 13:57:06.076 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.6847ms
2025-04-25 13:57:08.220 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" received FIN.
2025-04-25 13:57:08.220 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" received FIN.
2025-04-25 13:57:08.220 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" disconnecting.
2025-04-25 13:57:08.220 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:57:08.222 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:57:08.223 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" disconnecting.
2025-04-25 13:57:08.225 +08:00 [DBG] Connection id "0HNC3NMV7LA0D" stopped.
2025-04-25 13:57:08.225 +08:00 [DBG] Connection id "0HNC3NMV7LA0C" stopped.
2025-04-25 13:57:17.207 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" accepted.
2025-04-25 13:57:17.207 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" started.
2025-04-25 13:57:17.208 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-25 13:57:17.208 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:57:17.208 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:57:17.208 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:57:17.209 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:57:17.209 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:57:17.210 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:57:17.210 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:57:17.210 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:57:17.210 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:57:17.210 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" completed keep alive response.
2025-04-25 13:57:17.210 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 401 0 null 2.3363ms
2025-04-25 13:57:18.230 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" received FIN.
2025-04-25 13:57:18.231 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" disconnecting.
2025-04-25 13:57:18.231 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" stopped.
2025-04-25 13:57:18.232 +08:00 [DBG] Connection id "0HNC3NMV7LA0E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:57:21.716 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" accepted.
2025-04-25 13:57:21.716 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" started.
2025-04-25 13:57:21.716 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-25 13:57:21.717 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 13:57:21.717 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 13:57:21.717 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 13:57:21.717 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 13:57:21.717 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 13:57:21.718 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 13:57:21.718 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 13:57:21.718 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 13:57:21.718 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 13:57:21.718 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" completed keep alive response.
2025-04-25 13:57:21.718 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 401 0 null 2.0432ms
2025-04-25 13:57:28.245 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" received FIN.
2025-04-25 13:57:28.245 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" disconnecting.
2025-04-25 13:57:28.246 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" stopped.
2025-04-25 13:57:28.246 +08:00 [DBG] Connection id "0HNC3NMV7LA0F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:58:03.474 +08:00 [INF] Application is shutting down...
2025-04-25 13:58:03.480 +08:00 [DBG] Hosting stopping
2025-04-25 13:58:03.511 +08:00 [DBG] Connection id "0HNC3NMV7LA00" disconnecting.
2025-04-25 13:58:03.511 +08:00 [DBG] Connection id "0HNC3NMV7LA00" stopped.
2025-04-25 13:58:03.511 +08:00 [DBG] Connection id "0HNC3NMV7LA00" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 13:58:03.516 +08:00 [DBG] Hosting stopped
2025-04-25 14:03:08.905 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:03:09.156 +08:00 [DBG] Hosting starting
2025-04-25 14:03:09.193 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:03:09.218 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:03:09.258 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:03:09.289 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:03:09.297 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:03:09.316 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:03:09.323 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:03:09.342 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:03:09.353 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:03:09.359 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:03:09.362 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:03:09.688 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:03:09.690 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:03:09.693 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:03:09.694 +08:00 [INF] Hosting environment: Development
2025-04-25 14:03:09.697 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:03:09.699 +08:00 [DBG] Hosting started
2025-04-25 14:03:14.996 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" received FIN.
2025-04-25 14:03:15.013 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" accepted.
2025-04-25 14:03:15.029 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" accepted.
2025-04-25 14:03:15.032 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" started.
2025-04-25 14:03:15.032 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" started.
2025-04-25 14:03:15.046 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:03:15.083 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" disconnecting.
2025-04-25 14:03:15.098 +08:00 [DBG] Connection id "0HNC3NRF1QCOP" stopped.
2025-04-25 14:03:15.192 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:03:15.212 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:03:15.396 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:03:15.458 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:03:15.766 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:03:15.792 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:03:15.814 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:03:16.129 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:03:16.134 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:03:16.144 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:03:16.148 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:03:16.163 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:03:16.175 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" completed keep alive response.
2025-04-25 14:03:16.179 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 999.0766ms
2025-04-25 14:03:30.908 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" accepted.
2025-04-25 14:03:30.978 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" started.
2025-04-25 14:03:33.879 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" received FIN.
2025-04-25 14:03:33.887 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:03:33.889 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" disconnecting.
2025-04-25 14:03:33.894 +08:00 [DBG] Connection id "0HNC3NRF1QCOR" stopped.
2025-04-25 14:03:42.547 +08:00 [INF] Application is shutting down...
2025-04-25 14:03:42.549 +08:00 [DBG] Hosting stopping
2025-04-25 14:03:42.561 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" disconnecting.
2025-04-25 14:03:42.569 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" stopped.
2025-04-25 14:03:42.573 +08:00 [DBG] Connection id "0HNC3NRF1QCOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:03:42.580 +08:00 [DBG] Hosting stopped
2025-04-25 14:05:55.933 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:05:56.114 +08:00 [DBG] Hosting starting
2025-04-25 14:05:56.136 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:05:56.158 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:05:56.177 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:05:56.200 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:05:56.205 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:05:56.212 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:05:56.216 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:05:56.232 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:05:56.244 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:05:56.248 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:05:56.250 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:05:56.312 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:05:56.313 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:05:56.315 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:05:56.316 +08:00 [INF] Hosting environment: Development
2025-04-25 14:05:56.317 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:05:56.318 +08:00 [DBG] Hosting started
2025-04-25 14:06:02.940 +08:00 [DBG] Connection id "0HNC3NT13EQLS" accepted.
2025-04-25 14:06:02.946 +08:00 [DBG] Connection id "0HNC3NT13EQLS" started.
2025-04-25 14:06:04.113 +08:00 [DBG] Connection id "0HNC3NT13EQLS" received FIN.
2025-04-25 14:06:04.122 +08:00 [DBG] Connection id "0HNC3NT13EQLS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:04.140 +08:00 [DBG] Connection id "0HNC3NT13EQLS" disconnecting.
2025-04-25 14:06:04.151 +08:00 [DBG] Connection id "0HNC3NT13EQLS" stopped.
2025-04-25 14:06:06.301 +08:00 [DBG] Connection id "0HNC3NT13EQLT" accepted.
2025-04-25 14:06:06.313 +08:00 [DBG] Connection id "0HNC3NT13EQLT" started.
2025-04-25 14:06:14.172 +08:00 [DBG] Connection id "0HNC3NT13EQLT" received FIN.
2025-04-25 14:06:14.183 +08:00 [DBG] Connection id "0HNC3NT13EQLT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:14.188 +08:00 [DBG] Connection id "0HNC3NT13EQLT" disconnecting.
2025-04-25 14:06:14.197 +08:00 [DBG] Connection id "0HNC3NT13EQLT" stopped.
2025-04-25 14:06:14.805 +08:00 [DBG] Connection id "0HNC3NT13EQLU" accepted.
2025-04-25 14:06:14.822 +08:00 [DBG] Connection id "0HNC3NT13EQLU" started.
2025-04-25 14:06:24.136 +08:00 [DBG] Connection id "0HNC3NT13EQLU" received FIN.
2025-04-25 14:06:24.142 +08:00 [DBG] Connection id "0HNC3NT13EQLU" disconnecting.
2025-04-25 14:06:24.145 +08:00 [DBG] Connection id "0HNC3NT13EQLU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:24.150 +08:00 [DBG] Connection id "0HNC3NT13EQLU" stopped.
2025-04-25 14:06:31.591 +08:00 [INF] Application is shutting down...
2025-04-25 14:06:31.594 +08:00 [DBG] Hosting stopping
2025-04-25 14:06:31.607 +08:00 [DBG] Hosting stopped
2025-04-25 14:06:41.702 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:06:41.920 +08:00 [DBG] Hosting starting
2025-04-25 14:06:41.949 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:06:41.978 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:06:42.011 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:06:42.092 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:06:42.266 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:06:42.273 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:06:42.301 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:06:42.323 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:06:42.331 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:06:42.337 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:06:42.340 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:06:42.402 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:06:42.404 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:06:42.406 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:06:42.407 +08:00 [INF] Hosting environment: Development
2025-04-25 14:06:42.408 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:06:42.409 +08:00 [DBG] Hosting started
2025-04-25 14:06:54.637 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" accepted.
2025-04-25 14:06:54.648 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" started.
2025-04-25 14:06:55.694 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" accepted.
2025-04-25 14:06:55.737 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" accepted.
2025-04-25 14:06:55.743 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" started.
2025-04-25 14:06:55.804 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" started.
2025-04-25 14:06:55.914 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:55.914 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:55.977 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" disconnecting.
2025-04-25 14:06:55.983 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" received FIN.
2025-04-25 14:06:55.984 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" accepted.
2025-04-25 14:06:56.008 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" stopped.
2025-04-25 14:06:56.011 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" disconnecting.
2025-04-25 14:06:56.015 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" received FIN.
2025-04-25 14:06:56.015 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" started.
2025-04-25 14:06:56.018 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" stopped.
2025-04-25 14:06:56.023 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" accepted.
2025-04-25 14:06:56.025 +08:00 [DBG] Connection id "0HNC3NTGGFDI1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:56.028 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:56.046 +08:00 [DBG] Connection id "0HNC3NTGGFDI0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:56.046 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" started.
2025-04-25 14:06:56.053 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" disconnecting.
2025-04-25 14:06:56.059 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" received FIN.
2025-04-25 14:06:56.067 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:56.176 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" stopped.
2025-04-25 14:06:56.186 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" disconnecting.
2025-04-25 14:06:56.194 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" received FIN.
2025-04-25 14:06:56.197 +08:00 [DBG] Connection id "0HNC3NTGGFDI2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:56.198 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" stopped.
2025-04-25 14:06:56.203 +08:00 [DBG] Connection id "0HNC3NTGGFDI3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:59.554 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" accepted.
2025-04-25 14:06:59.580 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" started.
2025-04-25 14:06:59.581 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" accepted.
2025-04-25 14:06:59.584 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:59.585 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" started.
2025-04-25 14:06:59.631 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:59.628 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" received FIN.
2025-04-25 14:06:59.629 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" accepted.
2025-04-25 14:06:59.613 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" disconnecting.
2025-04-25 14:06:59.680 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" disconnecting.
2025-04-25 14:06:59.693 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" received FIN.
2025-04-25 14:06:59.699 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" accepted.
2025-04-25 14:06:59.700 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:59.701 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" stopped.
2025-04-25 14:06:59.714 +08:00 [DBG] Connection id "0HNC3NTGGFDI5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:59.704 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" started.
2025-04-25 14:06:59.702 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" started.
2025-04-25 14:06:59.720 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:59.726 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" bad request data: "Detected a TLS handshake to an endpoint that does not have TLS enabled."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Detected a TLS handshake to an endpoint that does not have TLS enabled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.GetUnknownMethodLength(ReadOnlySpan`1 span)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, ReadOnlySpan`1 requestLine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpParser`1.ParseRequestLine(TRequestHandler handler, SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TakeStartLine(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.ParseRequest(SequenceReader`1& reader)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1Connection.TryParseRequest(ReadResult result, Boolean& endConnection)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2025-04-25 14:06:59.727 +08:00 [DBG] Connection id "0HNC3NTGGFDI4" stopped.
2025-04-25 14:06:59.732 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" disconnecting.
2025-04-25 14:06:59.787 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" stopped.
2025-04-25 14:06:59.766 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" disconnecting.
2025-04-25 14:06:59.770 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" received FIN.
2025-04-25 14:06:59.735 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" received FIN.
2025-04-25 14:06:59.798 +08:00 [DBG] Connection id "0HNC3NTGGFDI7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:06:59.799 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" stopped.
2025-04-25 14:06:59.817 +08:00 [DBG] Connection id "0HNC3NTGGFDI6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:07:04.191 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" received FIN.
2025-04-25 14:07:04.211 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:07:04.466 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" disconnecting.
2025-04-25 14:07:04.749 +08:00 [DBG] Connection id "0HNC3NTGGFDHV" stopped.
2025-04-25 14:07:14.381 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" accepted.
2025-04-25 14:07:14.426 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" started.
2025-04-25 14:07:14.428 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" accepted.
2025-04-25 14:07:14.451 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" started.
2025-04-25 14:07:14.550 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/ - null null
2025-04-25 14:07:14.565 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:07:14.603 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:07:14.607 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:07:14.631 +08:00 [DBG] No candidates found for the request path '/'
2025-04-25 14:07:14.632 +08:00 [DBG] Request did not match any endpoints
2025-04-25 14:07:14.675 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 14:07:14.680 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" completed keep alive response.
2025-04-25 14:07:14.685 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/ - 404 0 null 138.5238ms
2025-04-25 14:07:14.715 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5212/, Response status code: 404
2025-04-25 14:07:20.863 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 14:07:21.078 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" completed keep alive response.
2025-04-25 14:07:21.080 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 216.7506ms
2025-04-25 14:07:22.761 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 14:07:23.295 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" completed keep alive response.
2025-04-25 14:07:23.297 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 536.0254ms
2025-04-25 14:07:24.217 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" received FIN.
2025-04-25 14:07:24.217 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" received FIN.
2025-04-25 14:07:24.219 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:07:24.224 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" disconnecting.
2025-04-25 14:07:24.226 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" disconnecting.
2025-04-25 14:07:24.227 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:07:24.228 +08:00 [DBG] Connection id "0HNC3NTGGFDI8" stopped.
2025-04-25 14:07:24.231 +08:00 [DBG] Connection id "0HNC3NTGGFDI9" stopped.
2025-04-25 14:07:48.766 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" accepted.
2025-04-25 14:07:48.768 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" accepted.
2025-04-25 14:07:48.772 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" started.
2025-04-25 14:07:48.771 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" started.
2025-04-25 14:07:48.768 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" received FIN.
2025-04-25 14:07:48.778 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:07:48.781 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" disconnecting.
2025-04-25 14:07:48.784 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:07:48.788 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:07:48.798 +08:00 [DBG] Connection id "0HNC3NTGGFDIA" stopped.
2025-04-25 14:07:48.799 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:07:48.828 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:07:48.832 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:07:49.155 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:07:49.170 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:07:49.180 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:07:49.187 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:07:49.208 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:07:49.212 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" completed keep alive response.
2025-04-25 14:07:49.215 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 436.9943ms
2025-04-25 14:08:03.055 +08:00 [INF] Application is shutting down...
2025-04-25 14:08:03.057 +08:00 [DBG] Hosting stopping
2025-04-25 14:08:03.073 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" disconnecting.
2025-04-25 14:08:03.079 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" stopped.
2025-04-25 14:08:03.080 +08:00 [DBG] Connection id "0HNC3NTGGFDIB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:08:03.092 +08:00 [DBG] Hosting stopped
2025-04-25 14:09:02.393 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:09:03.403 +08:00 [DBG] Hosting starting
2025-04-25 14:09:03.437 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:09:03.474 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:09:03.504 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:09:04.073 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:09:04.171 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:09:05.073 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:09:05.446 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:09:05.463 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:09:05.477 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:09:05.511 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:09:05.526 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:09:05.687 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:09:05.962 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:09:06.299 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:09:06.902 +08:00 [INF] Hosting environment: Development
2025-04-25 14:09:07.192 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:09:07.696 +08:00 [DBG] Hosting started
2025-04-25 14:09:09.196 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" accepted.
2025-04-25 14:09:09.204 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" started.
2025-04-25 14:09:09.250 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:09:09.259 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:09:09.303 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:09:09.306 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:09:09.349 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:09:09.367 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:09:09.373 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:09:09.627 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:09:09.656 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:09:09.668 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:09:09.675 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:09:09.685 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:09:09.690 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" completed keep alive response.
2025-04-25 14:09:09.700 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 453.6137ms
2025-04-25 14:09:09.908 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" reset.
2025-04-25 14:09:10.011 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:09:10.046 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" disconnecting.
2025-04-25 14:09:10.624 +08:00 [DBG] Connection id "0HNC3NUOJNKDU" stopped.
2025-04-25 14:09:37.520 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" accepted.
2025-04-25 14:09:37.523 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" started.
2025-04-25 14:09:37.528 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:09:37.537 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:09:37.539 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:09:37.540 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:09:37.543 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:09:37.552 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:09:37.556 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:09:37.559 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:09:37.561 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:09:37.571 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:09:37.572 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" completed keep alive response.
2025-04-25 14:09:37.574 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 45.1502ms
2025-04-25 14:09:41.707 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" reset.
2025-04-25 14:09:41.713 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:09:41.742 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" disconnecting.
2025-04-25 14:09:41.744 +08:00 [DBG] Connection id "0HNC3NUOJNKDV" stopped.
2025-04-25 14:09:59.010 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:09:59.315 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:11:32.596 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:11:33.176 +08:00 [DBG] Hosting starting
2025-04-25 14:11:33.324 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:11:33.371 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:11:33.433 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:11:33.490 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:11:33.541 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:11:33.569 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:11:33.574 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:11:33.612 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:11:33.618 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:11:33.632 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:11:33.642 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:11:33.735 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:11:33.740 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:11:33.748 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:11:33.750 +08:00 [INF] Hosting environment: Development
2025-04-25 14:11:33.752 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:11:33.753 +08:00 [DBG] Hosting started
2025-04-25 14:11:39.159 +08:00 [DBG] Connection id "0HNC3O059SPKB" received FIN.
2025-04-25 14:11:39.179 +08:00 [DBG] Connection id "0HNC3O059SPKB" accepted.
2025-04-25 14:11:39.194 +08:00 [DBG] Connection id "0HNC3O059SPKB" started.
2025-04-25 14:11:39.195 +08:00 [DBG] Connection id "0HNC3O059SPKC" accepted.
2025-04-25 14:11:39.202 +08:00 [DBG] Connection id "0HNC3O059SPKC" started.
2025-04-25 14:11:39.202 +08:00 [DBG] Connection id "0HNC3O059SPKB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:11:39.254 +08:00 [DBG] Connection id "0HNC3O059SPKB" disconnecting.
2025-04-25 14:11:39.264 +08:00 [DBG] Connection id "0HNC3O059SPKB" stopped.
2025-04-25 14:11:39.291 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 14:11:39.312 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:11:39.354 +08:00 [DBG] POST requests are not supported
2025-04-25 14:11:39.363 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:11:39.433 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 14:11:39.450 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 14:11:39.453 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:11:39.533 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 14:11:39.537 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:11:39.604 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 14:11:39.611 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:11:39.614 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:11:39.620 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:11:39.629 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:11:39.634 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:11:39.638 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 14:11:39.645 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 14:11:39.659 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 14:11:39.670 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 14:11:39.685 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 14:11:39.692 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 14:11:39.713 +08:00 [DBG] Connection id "0HNC3O059SPKC", Request id "0HNC3O059SPKC:00000001": started reading request body.
2025-04-25 14:11:39.716 +08:00 [DBG] Connection id "0HNC3O059SPKC", Request id "0HNC3O059SPKC:00000001": done reading request body.
2025-04-25 14:11:39.895 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:11:39.901 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:11:39.904 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 14:11:39.935 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:11:40.016 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:11:40.021 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:11:40.026 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:11:40.029 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:11:40.035 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 14:11:40.037 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 14:11:40.055 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 414.8385ms
2025-04-25 14:11:40.069 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:11:40.072 +08:00 [DBG] Connection id "0HNC3O059SPKC" completed keep alive response.
2025-04-25 14:11:40.079 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 797.1105ms
2025-04-25 14:12:02.769 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:12:02.777 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:12:02.780 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:12:02.782 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:12:02.795 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:12:02.883 +08:00 [DBG] Successfully validated the token.
2025-04-25 14:12:02.885 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 14:12:02.898 +08:00 [DBG] Authorization was successful.
2025-04-25 14:12:02.899 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:12:02.917 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 14:12:02.923 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:12:02.927 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:12:02.945 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:12:02.979 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:12:02.982 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:12:02.985 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:03.242 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-25 14:12:03.620 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:03.622 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 14:12:03.625 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 14:12:03.627 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 14:12:03.632 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 14:12:03.634 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 14:12:03.635 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 14:12:03.637 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 14:12:03.641 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 14:12:03.645 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 14:12:03.648 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:12:03.649 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:12:03.650 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:12:03.651 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 14:12:03.652 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:12:03.653 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 14:12:03.660 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 14:12:03.665 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:12:03.674 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:12:03.676 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:12:03.677 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 14:12:03.685 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:12:03.699 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 14:12:03.700 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 14:12:03.701 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:12:03.702 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:12:03.706 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:12:03.707 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 14:12:03.711 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:12:04.501 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 14:12:04.544 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-25 14:12:04.850 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 14:12:04.915 +08:00 [DBG] Creating DbConnection.
2025-04-25 14:12:04.936 +08:00 [DBG] Created DbConnection. (21ms).
2025-04-25 14:12:04.948 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:04.984 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:04.998 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:12:05.011 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-25 14:12:05.014 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-04-25 14:12:05.032 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 14:12:05.084 +08:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 14:12:05.101 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:05.118 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 27ms reading results.
2025-04-25 14:12:05.125 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:05.136 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2025-04-25 14:12:05.181 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-25 14:12:05.292 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 14:12:05.320 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:05.329 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:05.333 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:12:05.334 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 14:12:05.344 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-04-25 14:12:05.349 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 14:12:05.361 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 14:12:05.402 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.437 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.446 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.448 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.450 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.452 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.453 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.461 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.468 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.470 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:05.477 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:05.483 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 118ms reading results.
2025-04-25 14:12:05.498 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:05.500 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 14:12:05.650 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:12:05.662 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:12:05.669 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:12:05.685 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:12:05.695 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 14:12:05.699 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 14:12:05.876 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2891.2269ms
2025-04-25 14:12:06.250 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:12:06.410 +08:00 [DBG] Connection id "0HNC3O059SPKC" completed keep alive response.
2025-04-25 14:12:06.458 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 14:12:06.469 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:06.474 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-25 14:12:06.477 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 3708.1596ms
2025-04-25 14:12:26.531 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1 - null null
2025-04-25 14:12:26.534 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:12:26.535 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-04-25 14:12:26.540 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-04-25 14:12:26.548 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:26.558 +08:00 [DBG] Successfully validated the token.
2025-04-25 14:12:26.561 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 14:12:26.660 +08:00 [DBG] Authorization was successful.
2025-04-25 14:12:26.662 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:26.676 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 14:12:26.682 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:12:26.697 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:12:26.699 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:12:26.700 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:12:26.701 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:12:26.712 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:26.715 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:26.716 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-25 14:12:26.718 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-25 14:12:26.730 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:26.731 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:26.732 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-25 14:12:26.733 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:26.735 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-25 14:12:26.736 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2025-04-25 14:12:26.743 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:26.746 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:26.746 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:26.747 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-25 14:12:26.748 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:26.780 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 14:12:26.790 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2025-04-25 14:12:26.817 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: SingleQueryingEnumerable.Create<City>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            City entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                City instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(City);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (City)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                            {
                                return 
                                {
                                    City instance;
                                    instance = new City(dataReader.GetString(2));
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(City)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 14:12:26.845 +08:00 [DBG] Creating DbConnection.
2025-04-25 14:12:26.847 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-25 14:12:26.847 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:26.849 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:26.850 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:12:26.851 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 14:12:26.852 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 14:12:26.859 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-25 14:12:26.862 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-25 14:12:26.864 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:26.865 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:26.867 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-25 14:12:26.868 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:26.873 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-25 14:12:26.878 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:12:26.883 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:12:26.883 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:12:26.884 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:12:26.885 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 14:12:26.894 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2025-04-25 14:12:26.896 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 184.1592ms
2025-04-25 14:12:26.897 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:26.900 +08:00 [DBG] Connection id "0HNC3O059SPKC" completed keep alive response.
2025-04-25 14:12:26.901 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 14:12:26.906 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:26.910 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (7ms).
2025-04-25 14:12:26.912 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1 - 200 75 application/json; charset=utf-8 380.8196ms
2025-04-25 14:12:31.382 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2 - null null
2025-04-25 14:12:31.386 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:12:31.387 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2025-04-25 14:12:31.391 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2025-04-25 14:12:31.400 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:31.401 +08:00 [DBG] Successfully validated the token.
2025-04-25 14:12:31.409 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 14:12:31.414 +08:00 [DBG] Authorization was successful.
2025-04-25 14:12:31.441 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:31.442 +08:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 14:12:31.457 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:12:31.461 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:12:31.466 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:12:31.514 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:12:31.516 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:12:31.518 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:31.549 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:12:31.550 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-25 14:12:31.552 +08:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-25 14:12:31.562 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:31.563 +08:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:31.565 +08:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-25 14:12:31.567 +08:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-25 14:12:31.569 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-25 14:12:31.580 +08:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2025-04-25 14:12:31.581 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:31.583 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:31.584 +08:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:31.585 +08:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-04-25 14:12:31.594 +08:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-04-25 14:12:31.683 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 14:12:31.693 +08:00 [DBG] Creating DbConnection.
2025-04-25 14:12:31.696 +08:00 [DBG] Created DbConnection. (2ms).
2025-04-25 14:12:31.697 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:31.698 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:31.699 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:12:31.700 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 14:12:31.701 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-25 14:12:31.705 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-25 14:12:31.712 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-04-25 14:12:31.714 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:12:31.715 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:31.716 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-25 14:12:31.718 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:12:31.725 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2025-04-25 14:12:31.746 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:12:31.748 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:12:31.749 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:12:31.749 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:12:31.750 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 14:12:31.751 +08:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2025-04-25 14:12:31.757 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 239.4544ms
2025-04-25 14:12:31.767 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-04-25 14:12:31.773 +08:00 [DBG] Connection id "0HNC3O059SPKC" completed keep alive response.
2025-04-25 14:12:31.775 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 14:12:31.776 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:12:31.778 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 14:12:31.784 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2 - 200 100 application/json; charset=utf-8 402.0648ms
2025-04-25 14:14:43.233 +08:00 [DBG] Connection id "0HNC3O059SPKC" disconnecting.
2025-04-25 14:14:43.238 +08:00 [DBG] Connection id "0HNC3O059SPKC" stopped.
2025-04-25 14:14:43.240 +08:00 [DBG] Connection id "0HNC3O059SPKC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:16:26.318 +08:00 [DBG] Connection id "0HNC3O059SPKD" received FIN.
2025-04-25 14:16:26.320 +08:00 [DBG] Connection id "0HNC3O059SPKD" accepted.
2025-04-25 14:16:26.321 +08:00 [DBG] Connection id "0HNC3O059SPKD" started.
2025-04-25 14:16:26.322 +08:00 [DBG] Connection id "0HNC3O059SPKE" accepted.
2025-04-25 14:16:26.324 +08:00 [DBG] Connection id "0HNC3O059SPKD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:16:26.324 +08:00 [DBG] Connection id "0HNC3O059SPKE" started.
2025-04-25 14:16:26.327 +08:00 [DBG] Connection id "0HNC3O059SPKD" disconnecting.
2025-04-25 14:16:26.347 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:16:26.348 +08:00 [DBG] Connection id "0HNC3O059SPKD" stopped.
2025-04-25 14:16:26.351 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:16:26.366 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:16:26.371 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:16:26.386 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:16:26.387 +08:00 [DBG] Successfully validated the token.
2025-04-25 14:16:26.388 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 14:16:26.389 +08:00 [DBG] Authorization was successful.
2025-04-25 14:16:26.396 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:16:26.401 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 14:16:26.403 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:16:26.406 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:16:26.417 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:16:26.421 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:16:26.422 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:16:26.431 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:16:26.433 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 14:16:26.436 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 14:16:26.437 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 14:16:26.528 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 14:16:26.536 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 14:16:26.538 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 14:16:26.543 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 14:16:26.555 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 14:16:26.568 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 14:16:26.570 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 14:16:26.572 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:16:26.582 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:16:26.584 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:16:26.586 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 14:16:26.587 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 14:16:26.589 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 14:16:26.600 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 14:16:26.602 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:16:26.603 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:16:26.604 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:16:26.605 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 14:16:26.610 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 14:16:26.613 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 14:16:26.615 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 14:16:26.619 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:16:26.621 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:16:26.623 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:16:26.626 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 14:16:26.634 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 14:16:26.636 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 14:16:26.638 +08:00 [DBG] Creating DbConnection.
2025-04-25 14:16:26.639 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-25 14:16:26.643 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:16:26.644 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.646 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:16:26.649 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-25 14:16:26.665 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-04-25 14:16:26.666 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 14:16:26.668 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 14:16:26.670 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.671 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-25 14:16:26.674 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.677 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 14:16:26.678 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:16:26.681 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.687 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 14:16:26.688 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 14:16:26.698 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-25 14:16:26.703 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 14:16:26.705 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 14:16:26.710 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.712 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.714 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.720 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.722 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.726 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.729 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.733 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.749 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.752 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 14:16:26.753 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.754 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 43ms reading results.
2025-04-25 14:16:26.755 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 14:16:26.758 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-25 14:16:26.765 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:16:26.782 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:16:26.784 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:16:26.785 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:16:26.786 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 14:16:26.787 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 14:16:26.789 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 357.6459ms
2025-04-25 14:16:26.798 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:16:26.799 +08:00 [DBG] Connection id "0HNC3O059SPKE" completed keep alive response.
2025-04-25 14:16:26.813 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 14:16:26.815 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 14:16:26.836 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (20ms).
2025-04-25 14:16:26.838 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 491.5079ms
2025-04-25 14:17:04.229 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:05.265 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:20.662 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:21.065 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:42.046 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:42.576 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:42.942 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:43.211 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:43.957 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:44.222 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:45.355 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:45.716 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:48.992 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:49.255 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:50.882 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:51.701 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:17:54.731 +08:00 [INF] Application is shutting down...
2025-04-25 14:17:54.981 +08:00 [DBG] Hosting stopping
2025-04-25 14:17:55.198 +08:00 [DBG] Connection id "0HNC3O059SPKE" disconnecting.
2025-04-25 14:17:55.264 +08:00 [DBG] Connection id "0HNC3O059SPKE" stopped.
2025-04-25 14:17:55.282 +08:00 [DBG] Connection id "0HNC3O059SPKE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:17:55.363 +08:00 [DBG] Hosting stopped
2025-04-25 14:18:12.863 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:18:13.307 +08:00 [DBG] Hosting starting
2025-04-25 14:18:13.345 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:18:13.390 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:18:13.445 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:18:13.476 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:18:13.498 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:18:13.506 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:18:13.511 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:18:13.600 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:18:13.613 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:18:13.625 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:18:13.632 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:18:13.768 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:18:13.796 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:18:13.808 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:18:13.811 +08:00 [INF] Hosting environment: Development
2025-04-25 14:18:13.814 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:18:13.815 +08:00 [DBG] Hosting started
2025-04-25 14:18:44.226 +08:00 [DBG] Connection id "0HNC3O43VKTTT" received FIN.
2025-04-25 14:18:44.238 +08:00 [DBG] Connection id "0HNC3O43VKTTT" accepted.
2025-04-25 14:18:44.244 +08:00 [DBG] Connection id "0HNC3O43VKTTT" started.
2025-04-25 14:18:44.252 +08:00 [DBG] Connection id "0HNC3O43VKTTT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:18:44.259 +08:00 [DBG] Connection id "0HNC3O43VKTTU" accepted.
2025-04-25 14:18:44.261 +08:00 [DBG] Connection id "0HNC3O43VKTTT" disconnecting.
2025-04-25 14:18:44.269 +08:00 [DBG] Connection id "0HNC3O43VKTTU" started.
2025-04-25 14:18:44.288 +08:00 [DBG] Connection id "0HNC3O43VKTTT" stopped.
2025-04-25 14:18:44.355 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:18:44.363 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:18:44.402 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:18:44.405 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:18:44.446 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:18:44.471 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:18:44.477 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:18:45.015 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:18:45.124 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:18:45.128 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:18:45.140 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:18:45.157 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:18:45.168 +08:00 [DBG] Connection id "0HNC3O43VKTTU" completed keep alive response.
2025-04-25 14:18:45.175 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 826.4562ms
2025-04-25 14:19:28.677 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:19:28.684 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:19:28.692 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:19:28.699 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:19:28.709 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:19:28.724 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:19:28.737 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:19:28.758 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:19:28.761 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:19:28.770 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:19:28.777 +08:00 [DBG] Connection id "0HNC3O43VKTTU" completed keep alive response.
2025-04-25 14:19:28.779 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 102.0658ms
2025-04-25 14:19:38.128 +08:00 [DBG] Connection id "0HNC3O43VKTTV" accepted.
2025-04-25 14:19:38.173 +08:00 [DBG] Connection id "0HNC3O43VKTTV" started.
2025-04-25 14:19:38.173 +08:00 [DBG] Connection id "0HNC3O43VKTU0" accepted.
2025-04-25 14:19:38.190 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/index.html - null null
2025-04-25 14:19:38.192 +08:00 [DBG] Connection id "0HNC3O43VKTU0" started.
2025-04-25 14:19:38.408 +08:00 [DBG] Connection id "0HNC3O43VKTTV" completed keep alive response.
2025-04-25 14:19:38.409 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/index.html - 200 null text/html;charset=utf-8 219.2788ms
2025-04-25 14:19:41.906 +08:00 [DBG] Connection id "0HNC3O43VKTTV" received FIN.
2025-04-25 14:19:41.624 +08:00 [DBG] Connection id "0HNC3O43VKTU0" received FIN.
2025-04-25 14:19:42.197 +08:00 [DBG] Connection id "0HNC3O43VKTTV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:19:42.202 +08:00 [DBG] Connection id "0HNC3O43VKTTV" disconnecting.
2025-04-25 14:19:42.205 +08:00 [DBG] Connection id "0HNC3O43VKTU0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:19:42.207 +08:00 [DBG] Connection id "0HNC3O43VKTTV" stopped.
2025-04-25 14:19:42.221 +08:00 [DBG] Connection id "0HNC3O43VKTU0" disconnecting.
2025-04-25 14:19:42.228 +08:00 [DBG] Connection id "0HNC3O43VKTU0" stopped.
2025-04-25 14:19:43.399 +08:00 [DBG] Connection id "0HNC3O43VKTU1" accepted.
2025-04-25 14:19:43.403 +08:00 [DBG] Connection id "0HNC3O43VKTU1" started.
2025-04-25 14:19:43.406 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 14:19:43.819 +08:00 [DBG] Connection id "0HNC3O43VKTU1" completed keep alive response.
2025-04-25 14:19:43.825 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 418.5848ms
2025-04-25 14:19:50.522 +08:00 [DBG] Connection id "0HNC3O43VKTU1" received FIN.
2025-04-25 14:19:50.524 +08:00 [DBG] Connection id "0HNC3O43VKTU1" disconnecting.
2025-04-25 14:19:50.525 +08:00 [DBG] Connection id "0HNC3O43VKTU1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:19:50.539 +08:00 [DBG] Connection id "0HNC3O43VKTU1" stopped.
2025-04-25 14:19:56.227 +08:00 [DBG] Connection id "0HNC3O43VKTU2" accepted.
2025-04-25 14:19:56.229 +08:00 [DBG] Connection id "0HNC3O43VKTU2" started.
2025-04-25 14:19:56.231 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - null null
2025-04-25 14:19:56.235 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:19:56.237 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:19:56.239 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:19:56.241 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:19:56.245 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:19:56.258 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:19:56.266 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:19:56.268 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-25 14:19:56.270 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:19:56.275 +08:00 [DBG] Connection id "0HNC3O43VKTU2" completed keep alive response.
2025-04-25 14:19:56.299 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities?pageNumber=1&pageSize=10 - 401 0 null 68.0605ms
2025-04-25 14:20:00.523 +08:00 [DBG] Connection id "0HNC3O43VKTU2" received FIN.
2025-04-25 14:20:00.529 +08:00 [DBG] Connection id "0HNC3O43VKTU2" disconnecting.
2025-04-25 14:20:00.536 +08:00 [DBG] Connection id "0HNC3O43VKTU2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:20:00.547 +08:00 [DBG] Connection id "0HNC3O43VKTU2" stopped.
2025-04-25 14:21:39.316 +08:00 [DBG] Connection id "0HNC3O43VKTTU" disconnecting.
2025-04-25 14:21:39.320 +08:00 [DBG] Connection id "0HNC3O43VKTTU" stopped.
2025-04-25 14:21:39.324 +08:00 [DBG] Connection id "0HNC3O43VKTTU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:43:29.891 +08:00 [INF] Application is shutting down...
2025-04-25 14:43:29.911 +08:00 [DBG] Hosting stopping
2025-04-25 14:43:30.036 +08:00 [DBG] Hosting stopped
2025-04-25 14:43:54.971 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 14:43:55.410 +08:00 [DBG] Hosting starting
2025-04-25 14:43:55.487 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 14:43:55.521 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 14:43:55.627 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 14:43:55.676 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 14:43:55.712 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:43:55.729 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 14:43:55.759 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 14:43:55.822 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 14:43:55.844 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 14:43:55.883 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 14:43:55.893 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 14:43:56.087 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 14:43:56.094 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 14:43:56.096 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 14:43:56.103 +08:00 [INF] Hosting environment: Development
2025-04-25 14:43:56.109 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 14:43:56.112 +08:00 [DBG] Hosting started
2025-04-25 14:44:55.760 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" received FIN.
2025-04-25 14:44:55.785 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" accepted.
2025-04-25 14:44:55.792 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" started.
2025-04-25 14:44:55.798 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" accepted.
2025-04-25 14:44:55.810 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:44:55.825 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" started.
2025-04-25 14:44:55.832 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" disconnecting.
2025-04-25 14:44:55.842 +08:00 [DBG] Connection id "0HNC3OIOAV3AB" stopped.
2025-04-25 14:44:55.901 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 14:44:55.908 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:44:55.955 +08:00 [DBG] POST requests are not supported
2025-04-25 14:44:55.956 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 14:44:56.007 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 14:44:56.018 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 14:44:56.024 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:44:56.099 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 14:44:56.104 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:44:56.167 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 14:44:56.171 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 14:44:56.173 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 14:44:56.175 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 14:44:56.182 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 14:44:56.186 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 14:44:56.193 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 14:44:56.196 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 14:44:56.216 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 14:44:56.240 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 14:44:56.253 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 14:44:56.260 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 14:44:56.277 +08:00 [DBG] Connection id "0HNC3OIOAV3AC", Request id "0HNC3OIOAV3AC:00000001": started reading request body.
2025-04-25 14:44:56.291 +08:00 [DBG] Connection id "0HNC3OIOAV3AC", Request id "0HNC3OIOAV3AC:00000001": done reading request body.
2025-04-25 14:44:56.438 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:44:56.439 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:44:56.440 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 14:44:56.450 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 14:44:56.553 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 14:44:56.556 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 14:44:56.557 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 14:44:56.558 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 14:44:56.560 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 14:44:56.572 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 14:44:56.584 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 385.1546ms
2025-04-25 14:44:56.603 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 14:44:56.605 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" completed keep alive response.
2025-04-25 14:44:56.617 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 720.1895ms
2025-04-25 14:47:07.634 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" disconnecting.
2025-04-25 14:47:07.638 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" stopped.
2025-04-25 14:47:07.642 +08:00 [DBG] Connection id "0HNC3OIOAV3AC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:48:16.002 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:48:16.287 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:48:39.102 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:48:39.573 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:48:39.837 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 14:48:49.535 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" received FIN.
2025-04-25 14:48:49.538 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" accepted.
2025-04-25 14:48:49.540 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" started.
2025-04-25 14:48:49.540 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" accepted.
2025-04-25 14:48:49.542 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 14:48:49.545 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" disconnecting.
2025-04-25 14:48:49.543 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" started.
2025-04-25 14:48:49.574 +08:00 [DBG] Connection id "0HNC3OIOAV3AD" stopped.
2025-04-25 14:48:49.578 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:48:49.586 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 14:48:49.597 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:48:49.603 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:48:49.605 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:48:49.606 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:48:49.697 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:48:49.736 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:48:49.742 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:48:49.746 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 14:48:49.760 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:48:49.761 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" completed keep alive response.
2025-04-25 14:48:49.763 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 184.9994ms
2025-04-25 14:49:19.176 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 14:49:19.180 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:49:19.182 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 14:49:19.186 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 14:49:19.188 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 14:49:19.191 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:49:19.194 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:49:19.197 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:49:19.200 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 14:49:19.204 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:49:19.205 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" completed keep alive response.
2025-04-25 14:49:19.207 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 30.6879ms
2025-04-25 14:50:01.237 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 14:50:01.240 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:50:01.242 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 14:50:01.245 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 14:50:01.253 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 14:50:01.255 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:50:01.271 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:50:01.282 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:50:01.284 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 14:50:01.291 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:50:01.301 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" completed keep alive response.
2025-04-25 14:50:01.314 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 77.4176ms
2025-04-25 14:50:06.168 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/1 - null null
2025-04-25 14:50:06.191 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 14:50:06.204 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2025-04-25 14:50:06.208 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2025-04-25 14:50:06.283 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2025-04-25 14:50:06.287 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 14:50:06.294 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'hKZBLsYnRwfQyo2Pd5CJSS7uWZcp7O_ZK1bysjpif0E'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 14:50:06.303 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 14:50:06.304 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 14:50:06.306 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 14:50:06.308 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" completed keep alive response.
2025-04-25 14:50:06.326 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest/1 - 401 0 null 158.2064ms
2025-04-25 14:52:17.494 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" disconnecting.
2025-04-25 14:52:17.495 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" stopped.
2025-04-25 14:52:17.498 +08:00 [DBG] Connection id "0HNC3OIOAV3AE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:14:32.171 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" received FIN.
2025-04-25 15:14:32.174 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" accepted.
2025-04-25 15:14:32.179 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" accepted.
2025-04-25 15:14:32.182 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" started.
2025-04-25 15:14:32.186 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 15:14:32.190 +08:00 [DBG] POST requests are not supported
2025-04-25 15:14:32.190 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" started.
2025-04-25 15:14:32.193 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 15:14:32.201 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:14:32.204 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 15:14:32.207 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" disconnecting.
2025-04-25 15:14:32.209 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:14:32.210 +08:00 [DBG] Connection id "0HNC3OIOAV3AF" stopped.
2025-04-25 15:14:32.213 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 15:14:32.220 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:14:32.226 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 15:14:32.234 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:14:32.239 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:14:32.241 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:14:32.244 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:14:32.250 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:14:32.253 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 15:14:32.257 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 15:14:32.259 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 15:14:32.267 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 15:14:32.270 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 15:14:32.272 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 15:14:32.275 +08:00 [DBG] Connection id "0HNC3OIOAV3AG", Request id "0HNC3OIOAV3AG:00000001": started reading request body.
2025-04-25 15:14:32.276 +08:00 [DBG] Connection id "0HNC3OIOAV3AG", Request id "0HNC3OIOAV3AG:00000001": done reading request body.
2025-04-25 15:14:32.286 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:14:32.289 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:14:32.290 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 15:14:32.293 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 15:14:32.301 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:14:32.306 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:14:32.307 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 15:14:32.308 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 15:14:32.309 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 15:14:32.321 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 15:14:32.324 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 70.8561ms
2025-04-25 15:14:32.326 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 15:14:32.327 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" completed keep alive response.
2025-04-25 15:14:32.335 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 148.5828ms
2025-04-25 15:14:39.075 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 15:14:39.082 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:14:39.086 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 15:14:39.090 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 15:14:39.093 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:39.165 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:14:39.184 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:14:39.195 +08:00 [DBG] Authorization was successful.
2025-04-25 15:14:39.204 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:39.244 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 15:14:39.254 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:14:39.259 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:14:39.275 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:14:39.289 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:14:39.292 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:14:39.295 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:14:39.621 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-25 15:14:39.843 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:14:39.844 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:14:39.849 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 15:14:39.853 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:39.854 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:39.855 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:14:39.857 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:40.874 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:14:40.926 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2025-04-25 15:14:41.265 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:14:41.351 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:14:41.372 +08:00 [DBG] Created DbConnection. (25ms).
2025-04-25 15:14:41.376 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:41.416 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:41.423 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:14:41.438 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-04-25 15:14:41.449 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2025-04-25 15:14:41.459 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:14:41.502 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:14:41.517 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:41.527 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 17ms reading results.
2025-04-25 15:14:41.536 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:41.543 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (7ms).
2025-04-25 15:14:41.553 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-04-25 15:14:41.557 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 15:14:41.558 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 2264.167ms
2025-04-25 15:14:41.560 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:41.561 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" completed keep alive response.
2025-04-25 15:14:41.572 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:14:41.584 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:41.590 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-25 15:14:41.593 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 403 0 null 2517.9828ms
2025-04-25 15:14:46.857 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 15:14:46.863 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 15:14:46.864 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:14:46.865 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 15:14:46.871 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:46.876 +08:00 [DBG] Successfully validated the token.
2025-04-25 15:14:46.878 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 15:14:46.880 +08:00 [DBG] Authorization was successful.
2025-04-25 15:14:46.882 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:46.884 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 15:14:46.888 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 15:14:46.890 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 15:14:46.891 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 15:14:46.893 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 15:14:46.898 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 15:14:46.900 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:14:46.906 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 15:14:46.907 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:14:46.910 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 15:14:46.912 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:46.914 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:46.915 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 15:14:46.917 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 15:14:46.965 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 15:14:46.973 +08:00 [DBG] Creating DbConnection.
2025-04-25 15:14:46.974 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-25 15:14:46.976 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:46.979 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:46.981 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:14:46.987 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-25 15:14:46.988 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-25 15:14:46.990 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:14:46.993 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 15:14:47.000 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.004 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2025-04-25 15:14:47.006 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.008 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:14:47.016 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-25 15:14:47.028 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 15:14:47.034 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:47.037 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.039 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:14:47.041 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:14:47.043 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 15:14:47.050 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:14:47.054 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 15:14:47.059 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.061 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-25 15:14:47.066 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.070 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-25 15:14:47.085 +08:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-04-25 15:14:47.181 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PointOfInterest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PointOfInterest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PointOfInterest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PointOfInterest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (PointOfInterest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                        {
                            return 
                            {
                                PointOfInterest instance;
                                instance = new PointOfInterest(dataReader.GetString(3));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CityId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PointOfInterest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 15:14:47.214 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:47.219 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.220 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 15:14:47.221 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 15:14:47.223 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 15:14:47.224 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:14:47.225 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 15:14:47.266 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:14:47.298 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 15:14:47.300 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.302 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 70ms reading results.
2025-04-25 15:14:47.305 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 15:14:47.307 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 15:14:47.334 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 15:14:47.341 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 15:14:47.343 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 15:14:47.343 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 15:14:47.349 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 15:14:47.353 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 15:14:47.434 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 534.0963ms
2025-04-25 15:14:47.435 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 15:14:47.437 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" completed keep alive response.
2025-04-25 15:14:47.438 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 15:14:47.441 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 15:14:47.444 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 15:14:47.451 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 200 246 application/json; charset=utf-8 593.6722ms
2025-04-25 15:16:57.992 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" disconnecting.
2025-04-25 15:16:57.994 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" stopped.
2025-04-25 15:16:57.997 +08:00 [DBG] Connection id "0HNC3OIOAV3AG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 15:21:27.954 +08:00 [INF] Application is shutting down...
2025-04-25 15:21:27.971 +08:00 [DBG] Hosting stopping
2025-04-25 15:21:28.041 +08:00 [DBG] Hosting stopped
