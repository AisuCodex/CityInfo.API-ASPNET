2025-04-25 16:35:57.899 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 16:35:58.273 +08:00 [DBG] Hosting starting
2025-04-25 16:35:58.301 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 16:35:58.334 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 16:35:58.435 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 16:35:58.456 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 16:35:58.463 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:35:58.468 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 16:35:58.472 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:35:58.482 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 16:35:58.486 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 16:35:58.489 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 16:35:58.492 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 16:35:58.888 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5212: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-04-25 16:37:41.382 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 16:37:41.693 +08:00 [DBG] Hosting starting
2025-04-25 16:37:41.725 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 16:37:41.765 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 16:37:41.796 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 16:37:41.814 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 16:37:41.824 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:37:41.843 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 16:37:41.849 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:37:41.874 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 16:37:41.885 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 16:37:41.889 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 16:37:41.893 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 16:37:41.996 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 16:37:41.999 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 16:37:42.009 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 16:37:42.012 +08:00 [INF] Hosting environment: Development
2025-04-25 16:37:42.013 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 16:37:42.016 +08:00 [DBG] Hosting started
2025-04-25 16:37:42.269 +08:00 [DBG] Connection id "0HNC3QHOTDM21" accepted.
2025-04-25 16:37:42.287 +08:00 [DBG] Connection id "0HNC3QHOTDM21" started.
2025-04-25 16:37:42.345 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 37
2025-04-25 16:37:42.356 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:37:42.386 +08:00 [DBG] POST requests are not supported
2025-04-25 16:37:42.388 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 16:37:42.429 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 16:37:42.453 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 16:37:42.466 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:37:42.545 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 16:37:42.552 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:37:42.603 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 16:37:42.606 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:37:42.609 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:37:42.612 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:37:42.614 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:37:42.615 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:37:42.622 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 16:37:42.624 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 16:37:42.639 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 16:37:42.643 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 16:37:42.645 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 16:37:42.648 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 16:37:42.660 +08:00 [DBG] Connection id "0HNC3QHOTDM21", Request id "0HNC3QHOTDM21:00000001": started reading request body.
2025-04-25 16:37:42.662 +08:00 [DBG] Connection id "0HNC3QHOTDM21", Request id "0HNC3QHOTDM21:00000001": done reading request body.
2025-04-25 16:37:42.823 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:37:42.824 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:37:42.826 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 16:37:42.838 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:37:42.917 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:37:42.924 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:37:42.925 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:37:42.927 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:37:42.929 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 16:37:42.936 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 16:37:42.948 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 323.0454ms
2025-04-25 16:37:42.962 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:37:42.964 +08:00 [DBG] Connection id "0HNC3QHOTDM21" completed keep alive response.
2025-04-25 16:37:42.971 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 630.127ms
2025-04-25 16:38:07.236 +08:00 [DBG] Connection id "0HNC3QHOTDM22" received FIN.
2025-04-25 16:38:07.240 +08:00 [DBG] Connection id "0HNC3QHOTDM22" accepted.
2025-04-25 16:38:07.242 +08:00 [DBG] Connection id "0HNC3QHOTDM22" started.
2025-04-25 16:38:07.242 +08:00 [DBG] Connection id "0HNC3QHOTDM23" accepted.
2025-04-25 16:38:07.246 +08:00 [DBG] Connection id "0HNC3QHOTDM22" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:38:07.246 +08:00 [DBG] Connection id "0HNC3QHOTDM23" started.
2025-04-25 16:38:07.251 +08:00 [DBG] Connection id "0HNC3QHOTDM22" disconnecting.
2025-04-25 16:38:07.255 +08:00 [DBG] Connection id "0HNC3QHOTDM22" stopped.
2025-04-25 16:38:07.258 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:38:07.275 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:38:07.279 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:38:07.280 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:38:07.284 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:38:07.467 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:38:07.471 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:38:07.486 +08:00 [DBG] Authorization was successful.
2025-04-25 16:38:07.488 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:38:07.524 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 16:38:07.530 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:38:07.535 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:38:07.539 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:38:07.547 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:38:07.558 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:38:07.564 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:38:07.824 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-25 16:38:08.085 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:38:08.088 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 16:38:08.090 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 16:38:08.094 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 16:38:08.096 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:38:08.098 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:38:08.103 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 16:38:08.105 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 16:38:08.106 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:38:08.109 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 16:38:08.111 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:38:08.113 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:38:08.117 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:38:08.119 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:38:08.121 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:38:08.124 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:38:08.125 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:38:08.127 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:38:08.128 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:38:08.131 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:38:08.136 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:38:08.138 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:38:08.141 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:38:08.142 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:38:08.144 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:38:08.147 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:38:08.148 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:38:08.153 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:38:08.155 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:38:08.939 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:38:08.973 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-25 16:38:09.276 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 16:38:09.319 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:38:09.338 +08:00 [DBG] Created DbConnection. (19ms).
2025-04-25 16:38:09.343 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:38:09.372 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:38:09.378 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:38:09.392 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-04-25 16:38:09.394 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-04-25 16:38:09.407 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:38:09.436 +08:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:38:09.448 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:38:09.456 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 10ms reading results.
2025-04-25 16:38:09.461 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:38:09.468 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2025-04-25 16:38:09.481 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-25 16:38:09.567 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 16:38:09.598 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:38:09.601 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:38:09.602 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:38:09.603 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 16:38:09.607 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-25 16:38:09.610 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:38:09.616 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:38:09.642 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:38:09.663 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:38:09.667 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:38:09.668 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:38:09.669 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:38:09.717 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:38:09.721 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:38:09.722 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:38:09.725 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:38:09.727 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:38:09.729 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:38:09.731 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 111ms reading results.
2025-04-25 16:38:09.741 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:38:09.744 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-25 16:38:09.851 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:38:09.856 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:38:09.859 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:38:09.860 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:38:09.862 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:38:09.868 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:38:10.010 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2446.3912ms
2025-04-25 16:38:10.190 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:38:10.195 +08:00 [DBG] Connection id "0HNC3QHOTDM23" completed keep alive response.
2025-04-25 16:38:10.207 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:38:10.248 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:38:10.308 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (59ms).
2025-04-25 16:38:10.326 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 3067.6111ms
2025-04-25 16:39:22.994 +08:00 [DBG] Connection id "0HNC3QHOTDM21" received FIN.
2025-04-25 16:39:22.998 +08:00 [DBG] Connection id "0HNC3QHOTDM21" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:39:23.002 +08:00 [DBG] Connection id "0HNC3QHOTDM21" disconnecting.
2025-04-25 16:39:23.007 +08:00 [DBG] Connection id "0HNC3QHOTDM21" stopped.
2025-04-25 16:39:38.758 +08:00 [DBG] Connection id "0HNC3QHOTDM24" received FIN.
2025-04-25 16:39:38.765 +08:00 [DBG] Connection id "0HNC3QHOTDM24" accepted.
2025-04-25 16:39:38.766 +08:00 [DBG] Connection id "0HNC3QHOTDM24" started.
2025-04-25 16:39:38.766 +08:00 [DBG] Connection id "0HNC3QHOTDM25" accepted.
2025-04-25 16:39:38.768 +08:00 [DBG] Connection id "0HNC3QHOTDM24" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:39:38.769 +08:00 [DBG] Connection id "0HNC3QHOTDM25" started.
2025-04-25 16:39:38.770 +08:00 [DBG] Connection id "0HNC3QHOTDM24" disconnecting.
2025-04-25 16:39:38.771 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:39:38.772 +08:00 [DBG] Connection id "0HNC3QHOTDM24" stopped.
2025-04-25 16:39:38.776 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:39:38.778 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:39:38.780 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:39:38.781 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:39:38.787 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:39:38.787 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:39:38.790 +08:00 [DBG] Authorization was successful.
2025-04-25 16:39:38.790 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:39:38.791 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 16:39:38.793 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:39:38.795 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:39:38.797 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:39:38.798 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:39:38.800 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:39:38.802 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:39:38.804 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:39:38.805 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 16:39:38.806 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 16:39:38.808 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 16:39:38.809 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:39:38.810 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:39:38.812 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 16:39:38.813 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 16:39:38.815 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:39:38.816 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 16:39:38.818 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:39:38.819 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:39:38.820 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:39:38.821 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:39:38.822 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:39:38.823 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:39:38.824 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:39:38.825 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:39:38.826 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:39:38.829 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:39:38.831 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:39:38.832 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:39:38.833 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:39:38.835 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:39:38.836 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:39:38.837 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:39:38.838 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:39:38.839 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:39:38.840 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:39:38.862 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:39:38.869 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:39:38.870 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-25 16:39:38.872 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:39:38.873 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:39:38.874 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:39:38.874 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 16:39:38.875 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:39:38.876 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:39:38.882 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:39:38.884 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:39:38.885 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-25 16:39:38.888 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:39:38.889 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:39:38.893 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:39:38.898 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:39:38.899 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:39:38.900 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 16:39:38.902 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 16:39:38.904 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:39:38.905 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:39:38.907 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:39:38.908 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:39:38.909 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:39:38.913 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:39:38.915 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:39:38.916 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:39:38.917 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:39:38.920 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:39:38.922 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:39:38.924 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:39:38.926 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:39:38.929 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 22ms reading results.
2025-04-25 16:39:38.931 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:39:38.932 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:39:38.936 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:39:38.938 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:39:38.938 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:39:38.939 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:39:38.940 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:39:38.941 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:39:38.945 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 143.0873ms
2025-04-25 16:39:38.948 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:39:38.951 +08:00 [DBG] Connection id "0HNC3QHOTDM25" completed keep alive response.
2025-04-25 16:39:38.955 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:39:38.962 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:39:38.964 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 16:39:38.968 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 195.9691ms
2025-04-25 16:40:21.451 +08:00 [DBG] Connection id "0HNC3QHOTDM23" disconnecting.
2025-04-25 16:40:21.452 +08:00 [DBG] Connection id "0HNC3QHOTDM23" stopped.
2025-04-25 16:40:21.454 +08:00 [DBG] Connection id "0HNC3QHOTDM23" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:40:53.586 +08:00 [DBG] Connection id "0HNC3QHOTDM26" accepted.
2025-04-25 16:40:53.587 +08:00 [DBG] Connection id "0HNC3QHOTDM26" received FIN.
2025-04-25 16:40:53.589 +08:00 [DBG] Connection id "0HNC3QHOTDM26" started.
2025-04-25 16:40:53.594 +08:00 [DBG] Connection id "0HNC3QHOTDM26" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:40:53.589 +08:00 [DBG] Connection id "0HNC3QHOTDM27" accepted.
2025-04-25 16:40:53.597 +08:00 [DBG] Connection id "0HNC3QHOTDM26" disconnecting.
2025-04-25 16:40:53.599 +08:00 [DBG] Connection id "0HNC3QHOTDM27" started.
2025-04-25 16:40:53.601 +08:00 [DBG] Connection id "0HNC3QHOTDM26" stopped.
2025-04-25 16:40:53.603 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 16:40:53.611 +08:00 [DBG] POST requests are not supported
2025-04-25 16:40:53.612 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 16:40:53.614 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 16:40:53.617 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:40:53.618 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 16:40:53.620 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:40:53.621 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 16:40:53.627 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:40:53.629 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:40:53.630 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:40:53.635 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:40:53.636 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:40:53.637 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 16:40:53.639 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 16:40:53.643 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 16:40:53.646 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 16:40:53.650 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 16:40:53.652 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 16:40:53.653 +08:00 [DBG] Connection id "0HNC3QHOTDM27", Request id "0HNC3QHOTDM27:00000001": started reading request body.
2025-04-25 16:40:53.654 +08:00 [DBG] Connection id "0HNC3QHOTDM27", Request id "0HNC3QHOTDM27:00000001": done reading request body.
2025-04-25 16:40:53.661 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:40:53.662 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:40:53.669 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 16:40:53.671 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:40:53.678 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:40:53.682 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:40:53.683 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:40:53.684 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:40:53.684 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 16:40:53.685 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 16:40:53.688 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 50.1267ms
2025-04-25 16:40:53.689 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:40:53.694 +08:00 [DBG] Connection id "0HNC3QHOTDM27" completed keep alive response.
2025-04-25 16:40:53.696 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 92.4527ms
2025-04-25 16:41:19.693 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 16:41:19.698 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:41:19.700 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 16:41:19.703 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 16:41:19.711 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:41:19.715 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:41:19.718 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:41:19.728 +08:00 [DBG] Authorization was successful.
2025-04-25 16:41:19.731 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:41:19.753 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 16:41:19.763 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:41:19.766 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:41:19.771 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:41:19.780 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:41:19.783 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 16:41:19.787 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:41:19.820 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:41:19.826 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:41:19.830 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 16:41:19.836 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:41:19.844 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:41:19.848 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:41:19.852 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:41:20.041 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:41:20.055 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2025-04-25 16:41:20.100 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 16:41:20.119 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:41:20.119 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-25 16:41:20.121 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:41:20.125 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:20.128 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:41:20.129 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 16:41:20.130 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:41:20.131 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:41:20.136 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:41:20.143 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:20.145 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2025-04-25 16:41:20.146 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:20.148 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:41:20.151 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-25 16:41:20.160 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 16:41:20.166 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:41:20.169 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:20.171 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:41:20.177 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-25 16:41:20.179 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-25 16:41:20.180 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 16:41:20.182 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 16:41:20.185 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:20.187 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-25 16:41:20.196 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:20.198 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:41:20.202 +08:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-04-25 16:41:20.219 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PointOfInterest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PointOfInterest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PointOfInterest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PointOfInterest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (PointOfInterest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                        {
                            return 
                            {
                                PointOfInterest instance;
                                instance = new PointOfInterest(dataReader.GetString(3));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CityId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PointOfInterest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 16:41:20.231 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:41:20.232 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:20.233 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:41:20.234 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 16:41:20.236 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 16:41:20.237 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 16:41:20.243 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 16:41:20.249 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:41:20.262 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:41:20.263 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:20.265 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 20ms reading results.
2025-04-25 16:41:20.266 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:20.268 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:41:20.280 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:41:20.282 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:41:20.285 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-04-25 16:41:20.286 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:41:20.288 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:41:20.297 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 509.731ms
2025-04-25 16:41:20.300 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:41:20.302 +08:00 [DBG] Connection id "0HNC3QHOTDM27" completed keep alive response.
2025-04-25 16:41:20.303 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:41:20.308 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:41:20.310 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 16:41:20.312 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 200 246 application/json; charset=utf-8 618.8178ms
2025-04-25 16:41:29.838 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 16:41:29.841 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:41:29.843 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:41:29.845 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:41:29.849 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:41:29.854 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:41:29.857 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:41:29.860 +08:00 [DBG] Authorization was successful.
2025-04-25 16:41:29.861 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:41:29.862 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 16:41:29.865 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:41:29.868 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:41:29.870 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:41:29.876 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:41:29.878 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 16:41:29.881 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:41:29.883 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:41:29.885 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:41:29.889 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 16:41:29.893 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:41:29.895 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:41:29.900 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:41:29.902 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:41:29.909 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:41:29.914 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:41:29.916 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-25 16:41:29.917 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:41:29.919 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:29.922 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:41:29.924 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:41:29.926 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 16:41:29.929 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:41:29.933 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:41:29.936 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:29.940 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2025-04-25 16:41:29.943 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:41:29.944 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:41:29.950 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-04-25 16:41:29.954 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 16:41:29.956 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 75.6152ms
2025-04-25 16:41:29.958 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:41:29.960 +08:00 [DBG] Connection id "0HNC3QHOTDM27" completed keep alive response.
2025-04-25 16:41:29.964 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:41:29.966 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:41:29.968 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:41:29.970 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 403 0 null 131.9561ms
2025-04-25 16:41:50.532 +08:00 [DBG] Connection id "0HNC3QHOTDM25" disconnecting.
2025-04-25 16:41:50.533 +08:00 [DBG] Connection id "0HNC3QHOTDM25" stopped.
2025-04-25 16:41:50.534 +08:00 [DBG] Connection id "0HNC3QHOTDM25" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:42:49.260 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 16:42:49.818 +08:00 [DBG] Hosting starting
2025-04-25 16:42:49.877 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 16:42:49.920 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 16:42:49.962 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 16:42:49.981 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 16:42:49.994 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:42:49.999 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 16:42:50.010 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:42:50.021 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 16:42:50.023 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 16:42:50.034 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 16:42:50.040 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 16:42:50.160 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 16:42:50.161 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 16:42:50.162 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 16:42:50.163 +08:00 [INF] Hosting environment: Development
2025-04-25 16:42:50.164 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 16:42:50.165 +08:00 [DBG] Hosting started
2025-04-25 16:42:56.422 +08:00 [DBG] Connection id "0HNC3QKMHDF1Q" received FIN.
2025-04-25 16:42:56.429 +08:00 [DBG] Connection id "0HNC3QKMHDF1Q" accepted.
2025-04-25 16:42:56.431 +08:00 [DBG] Connection id "0HNC3QKMHDF1Q" started.
2025-04-25 16:42:56.440 +08:00 [DBG] Connection id "0HNC3QKMHDF1R" accepted.
2025-04-25 16:42:56.443 +08:00 [DBG] Connection id "0HNC3QKMHDF1R" started.
2025-04-25 16:42:56.444 +08:00 [DBG] Connection id "0HNC3QKMHDF1Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:42:56.465 +08:00 [DBG] Connection id "0HNC3QKMHDF1Q" disconnecting.
2025-04-25 16:42:56.482 +08:00 [DBG] Connection id "0HNC3QKMHDF1Q" stopped.
2025-04-25 16:42:56.512 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:42:56.519 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:42:56.555 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:42:56.559 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 16:42:56.598 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:42:56.609 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:42:56.611 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:42:56.701 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 16:42:56.730 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 16:42:56.737 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:42:56.742 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:42:56.754 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:42:56.760 +08:00 [DBG] Connection id "0HNC3QKMHDF1R" completed keep alive response.
2025-04-25 16:42:56.765 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 254.3497ms
2025-04-25 16:43:43.001 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:43:43.274 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:44:16.820 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:44:17.078 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:44:18.338 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:44:18.670 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:44:21.986 +08:00 [DBG] Connection id "0HNC3QKMHDF1S" received FIN.
2025-04-25 16:44:21.990 +08:00 [DBG] Connection id "0HNC3QKMHDF1S" accepted.
2025-04-25 16:44:21.994 +08:00 [DBG] Connection id "0HNC3QKMHDF1S" started.
2025-04-25 16:44:21.994 +08:00 [DBG] Connection id "0HNC3QKMHDF1T" accepted.
2025-04-25 16:44:21.999 +08:00 [DBG] Connection id "0HNC3QKMHDF1S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:44:22.003 +08:00 [DBG] Connection id "0HNC3QKMHDF1T" started.
2025-04-25 16:44:22.005 +08:00 [DBG] Connection id "0HNC3QKMHDF1S" disconnecting.
2025-04-25 16:44:22.007 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:44:22.009 +08:00 [DBG] Connection id "0HNC3QKMHDF1S" stopped.
2025-04-25 16:44:22.013 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:44:22.020 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:44:22.023 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:44:22.025 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:44:22.027 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:44:22.038 +08:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-04-25 16:44:22.042 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-04-25 16:44:22.047 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:44:22.050 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:44:22.053 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:44:22.056 +08:00 [DBG] Connection id "0HNC3QKMHDF1T" completed keep alive response.
2025-04-25 16:44:22.066 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 58.7026ms
2025-04-25 16:44:35.635 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:44:35.899 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:44:48.286 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:44:48.545 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:44:50.691 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:44:50.955 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:44:56.101 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:44:56.103 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:44:56.105 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:44:56.106 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:44:56.108 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:44:56.111 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:44:56.257 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:44:56.260 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:44:56.265 +08:00 [DBG] Authorization was successful.
2025-04-25 16:44:56.268 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:44:56.329 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 16:44:56.333 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:44:56.335 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:44:56.337 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:44:56.339 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:44:56.341 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:44:56.349 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:44:56.492 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-25 16:44:56.665 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:44:56.671 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 16:44:56.673 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 16:44:56.677 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 16:44:56.680 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:44:56.682 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:44:56.684 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 16:44:56.687 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 16:44:56.689 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:44:56.690 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 16:44:56.692 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:44:56.697 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:44:56.698 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:44:56.699 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:44:56.700 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:44:56.701 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:44:56.702 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:44:56.703 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:44:56.704 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:44:56.705 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:44:56.706 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:44:56.707 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:44:56.708 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:44:56.712 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:44:56.714 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:44:56.715 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:44:56.716 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:44:56.717 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:44:56.718 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:44:57.474 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:44:57.521 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-25 16:44:57.864 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 16:44:57.903 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:44:57.922 +08:00 [DBG] Created DbConnection. (20ms).
2025-04-25 16:44:57.929 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:44:57.970 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:44:57.981 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:44:57.990 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-04-25 16:44:57.998 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-04-25 16:44:58.008 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:44:58.055 +08:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:44:58.072 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:44:58.088 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 20ms reading results.
2025-04-25 16:44:58.101 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:44:58.107 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2025-04-25 16:44:58.137 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-25 16:44:58.253 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 16:44:58.284 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:44:58.290 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:44:58.296 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:44:58.299 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-25 16:44:58.304 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-04-25 16:44:58.318 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:44:58.324 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:44:58.367 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:44:58.397 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:44:58.399 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:44:58.400 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:44:58.401 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:44:58.402 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:44:58.403 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:44:58.405 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:44:58.406 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:44:58.407 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:44:58.409 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:44:58.418 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 84ms reading results.
2025-04-25 16:44:58.419 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:44:58.420 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:44:58.529 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:44:58.533 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:44:58.534 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:44:58.535 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:44:58.538 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:44:58.540 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:44:58.731 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2369.7938ms
2025-04-25 16:44:58.749 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:44:58.798 +08:00 [DBG] Connection id "0HNC3QKMHDF1T" completed keep alive response.
2025-04-25 16:44:58.807 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:44:58.819 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:44:58.823 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-25 16:44:58.827 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 2726.3096ms
2025-04-25 16:45:08.049 +08:00 [DBG] Connection id "0HNC3QKMHDF1R" disconnecting.
2025-04-25 16:45:08.056 +08:00 [DBG] Connection id "0HNC3QKMHDF1R" stopped.
2025-04-25 16:45:08.059 +08:00 [DBG] Connection id "0HNC3QKMHDF1R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:46:09.726 +08:00 [DBG] Connection id "0HNC3QKMHDF1U" received FIN.
2025-04-25 16:46:09.730 +08:00 [DBG] Connection id "0HNC3QKMHDF1U" accepted.
2025-04-25 16:46:09.731 +08:00 [DBG] Connection id "0HNC3QKMHDF1U" started.
2025-04-25 16:46:09.732 +08:00 [DBG] Connection id "0HNC3QKMHDF1V" accepted.
2025-04-25 16:46:09.733 +08:00 [DBG] Connection id "0HNC3QKMHDF1U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:46:09.736 +08:00 [DBG] Connection id "0HNC3QKMHDF1V" started.
2025-04-25 16:46:09.743 +08:00 [DBG] Connection id "0HNC3QKMHDF1U" disconnecting.
2025-04-25 16:46:09.746 +08:00 [DBG] Connection id "0HNC3QKMHDF1U" stopped.
2025-04-25 16:46:09.745 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 16:46:09.752 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:46:09.754 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:46:09.758 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:46:09.762 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:46:09.764 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:46:09.765 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:46:09.767 +08:00 [DBG] Authorization was successful.
2025-04-25 16:46:09.768 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:46:09.779 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 16:46:09.781 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:46:09.782 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:46:09.784 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:46:09.785 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:46:09.787 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 16:46:09.791 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:46:09.796 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:46:09.798 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:46:09.801 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 16:46:09.804 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:46:09.809 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:46:09.811 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:46:09.812 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:46:09.846 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:46:09.854 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2025-04-25 16:46:09.884 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 16:46:09.901 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:46:09.901 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-25 16:46:09.902 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:46:09.903 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:09.904 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:46:09.910 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-25 16:46:09.911 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-25 16:46:09.913 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:46:09.918 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:46:09.920 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:09.925 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 5ms reading results.
2025-04-25 16:46:09.927 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:09.928 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:46:09.933 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-04-25 16:46:09.935 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 16:46:09.936 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 144.7887ms
2025-04-25 16:46:09.943 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:46:09.946 +08:00 [DBG] Connection id "0HNC3QKMHDF1V" completed keep alive response.
2025-04-25 16:46:09.948 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:46:09.950 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:46:09.952 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:46:09.954 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 403 0 null 209.0284ms
2025-04-25 16:46:16.183 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 16:46:16.187 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:46:16.191 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 16:46:16.194 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 16:46:16.195 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:46:16.197 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:46:16.198 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:46:16.199 +08:00 [DBG] Authorization was successful.
2025-04-25 16:46:16.201 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:46:16.203 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 16:46:16.211 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:46:16.212 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:46:16.214 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:46:16.215 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:46:16.218 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 16:46:16.219 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:46:16.228 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:46:16.230 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:46:16.231 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 16:46:16.233 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:46:16.234 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:46:16.235 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:46:16.236 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:46:16.336 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:46:16.348 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:46:16.349 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-25 16:46:16.350 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:46:16.351 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:16.352 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:46:16.353 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 16:46:16.354 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:46:16.359 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:46:16.362 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:46:16.365 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:16.366 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-25 16:46:16.368 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:16.369 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:46:16.375 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-04-25 16:46:16.385 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 16:46:16.396 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:46:16.398 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:16.401 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:46:16.403 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-25 16:46:16.404 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 16:46:16.410 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 16:46:16.413 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-04-25 16:46:16.415 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:16.417 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-25 16:46:16.420 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:16.425 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-25 16:46:16.431 +08:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-04-25 16:46:16.449 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PointOfInterest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        PointOfInterest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            PointOfInterest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(PointOfInterest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PointOfInterest.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (PointOfInterest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]: 
                        {
                            return 
                            {
                                PointOfInterest instance;
                                instance = new PointOfInterest(dataReader.GetString(3));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CityId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: PointOfInterest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.PointOfInterest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(PointOfInterest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 16:46:16.461 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:46:16.462 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:16.468 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:46:16.470 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:46:16.474 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-25 16:46:16.478 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 16:46:16.483 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2025-04-25 16:46:16.495 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:16.510 +08:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:16.512 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:16.515 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 27ms reading results.
2025-04-25 16:46:16.517 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:16.519 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:46:16.535 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:46:16.543 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:46:16.547 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-04-25 16:46:16.550 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:46:16.552 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:46:16.566 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 347.0181ms
2025-04-25 16:46:16.578 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:46:16.581 +08:00 [DBG] Connection id "0HNC3QKMHDF1V" completed keep alive response.
2025-04-25 16:46:16.585 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:46:16.587 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:46:16.595 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (8ms).
2025-04-25 16:46:16.598 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 200 246 application/json; charset=utf-8 414.0803ms
2025-04-25 16:46:23.333 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:46:23.337 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:46:23.343 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:46:23.344 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:46:23.346 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:46:23.352 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:46:23.353 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:46:23.359 +08:00 [DBG] Authorization was successful.
2025-04-25 16:46:23.361 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:46:23.363 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 16:46:23.367 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:46:23.369 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:46:23.370 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:46:23.378 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:46:23.380 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:46:23.382 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:46:23.384 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:46:23.386 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 16:46:23.387 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 16:46:23.396 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 16:46:23.398 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:46:23.399 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:46:23.401 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 16:46:23.402 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 16:46:23.403 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:46:23.407 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 16:46:23.411 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:46:23.413 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:46:23.419 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:46:23.428 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:46:23.430 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:46:23.435 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:46:23.437 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:46:23.447 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:46:23.450 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:46:23.452 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:46:23.453 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:46:23.461 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:46:23.462 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:46:23.464 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:46:23.466 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:46:23.468 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:46:23.469 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:46:23.470 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:46:23.476 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:46:23.479 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:46:23.483 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:46:23.484 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-25 16:46:23.485 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:46:23.486 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:23.487 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:46:23.493 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-25 16:46:23.494 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-25 16:46:23.496 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:46:23.500 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:46:23.502 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:23.503 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2025-04-25 16:46:23.509 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:23.511 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:46:23.514 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:46:23.516 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:23.517 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:46:23.518 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 16:46:23.519 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 16:46:23.525 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:46:23.528 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:46:23.530 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:23.532 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:23.534 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:23.535 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:23.537 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:23.544 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:23.547 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:23.548 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:23.550 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:23.553 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:46:23.559 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:23.562 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 31ms reading results.
2025-04-25 16:46:23.564 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:46:23.566 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:46:23.568 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:46:23.570 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:46:23.573 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:46:23.576 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:46:23.576 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:46:23.577 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:46:23.579 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 197.412ms
2025-04-25 16:46:23.581 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:46:23.582 +08:00 [DBG] Connection id "0HNC3QKMHDF1V" completed keep alive response.
2025-04-25 16:46:23.583 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:46:23.584 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:46:23.585 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:46:23.586 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 252.9494ms
2025-04-25 16:46:45.955 +08:00 [DBG] Connection id "0HNC3QKMHDF20" accepted.
2025-04-25 16:46:45.960 +08:00 [DBG] Connection id "0HNC3QKMHDF21" accepted.
2025-04-25 16:46:45.962 +08:00 [DBG] Connection id "0HNC3QKMHDF20" started.
2025-04-25 16:46:45.964 +08:00 [DBG] Connection id "0HNC3QKMHDF21" started.
2025-04-25 16:46:46.206 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 16:46:46.278 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:46:46.279 +08:00 [DBG] No candidates found for the request path '/_framework/aspnetcore-browser-refresh.js'
2025-04-25 16:46:46.281 +08:00 [DBG] Request did not match any endpoints
2025-04-25 16:46:46.284 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 16:46:46.286 +08:00 [DBG] Connection id "0HNC3QKMHDF21" completed keep alive response.
2025-04-25 16:46:46.293 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js - 404 0 null 86.8611ms
2025-04-25 16:46:46.298 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5212/_framework/aspnetcore-browser-refresh.js, Response status code: 404
2025-04-25 16:46:48.414 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - null null
2025-04-25 16:46:48.690 +08:00 [DBG] Connection id "0HNC3QKMHDF21" completed keep alive response.
2025-04-25 16:46:48.691 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 277.4471ms
2025-04-25 16:46:49.452 +08:00 [DBG] Connection id "0HNC3QKMHDF20" received FIN.
2025-04-25 16:46:49.454 +08:00 [DBG] Connection id "0HNC3QKMHDF21" received FIN.
2025-04-25 16:46:49.462 +08:00 [DBG] Connection id "0HNC3QKMHDF20" disconnecting.
2025-04-25 16:46:49.464 +08:00 [DBG] Connection id "0HNC3QKMHDF21" disconnecting.
2025-04-25 16:46:49.475 +08:00 [DBG] Connection id "0HNC3QKMHDF20" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:46:49.478 +08:00 [DBG] Connection id "0HNC3QKMHDF21" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:46:49.483 +08:00 [DBG] Connection id "0HNC3QKMHDF20" stopped.
2025-04-25 16:46:49.491 +08:00 [DBG] Connection id "0HNC3QKMHDF21" stopped.
2025-04-25 16:47:09.201 +08:00 [DBG] Connection id "0HNC3QKMHDF1T" disconnecting.
2025-04-25 16:47:09.204 +08:00 [DBG] Connection id "0HNC3QKMHDF1T" stopped.
2025-04-25 16:47:09.206 +08:00 [DBG] Connection id "0HNC3QKMHDF1T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:47:23.370 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:47:23.628 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:47:24.634 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:47:25.781 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:47:26.482 +08:00 [DBG] Connection id "0HNC3QKMHDF22" accepted.
2025-04-25 16:47:26.483 +08:00 [DBG] Connection id "0HNC3QKMHDF22" received FIN.
2025-04-25 16:47:26.486 +08:00 [DBG] Connection id "0HNC3QKMHDF23" accepted.
2025-04-25 16:47:26.486 +08:00 [DBG] Connection id "0HNC3QKMHDF22" started.
2025-04-25 16:47:26.490 +08:00 [DBG] Connection id "0HNC3QKMHDF22" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:47:26.491 +08:00 [DBG] Connection id "0HNC3QKMHDF23" started.
2025-04-25 16:47:26.493 +08:00 [DBG] Connection id "0HNC3QKMHDF22" disconnecting.
2025-04-25 16:47:26.494 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:47:26.497 +08:00 [DBG] Connection id "0HNC3QKMHDF22" stopped.
2025-04-25 16:47:26.499 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:47:26.502 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:47:26.503 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:47:26.504 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:47:26.506 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:47:26.508 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:47:26.509 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:47:26.510 +08:00 [DBG] Authorization was successful.
2025-04-25 16:47:26.511 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:47:26.512 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 16:47:26.514 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:47:26.515 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:47:26.516 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:47:26.521 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:47:26.524 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:47:26.528 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:47:26.530 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:47:26.531 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 16:47:26.532 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 16:47:26.534 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 16:47:26.540 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:47:26.542 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:47:26.543 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 16:47:26.545 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 16:47:26.548 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:47:26.550 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 16:47:26.553 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:26.555 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:26.556 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:26.558 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:47:26.559 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:26.560 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:47:26.562 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:47:26.564 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:26.566 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:26.569 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:26.574 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:47:26.575 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:26.577 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:47:26.580 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:47:26.587 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:26.590 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:26.592 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:26.593 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:47:26.594 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:26.596 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:47:26.598 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:47:26.599 +08:00 [DBG] Created DbConnection. (0ms).
2025-04-25 16:47:26.599 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:47:26.608 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:26.610 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:47:26.611 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:47:26.612 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 16:47:26.613 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:47:26.615 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:47:26.617 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:26.620 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2025-04-25 16:47:26.623 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:26.625 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 16:47:26.628 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:47:26.630 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:26.632 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:47:26.633 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 16:47:26.634 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:47:26.639 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:47:26.642 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:47:26.643 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:26.645 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:26.646 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:26.647 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:26.648 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:26.649 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:26.650 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:26.656 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:26.659 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:26.661 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:26.663 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:26.664 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 20ms reading results.
2025-04-25 16:47:26.666 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:26.667 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:47:26.673 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:47:26.677 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:47:26.678 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:47:26.678 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:47:26.679 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:47:26.680 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:47:26.681 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 153.3584ms
2025-04-25 16:47:26.682 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:47:26.688 +08:00 [DBG] Connection id "0HNC3QKMHDF23" completed keep alive response.
2025-04-25 16:47:26.691 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:47:26.692 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:47:26.693 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:47:26.695 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 200.3228ms
2025-04-25 16:47:28.227 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:47:28.231 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:47:28.232 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:47:28.233 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:47:28.241 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:47:28.244 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:47:28.245 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:47:28.257 +08:00 [DBG] Authorization was successful.
2025-04-25 16:47:28.264 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:47:28.266 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 16:47:28.274 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:47:28.276 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:47:28.278 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:47:28.281 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:47:28.283 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:47:28.290 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:47:28.292 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:47:28.295 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 16:47:28.297 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 16:47:28.299 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 16:47:28.307 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:47:28.309 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:47:28.312 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 16:47:28.313 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 16:47:28.315 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:47:28.317 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 16:47:28.322 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:28.325 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:28.328 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:28.329 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:47:28.331 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:28.333 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:47:28.340 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:47:28.344 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:28.347 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:28.349 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:28.357 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:47:28.363 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:28.365 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:47:28.373 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:47:28.378 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:28.380 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:28.382 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:28.383 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:47:28.390 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:28.393 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:47:28.397 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:47:28.398 +08:00 [DBG] Created DbConnection. (1ms).
2025-04-25 16:47:28.399 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:47:28.404 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:28.409 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:47:28.411 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:47:28.413 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 16:47:28.416 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:47:28.425 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:47:28.429 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:28.432 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2025-04-25 16:47:28.440 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:28.444 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-25 16:47:28.448 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:47:28.458 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:28.461 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:47:28.463 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-25 16:47:28.476 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-04-25 16:47:28.479 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:47:28.490 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:47:28.494 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:28.498 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:28.500 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:28.507 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:28.510 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:28.522 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:28.530 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:28.532 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:28.537 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:28.542 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:28.545 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:28.547 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 53ms reading results.
2025-04-25 16:47:28.550 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:28.558 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2025-04-25 16:47:28.562 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:47:28.566 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:47:28.573 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:47:28.574 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:47:28.577 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:47:28.581 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:47:28.587 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 297.3873ms
2025-04-25 16:47:28.596 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:47:28.599 +08:00 [DBG] Connection id "0HNC3QKMHDF23" completed keep alive response.
2025-04-25 16:47:28.607 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:47:28.611 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:47:28.615 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (4ms).
2025-04-25 16:47:28.620 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 392.3932ms
2025-04-25 16:47:32.052 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:47:32.321 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:47:32.736 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:47:33.000 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:47:33.273 +08:00 [DBG] Config reload token fired. Checking for changes...
2025-04-25 16:47:36.397 +08:00 [INF] Application is shutting down...
2025-04-25 16:47:36.411 +08:00 [DBG] Hosting stopping
2025-04-25 16:47:36.444 +08:00 [DBG] Connection id "0HNC3QKMHDF1V" disconnecting.
2025-04-25 16:47:36.444 +08:00 [DBG] Connection id "0HNC3QKMHDF23" disconnecting.
2025-04-25 16:47:36.456 +08:00 [DBG] Connection id "0HNC3QKMHDF1V" stopped.
2025-04-25 16:47:36.458 +08:00 [DBG] Connection id "0HNC3QKMHDF23" stopped.
2025-04-25 16:47:36.459 +08:00 [DBG] Connection id "0HNC3QKMHDF1V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:47:36.462 +08:00 [DBG] Connection id "0HNC3QKMHDF23" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:47:36.490 +08:00 [DBG] Hosting stopped
2025-04-25 16:47:44.298 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 16:47:44.463 +08:00 [DBG] Hosting starting
2025-04-25 16:47:44.488 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 16:47:44.502 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 16:47:44.541 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 16:47:44.561 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 16:47:44.566 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:47:44.573 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 16:47:44.576 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:47:44.582 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 16:47:44.589 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 16:47:44.592 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 16:47:44.596 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 16:47:44.708 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 16:47:44.710 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 16:47:44.712 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 16:47:44.713 +08:00 [INF] Hosting environment: Development
2025-04-25 16:47:44.715 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 16:47:44.717 +08:00 [DBG] Hosting started
2025-04-25 16:47:52.642 +08:00 [DBG] Connection id "0HNC3QNEQCJB0" received FIN.
2025-04-25 16:47:52.653 +08:00 [DBG] Connection id "0HNC3QNEQCJB0" accepted.
2025-04-25 16:47:52.656 +08:00 [DBG] Connection id "0HNC3QNEQCJB0" started.
2025-04-25 16:47:52.664 +08:00 [DBG] Connection id "0HNC3QNEQCJB1" accepted.
2025-04-25 16:47:52.670 +08:00 [DBG] Connection id "0HNC3QNEQCJB1" started.
2025-04-25 16:47:52.668 +08:00 [DBG] Connection id "0HNC3QNEQCJB0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:47:52.693 +08:00 [DBG] Connection id "0HNC3QNEQCJB0" disconnecting.
2025-04-25 16:47:52.709 +08:00 [DBG] Connection id "0HNC3QNEQCJB0" stopped.
2025-04-25 16:47:52.760 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:47:52.767 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:47:52.804 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:47:52.807 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 16:47:52.857 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:47:52.864 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:47:52.872 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:47:53.058 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:47:53.060 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:47:53.067 +08:00 [DBG] Authorization was successful.
2025-04-25 16:47:53.073 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:47:53.125 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 16:47:53.129 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:47:53.130 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:47:53.136 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:47:53.140 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:47:53.143 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:47:53.147 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:47:53.310 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-25 16:47:53.742 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:47:53.746 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 16:47:53.750 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 16:47:53.754 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 16:47:53.757 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:47:53.758 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:47:53.759 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 16:47:53.761 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 16:47:53.773 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:47:53.775 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 16:47:53.777 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:53.778 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:53.779 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:53.780 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:47:53.781 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:47:53.784 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:47:53.786 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:47:53.788 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:53.790 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:53.791 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:53.792 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:47:53.794 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:47:53.795 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:47:53.796 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:47:53.798 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:53.803 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:53.804 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:53.805 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:47:53.807 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:47:54.488 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:47:54.540 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-25 16:47:54.881 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 16:47:54.931 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:47:54.956 +08:00 [DBG] Created DbConnection. (17ms).
2025-04-25 16:47:54.962 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:47:54.982 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:54.992 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:47:55.002 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-25 16:47:55.009 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-04-25 16:47:55.021 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:47:55.053 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:47:55.080 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:55.095 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 24ms reading results.
2025-04-25 16:47:55.102 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:55.113 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (13ms).
2025-04-25 16:47:55.139 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-25 16:47:55.274 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 16:47:55.293 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:47:55.312 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:55.330 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:47:55.331 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:47:55.343 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-04-25 16:47:55.348 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:47:55.363 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:47:55.436 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:55.491 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:55.696 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:55.748 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:55.956 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:56.013 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:56.023 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:56.027 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:56.028 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:56.031 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:47:56.037 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:56.043 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 673ms reading results.
2025-04-25 16:47:56.044 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:47:56.046 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:47:56.194 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:47:56.199 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:47:56.208 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:47:56.211 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:47:56.215 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:47:56.243 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:47:56.382 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 3231.0637ms
2025-04-25 16:47:56.391 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:47:56.392 +08:00 [DBG] Connection id "0HNC3QNEQCJB1" completed keep alive response.
2025-04-25 16:47:56.398 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:47:56.428 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:47:56.448 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (29ms).
2025-04-25 16:47:56.458 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 3701.2648ms
2025-04-25 16:49:07.167 +08:00 [DBG] Connection id "0HNC3QNEQCJB2" received FIN.
2025-04-25 16:49:07.176 +08:00 [DBG] Connection id "0HNC3QNEQCJB2" accepted.
2025-04-25 16:49:07.185 +08:00 [DBG] Connection id "0HNC3QNEQCJB3" accepted.
2025-04-25 16:49:07.185 +08:00 [DBG] Connection id "0HNC3QNEQCJB2" started.
2025-04-25 16:49:07.188 +08:00 [DBG] Connection id "0HNC3QNEQCJB3" started.
2025-04-25 16:49:07.189 +08:00 [DBG] Connection id "0HNC3QNEQCJB2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:49:07.192 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 16:49:07.195 +08:00 [DBG] Connection id "0HNC3QNEQCJB2" disconnecting.
2025-04-25 16:49:07.207 +08:00 [DBG] POST requests are not supported
2025-04-25 16:49:07.208 +08:00 [DBG] Connection id "0HNC3QNEQCJB2" stopped.
2025-04-25 16:49:07.211 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 16:49:07.220 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 16:49:07.224 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:49:07.232 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 16:49:07.235 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:49:07.244 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 16:49:07.254 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:49:07.256 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:49:07.258 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:49:07.260 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:49:07.267 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:49:07.270 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 16:49:07.272 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 16:49:07.275 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 16:49:07.278 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 16:49:07.287 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 16:49:07.288 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 16:49:07.304 +08:00 [DBG] Connection id "0HNC3QNEQCJB3", Request id "0HNC3QNEQCJB3:00000001": started reading request body.
2025-04-25 16:49:07.357 +08:00 [DBG] Connection id "0HNC3QNEQCJB3", Request id "0HNC3QNEQCJB3:00000001": done reading request body.
2025-04-25 16:49:07.498 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:49:07.577 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:49:07.587 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 16:49:07.652 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:49:07.677 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:49:07.686 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:49:07.688 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:49:07.689 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:49:07.690 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 16:49:07.692 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 16:49:07.697 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 427.2083ms
2025-04-25 16:49:07.702 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:49:07.704 +08:00 [DBG] Connection id "0HNC3QNEQCJB3" completed keep alive response.
2025-04-25 16:49:07.706 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 513.4135ms
2025-04-25 16:49:19.306 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 16:49:19.311 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:49:19.314 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:49:19.316 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:49:19.319 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:49:19.332 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'wcFloOl6EEXurVgly9goq2m9flV4ywBtIgLtHoGt1Po'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 16:49:19.369 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'wcFloOl6EEXurVgly9goq2m9flV4ywBtIgLtHoGt1Po'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 16:49:19.372 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:49:19.375 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:49:19.384 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:49:19.386 +08:00 [DBG] Connection id "0HNC3QNEQCJB3" completed keep alive response.
2025-04-25 16:49:19.387 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 80.8873ms
2025-04-25 16:49:24.126 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - null null
2025-04-25 16:49:24.134 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:49:24.136 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-04-25 16:49:24.138 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-04-25 16:49:24.142 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:49:24.154 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'wcFloOl6EEXurVgly9goq2m9flV4ywBtIgLtHoGt1Po'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 16:49:24.171 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'wcFloOl6EEXurVgly9goq2m9flV4ywBtIgLtHoGt1Po'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 16:49:24.176 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:49:24.185 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:49:24.189 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:49:24.192 +08:00 [DBG] Connection id "0HNC3QNEQCJB3" completed keep alive response.
2025-04-25 16:49:24.206 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/2/pointsofinterest - 401 0 null 79.8634ms
2025-04-25 16:49:34.010 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 16:49:34.014 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:49:34.015 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:49:34.022 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:49:34.025 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:49:34.032 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:49:34.037 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:49:34.039 +08:00 [DBG] Authorization was successful.
2025-04-25 16:49:34.040 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:49:34.054 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 16:49:34.057 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:49:34.059 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:49:34.062 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:49:34.067 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:49:34.069 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 16:49:34.071 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:49:34.075 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:49:34.079 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:49:34.089 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 16:49:34.100 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:49:34.101 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:49:34.102 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:49:34.104 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:49:34.139 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:49:34.150 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2025-04-25 16:49:34.182 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 16:49:34.218 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:49:34.220 +08:00 [DBG] Created DbConnection. (2ms).
2025-04-25 16:49:34.221 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:49:34.222 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:49:34.223 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:49:34.224 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 16:49:34.225 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:49:34.236 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:49:34.240 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:49:34.245 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:49:34.250 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2025-04-25 16:49:34.252 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:49:34.254 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:49:34.257 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-04-25 16:49:34.262 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 16:49:34.266 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 192.8403ms
2025-04-25 16:49:34.268 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:49:34.270 +08:00 [DBG] Connection id "0HNC3QNEQCJB3" completed keep alive response.
2025-04-25 16:49:34.272 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:49:34.273 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:49:34.275 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:49:34.278 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 403 0 null 268.6263ms
2025-04-25 16:49:40.305 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 16:49:40.308 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:49:40.309 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:49:40.311 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:49:40.316 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:49:40.322 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'wcFloOl6EEXurVgly9goq2m9flV4ywBtIgLtHoGt1Po'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 16:49:40.334 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'wcFloOl6EEXurVgly9goq2m9flV4ywBtIgLtHoGt1Po'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 16:49:40.339 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:49:40.340 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:49:40.341 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:49:40.343 +08:00 [DBG] Connection id "0HNC3QNEQCJB3" completed keep alive response.
2025-04-25 16:49:40.356 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 50.5209ms
2025-04-25 16:50:07.271 +08:00 [DBG] Connection id "0HNC3QNEQCJB1" disconnecting.
2025-04-25 16:50:07.275 +08:00 [DBG] Connection id "0HNC3QNEQCJB1" stopped.
2025-04-25 16:50:07.280 +08:00 [DBG] Connection id "0HNC3QNEQCJB1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:51:51.411 +08:00 [DBG] Connection id "0HNC3QNEQCJB3" disconnecting.
2025-04-25 16:51:51.412 +08:00 [DBG] Connection id "0HNC3QNEQCJB3" stopped.
2025-04-25 16:51:51.413 +08:00 [DBG] Connection id "0HNC3QNEQCJB3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:52:57.353 +08:00 [DBG] Connection id "0HNC3QNEQCJB4" received FIN.
2025-04-25 16:52:57.357 +08:00 [DBG] Connection id "0HNC3QNEQCJB4" accepted.
2025-04-25 16:52:57.364 +08:00 [DBG] Connection id "0HNC3QNEQCJB4" started.
2025-04-25 16:52:57.380 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" accepted.
2025-04-25 16:52:57.389 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" started.
2025-04-25 16:52:57.385 +08:00 [DBG] Connection id "0HNC3QNEQCJB4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:52:57.395 +08:00 [DBG] Connection id "0HNC3QNEQCJB4" disconnecting.
2025-04-25 16:52:57.396 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 16:52:57.397 +08:00 [DBG] Connection id "0HNC3QNEQCJB4" stopped.
2025-04-25 16:52:57.425 +08:00 [DBG] POST requests are not supported
2025-04-25 16:52:57.430 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 16:52:57.461 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 16:52:57.699 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:52:57.963 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 16:52:57.980 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:52:58.122 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 16:52:58.132 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:52:58.138 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:52:58.139 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:52:58.142 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:52:58.143 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:52:58.146 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 16:52:58.148 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 16:52:58.155 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 16:52:58.160 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 16:52:58.162 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 16:52:58.163 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 16:52:58.165 +08:00 [DBG] Connection id "0HNC3QNEQCJB5", Request id "0HNC3QNEQCJB5:00000001": started reading request body.
2025-04-25 16:52:58.173 +08:00 [DBG] Connection id "0HNC3QNEQCJB5", Request id "0HNC3QNEQCJB5:00000001": done reading request body.
2025-04-25 16:52:58.178 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:52:58.182 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:52:58.191 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 16:52:58.197 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:52:58.210 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:52:58.215 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:52:58.221 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:52:58.222 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:52:58.223 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 16:52:58.225 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 16:52:58.235 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 89.1254ms
2025-04-25 16:52:58.239 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:52:58.248 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" completed keep alive response.
2025-04-25 16:52:58.260 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 864.607ms
2025-04-25 16:53:23.205 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 16:53:23.222 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:53:23.224 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:53:23.236 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:53:23.241 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:53:23.255 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:53:23.261 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:53:23.272 +08:00 [DBG] Authorization was successful.
2025-04-25 16:53:23.290 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:53:23.291 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 16:53:23.293 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:53:23.295 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:53:23.304 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:53:23.330 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:53:23.340 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 16:53:23.342 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:53:23.361 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:53:23.363 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:53:23.370 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 16:53:23.372 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:53:23.374 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:53:23.375 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:53:23.377 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:53:23.611 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:53:23.639 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:53:23.641 +08:00 [DBG] Created DbConnection. (2ms).
2025-04-25 16:53:23.645 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:53:23.656 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:23.658 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:53:23.659 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:53:23.661 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 16:53:23.663 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:53:23.710 +08:00 [INF] Executed DbCommand (47ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:53:23.714 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:23.721 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2025-04-25 16:53:23.723 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:23.724 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-25 16:53:23.726 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-04-25 16:53:23.734 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 16:53:23.739 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 396.6922ms
2025-04-25 16:53:23.741 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:53:23.742 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" completed keep alive response.
2025-04-25 16:53:23.743 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:53:23.753 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:53:23.754 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:53:23.758 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 403 0 null 552.1687ms
2025-04-25 16:53:30.083 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 16:53:30.184 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:53:30.191 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:53:30.194 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:53:30.212 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:53:30.227 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'wcFloOl6EEXurVgly9goq2m9flV4ywBtIgLtHoGt1Po'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 16:53:30.292 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'wcFloOl6EEXurVgly9goq2m9flV4ywBtIgLtHoGt1Po'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 16:53:30.294 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:53:30.295 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:53:30.310 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:53:30.341 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" completed keep alive response.
2025-04-25 16:53:30.356 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 401 0 null 273.5215ms
2025-04-25 16:53:35.461 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - null null
2025-04-25 16:53:35.492 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:53:35.493 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:53:35.496 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-04-25 16:53:35.511 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:53:35.521 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:53:35.525 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:53:35.530 +08:00 [DBG] Authorization was successful.
2025-04-25 16:53:35.537 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:53:35.559 +08:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-04-25 16:53:35.573 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:53:35.574 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:53:35.576 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:53:35.579 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:53:35.590 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-04-25 16:53:35.593 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:53:35.596 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-04-25 16:53:35.607 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:53:35.611 +08:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-04-25 16:53:35.613 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:53:35.621 +08:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:53:35.622 +08:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-04-25 16:53:35.623 +08:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-04-25 16:53:35.625 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:53:35.640 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:53:35.642 +08:00 [DBG] Created DbConnection. (2ms).
2025-04-25 16:53:35.644 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:53:35.646 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:35.658 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:53:35.659 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:53:35.661 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 16:53:35.663 +08:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:53:35.675 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0 AND "c"."Name" = @__cityName_1)
2025-04-25 16:53:35.693 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:35.705 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 12ms reading results.
2025-04-25 16:53:35.709 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:35.712 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 16:53:35.720 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-04-25 16:53:35.724 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-25 16:53:35.725 +08:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 132.2861ms
2025-04-25 16:53:35.729 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2025-04-25 16:53:35.759 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" completed keep alive response.
2025-04-25 16:53:35.773 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:53:35.774 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:53:35.777 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:53:35.794 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities/1/pointsofinterest - 403 0 null 332.2758ms
2025-04-25 16:53:41.023 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:53:41.036 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:53:41.041 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:53:41.044 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:53:41.066 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:53:41.077 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:53:41.083 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:53:41.093 +08:00 [DBG] Authorization was successful.
2025-04-25 16:53:41.094 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:53:41.111 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 16:53:41.151 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:53:41.174 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:53:41.179 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:53:41.240 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:53:41.242 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:53:41.246 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:53:41.273 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:53:41.279 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 16:53:41.290 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 16:53:41.293 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 16:53:41.296 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:53:41.310 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:53:41.312 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 16:53:41.318 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 16:53:41.321 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:53:41.324 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 16:53:41.328 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:53:41.339 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:53:41.340 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:53:41.341 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:53:41.343 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:53:41.344 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:53:41.346 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:53:41.362 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:53:41.373 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:53:41.374 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:53:41.377 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:53:41.378 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:53:41.379 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:53:41.386 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:53:41.390 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:53:41.392 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:53:41.393 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:53:41.396 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:53:41.408 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:53:41.411 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:53:41.425 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:53:41.429 +08:00 [DBG] Created DbConnection. (4ms).
2025-04-25 16:53:41.442 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:53:41.444 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:41.446 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:53:41.459 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2025-04-25 16:53:41.479 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2025-04-25 16:53:41.553 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:53:41.559 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:53:41.562 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:41.569 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2025-04-25 16:53:41.572 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:41.573 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:53:41.578 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:53:41.582 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:41.592 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:53:41.594 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:53:41.595 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-25 16:53:41.601 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:53:41.605 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:53:41.619 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:41.625 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:41.626 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:41.635 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:41.641 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:41.644 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:41.651 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:41.658 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:41.659 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:41.661 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:41.663 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:41.675 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 63ms reading results.
2025-04-25 16:53:41.679 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:41.693 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (13ms).
2025-04-25 16:53:41.708 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:53:41.711 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:53:41.712 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:53:41.720 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:53:41.721 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:53:41.723 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:53:41.739 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 493.6333ms
2025-04-25 16:53:41.743 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:53:41.769 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" completed keep alive response.
2025-04-25 16:53:41.806 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:53:41.809 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:53:41.812 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-25 16:53:41.815 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 791.6822ms
2025-04-25 16:53:47.743 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:53:47.746 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:53:47.760 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:53:47.762 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:53:47.794 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:53:47.829 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'wcFloOl6EEXurVgly9goq2m9flV4ywBtIgLtHoGt1Po'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 16:53:48.439 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'wcFloOl6EEXurVgly9goq2m9flV4ywBtIgLtHoGt1Po'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-25 16:53:48.443 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:53:48.445 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:53:48.609 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:53:48.611 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" completed keep alive response.
2025-04-25 16:53:48.624 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 881.4648ms
2025-04-25 16:53:55.492 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:53:55.494 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:53:55.501 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:53:55.519 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:53:55.545 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:53:55.565 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:53:55.572 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:53:55.577 +08:00 [DBG] Authorization was successful.
2025-04-25 16:53:55.578 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:53:55.593 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 16:53:55.610 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:53:55.612 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:53:55.640 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:53:55.645 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:53:55.661 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:53:55.673 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:53:55.689 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:53:55.693 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 16:53:55.702 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 16:53:55.711 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 16:53:55.733 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:53:55.741 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:53:55.743 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 16:53:55.745 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 16:53:55.751 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:53:55.753 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 16:53:55.755 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:53:55.756 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:53:55.760 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:53:55.761 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:53:55.762 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:53:55.771 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:53:55.772 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:53:55.775 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:53:55.792 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:53:55.794 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:53:55.802 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:53:55.805 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:53:55.809 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:53:55.811 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:53:55.812 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:53:55.821 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:53:55.822 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:53:55.823 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:53:55.824 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:53:55.826 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:53:55.842 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:53:55.851 +08:00 [DBG] Created DbConnection. (9ms).
2025-04-25 16:53:55.858 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:53:55.860 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:55.861 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:53:55.861 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-25 16:53:55.865 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-25 16:53:55.872 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:53:55.873 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:53:55.876 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:55.884 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 6ms reading results.
2025-04-25 16:53:55.892 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:55.893 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2025-04-25 16:53:55.894 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:53:55.895 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:55.906 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:53:55.909 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-25 16:53:55.911 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-25 16:53:55.915 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:53:55.923 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:53:55.925 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:55.926 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:55.928 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:55.934 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:55.936 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:55.940 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:55.943 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:55.945 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:55.960 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:55.962 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:53:55.969 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:55.971 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 47ms reading results.
2025-04-25 16:53:55.973 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:53:55.974 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 16:53:55.985 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:53:55.991 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:53:55.992 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:53:55.993 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:53:55.994 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:53:56.001 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:53:56.004 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 330.7747ms
2025-04-25 16:53:56.006 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:53:56.011 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" completed keep alive response.
2025-04-25 16:53:56.021 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:53:56.022 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:53:56.026 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-25 16:53:56.189 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 696.9333ms
2025-04-25 16:56:07.027 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" disconnecting.
2025-04-25 16:56:07.686 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" stopped.
2025-04-25 16:56:07.780 +08:00 [DBG] Connection id "0HNC3QNEQCJB5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:57:49.821 +08:00 [DBG] Connection id "0HNC3QNEQCJB6" received FIN.
2025-04-25 16:57:49.841 +08:00 [DBG] Connection id "0HNC3QNEQCJB6" accepted.
2025-04-25 16:57:49.847 +08:00 [DBG] Connection id "0HNC3QNEQCJB6" started.
2025-04-25 16:57:49.860 +08:00 [DBG] Connection id "0HNC3QNEQCJB7" accepted.
2025-04-25 16:57:49.873 +08:00 [DBG] Connection id "0HNC3QNEQCJB6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:57:49.889 +08:00 [DBG] Connection id "0HNC3QNEQCJB7" started.
2025-04-25 16:57:49.892 +08:00 [DBG] Connection id "0HNC3QNEQCJB6" disconnecting.
2025-04-25 16:57:49.896 +08:00 [DBG] Connection id "0HNC3QNEQCJB6" stopped.
2025-04-25 16:57:49.926 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:57:49.947 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:57:49.958 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:57:49.960 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:57:49.963 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:57:49.997 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:57:50.001 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:57:50.010 +08:00 [DBG] Authorization was successful.
2025-04-25 16:57:50.021 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:57:50.047 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 16:57:50.055 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:57:50.059 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:57:50.064 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:57:50.066 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:57:50.077 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:57:50.085 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:57:50.113 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:57:50.123 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 16:57:50.127 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 16:57:50.140 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 16:57:50.145 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:57:50.156 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:57:50.159 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 16:57:50.162 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 16:57:50.164 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:57:50.173 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 16:57:50.175 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:57:50.179 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:57:50.182 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:57:50.191 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:57:50.194 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:57:50.196 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:57:50.202 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:57:50.206 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:57:50.211 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:57:50.213 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:57:50.215 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:57:50.222 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:57:50.225 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:57:50.227 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:57:50.232 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:57:50.240 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:57:50.243 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:57:50.245 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:57:50.247 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:57:50.276 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:57:50.294 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:57:50.297 +08:00 [DBG] Created DbConnection. (3ms).
2025-04-25 16:57:50.308 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:57:50.322 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:57:50.330 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:57:50.337 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-04-25 16:57:50.340 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-04-25 16:57:50.343 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:57:50.364 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:57:50.375 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:57:50.379 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 5ms reading results.
2025-04-25 16:57:50.382 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:57:50.392 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (10ms).
2025-04-25 16:57:50.402 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:57:50.409 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:57:50.414 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:57:50.415 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-25 16:57:50.423 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-04-25 16:57:50.430 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:57:50.443 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:57:50.457 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:57:50.462 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:57:50.465 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:57:50.477 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:57:50.490 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:57:50.497 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:57:50.512 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:57:50.523 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:57:50.531 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:57:50.542 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:57:50.545 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:57:50.556 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 94ms reading results.
2025-04-25 16:57:50.564 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:57:50.577 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (12ms).
2025-04-25 16:57:50.602 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:57:50.633 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:57:50.697 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:57:50.704 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:57:50.712 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:57:50.714 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:57:50.740 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 658.5298ms
2025-04-25 16:57:50.744 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:57:50.746 +08:00 [DBG] Connection id "0HNC3QNEQCJB7" completed keep alive response.
2025-04-25 16:57:50.765 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:57:50.773 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:57:50.776 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2025-04-25 16:57:50.779 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 856.5179ms
2025-04-25 16:58:31.013 +08:00 [INF] Application is shutting down...
2025-04-25 16:58:31.023 +08:00 [DBG] Hosting stopping
2025-04-25 16:58:31.101 +08:00 [DBG] Connection id "0HNC3QNEQCJB7" disconnecting.
2025-04-25 16:58:31.107 +08:00 [DBG] Connection id "0HNC3QNEQCJB7" stopped.
2025-04-25 16:58:31.109 +08:00 [DBG] Connection id "0HNC3QNEQCJB7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:58:31.132 +08:00 [DBG] Hosting stopped
2025-04-25 16:58:57.533 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-25 16:58:58.591 +08:00 [DBG] Hosting starting
2025-04-25 16:58:58.678 +08:00 [INF] User profile is available. Using 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 16:58:58.739 +08:00 [DBG] Reading data from file 'C:\Users\aisur\AppData\Local\ASP.NET\DataProtection-Keys\key-921e173d-5e38-48fb-a73b-0d9c13e74309.xml'.
2025-04-25 16:58:58.817 +08:00 [DBG] Found key {921e173d-5e38-48fb-a73b-0d9c13e74309}.
2025-04-25 16:58:58.895 +08:00 [DBG] Considering key {921e173d-5e38-48fb-a73b-0d9c13e74309} with expiration date 2025-07-23 09:56:55Z as default key.
2025-04-25 16:58:58.954 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:58:59.015 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-25 16:58:59.040 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-25 16:58:59.099 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-25 16:58:59.371 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-25 16:58:59.397 +08:00 [DBG] Using key {921e173d-5e38-48fb-a73b-0d9c13e74309} as the default key.
2025-04-25 16:58:59.421 +08:00 [DBG] Key ring with default key {921e173d-5e38-48fb-a73b-0d9c13e74309} was loaded during application startup.
2025-04-25 16:58:59.681 +08:00 [INF] Now listening on: http://localhost:5212
2025-04-25 16:58:59.687 +08:00 [DBG] Loaded hosting startup assembly CityInfo.API
2025-04-25 16:58:59.689 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 16:58:59.690 +08:00 [INF] Hosting environment: Development
2025-04-25 16:58:59.692 +08:00 [INF] Content root path: C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API
2025-04-25 16:58:59.694 +08:00 [DBG] Hosting started
2025-04-25 16:59:30.238 +08:00 [DBG] Connection id "0HNC3QTUN5MJO" received FIN.
2025-04-25 16:59:30.259 +08:00 [DBG] Connection id "0HNC3QTUN5MJO" accepted.
2025-04-25 16:59:30.270 +08:00 [DBG] Connection id "0HNC3QTUN5MJO" started.
2025-04-25 16:59:30.275 +08:00 [DBG] Connection id "0HNC3QTUN5MJP" accepted.
2025-04-25 16:59:30.334 +08:00 [DBG] Connection id "0HNC3QTUN5MJP" started.
2025-04-25 16:59:30.321 +08:00 [DBG] Connection id "0HNC3QTUN5MJO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-25 16:59:30.343 +08:00 [DBG] Connection id "0HNC3QTUN5MJO" disconnecting.
2025-04-25 16:59:30.363 +08:00 [DBG] Connection id "0HNC3QTUN5MJO" stopped.
2025-04-25 16:59:30.409 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:59:30.434 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-25 16:59:30.497 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:59:30.501 +08:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 16:59:30.574 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:59:30.587 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:59:30.593 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:59:30.853 +08:00 [DBG] Successfully validated the token.
2025-04-25 16:59:30.854 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 16:59:30.866 +08:00 [DBG] Authorization was successful.
2025-04-25 16:59:30.870 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:59:30.938 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 16:59:30.942 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:59:30.943 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:59:30.956 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:59:30.969 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:59:30.976 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:59:30.992 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:59:31.234 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-25 16:59:31.547 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 16:59:31.558 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 16:59:31.572 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 16:59:31.576 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 16:59:31.589 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:59:31.592 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 16:59:31.602 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 16:59:31.605 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 16:59:31.608 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:59:31.619 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 16:59:31.620 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:59:31.622 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:59:31.623 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:59:31.625 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 16:59:31.626 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 16:59:31.651 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:59:31.653 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:59:31.655 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:59:31.657 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:59:31.660 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:59:31.674 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 16:59:31.676 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 16:59:31.693 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:59:31.706 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 16:59:31.709 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:59:31.717 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:59:31.722 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:59:31.723 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 16:59:31.725 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 16:59:32.886 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 16:59:32.937 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2025-04-25 16:59:33.377 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CityInfo.API.DbContexts.CityInfoContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-25 16:59:33.458 +08:00 [DBG] Creating DbConnection.
2025-04-25 16:59:33.488 +08:00 [DBG] Created DbConnection. (28ms).
2025-04-25 16:59:33.504 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:59:33.540 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:59:33.559 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:59:33.574 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-04-25 16:59:33.576 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-04-25 16:59:33.596 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:59:33.657 +08:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 16:59:33.683 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:59:33.708 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 29ms reading results.
2025-04-25 16:59:33.755 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:59:33.773 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (17ms).
2025-04-25 16:59:33.807 +08:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-04-25 16:59:33.923 +08:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<City>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        City entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            City instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(City);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: City.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (City)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]: 
                        {
                            return 
                            {
                                City instance;
                                instance = new City(dataReader.GetString(2));
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: City | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CityInfo.API.Entities.City")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(City)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CityInfo.API.DbContexts.CityInfoContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-25 16:59:34.023 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:59:34.107 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:59:34.115 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 16:59:34.120 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-04-25 16:59:34.142 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2025-04-25 16:59:34.184 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:59:34.196 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 16:59:34.706 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:59:34.775 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:59:34.785 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:59:34.787 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:59:34.789 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:59:34.792 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:59:34.824 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:59:34.826 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:59:34.837 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:59:34.850 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 16:59:34.874 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:59:34.883 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 261ms reading results.
2025-04-25 16:59:34.900 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 16:59:34.904 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2025-04-25 16:59:35.234 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:59:35.256 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:59:35.257 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:59:35.268 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:59:35.316 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 16:59:35.326 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 16:59:35.642 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4643.1005ms
2025-04-25 16:59:35.685 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:59:35.692 +08:00 [DBG] Connection id "0HNC3QTUN5MJP" completed keep alive response.
2025-04-25 16:59:35.703 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 16:59:35.716 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 16:59:35.721 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (5ms).
2025-04-25 16:59:35.732 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 5325.7845ms
2025-04-25 16:59:44.913 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - application/json 111
2025-04-25 16:59:44.919 +08:00 [DBG] POST requests are not supported
2025-04-25 16:59:44.923 +08:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2025-04-25 16:59:44.924 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2025-04-25 16:59:44.925 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:59:44.935 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-25 16:59:44.937 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:59:44.960 +08:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2025-04-25 16:59:44.992 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 16:59:45.004 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 16:59:45.006 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 16:59:45.018 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 16:59:45.022 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 16:59:45.024 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 16:59:45.034 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2025-04-25 16:59:45.069 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 16:59:45.139 +08:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2025-04-25 16:59:45.163 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-04-25 16:59:45.193 +08:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-04-25 16:59:45.221 +08:00 [DBG] Connection id "0HNC3QTUN5MJP", Request id "0HNC3QTUN5MJP:00000002": started reading request body.
2025-04-25 16:59:45.241 +08:00 [DBG] Connection id "0HNC3QTUN5MJP", Request id "0HNC3QTUN5MJP:00000002": done reading request body.
2025-04-25 16:59:45.342 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:59:45.352 +08:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:59:45.354 +08:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2025-04-25 16:59:45.368 +08:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2025-04-25 16:59:45.434 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 16:59:45.455 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 16:59:45.457 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 16:59:45.465 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 16:59:45.474 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-04-25 16:59:45.476 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-04-25 16:59:45.492 +08:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 467.4424ms
2025-04-25 16:59:45.529 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2025-04-25 16:59:45.541 +08:00 [DBG] Connection id "0HNC3QTUN5MJP" completed keep alive response.
2025-04-25 16:59:45.567 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5212/api/authentication/authenticate - 200 null text/plain; charset=utf-8 653.8583ms
2025-04-25 16:59:58.894 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 16:59:58.898 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 16:59:58.901 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 16:59:58.902 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 16:59:58.907 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 16:59:58.973 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenException: IDX10612: Decryption failed. Header.Enc is null or empty, it must be specified.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.DecryptToken(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWEAsync(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-25 16:59:59.615 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10612: Decryption failed. Header.Enc is null or empty, it must be specified.
2025-04-25 16:59:59.622 +08:00 [DBG] Policy authentication schemes  did not succeed
2025-04-25 16:59:59.629 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Antwerp)
2025-04-25 16:59:59.671 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 16:59:59.672 +08:00 [DBG] Connection id "0HNC3QTUN5MJP" completed keep alive response.
2025-04-25 16:59:59.674 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 401 0 null 779.3926ms
2025-04-25 17:00:05.871 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5212/api/cities - null null
2025-04-25 17:00:05.958 +08:00 [DBG] The request path  does not match the path filter
2025-04-25 17:00:05.970 +08:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-04-25 17:00:05.971 +08:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-04-25 17:00:06.057 +08:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 17:00:06.153 +08:00 [DBG] Successfully validated the token.
2025-04-25 17:00:06.199 +08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-25 17:00:06.212 +08:00 [DBG] Authorization was successful.
2025-04-25 17:00:06.216 +08:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 17:00:06.221 +08:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-04-25 17:00:06.238 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-25 17:00:06.252 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-25 17:00:06.256 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-25 17:00:06.272 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-25 17:00:06.273 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-25 17:00:06.283 +08:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 17:00:06.299 +08:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-04-25 17:00:06.313 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2025-04-25 17:00:06.324 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2025-04-25 17:00:06.373 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2025-04-25 17:00:06.438 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 17:00:06.440 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2025-04-25 17:00:06.464 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2025-04-25 17:00:06.473 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2025-04-25 17:00:06.484 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2025-04-25 17:00:06.485 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2025-04-25 17:00:06.500 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2025-04-25 17:00:06.516 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 17:00:06.521 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2025-04-25 17:00:06.656 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2025-04-25 17:00:06.744 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2025-04-25 17:00:06.791 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 17:00:06.806 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2025-04-25 17:00:06.891 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 17:00:07.033 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 17:00:07.040 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 17:00:07.106 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2025-04-25 17:00:07.130 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2025-04-25 17:00:07.141 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 17:00:07.154 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2025-04-25 17:00:07.164 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2025-04-25 17:00:07.181 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 17:00:07.188 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-25 17:00:07.191 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-25 17:00:07.198 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-25 17:00:07.320 +08:00 [DBG] Entity Framework Core 9.0.4 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.4' with options: None
2025-04-25 17:00:07.355 +08:00 [DBG] Creating DbConnection.
2025-04-25 17:00:07.364 +08:00 [DBG] Created DbConnection. (8ms).
2025-04-25 17:00:07.369 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 17:00:07.389 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 17:00:07.396 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 17:00:07.403 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-04-25 17:00:07.406 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-04-25 17:00:07.423 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 17:00:07.456 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2025-04-25 17:00:07.474 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 17:00:07.773 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 299ms reading results.
2025-04-25 17:00:07.808 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 17:00:07.817 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2025-04-25 17:00:07.850 +08:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-04-25 17:00:07.855 +08:00 [DBG] Opened connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 17:00:07.857 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-25 17:00:07.864 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-04-25 17:00:07.883 +08:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2025-04-25 17:00:07.889 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 17:00:07.905 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Id"
LIMIT @__p_1 OFFSET @__p_0
2025-04-25 17:00:07.914 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 17:00:07.921 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 17:00:07.933 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 17:00:07.982 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 17:00:08.035 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 17:00:10.449 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 17:00:11.233 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 17:00:11.641 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 17:00:11.643 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 17:00:11.649 +08:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-25 17:00:11.651 +08:00 [DBG] Closing data reader to 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 17:00:11.652 +08:00 [DBG] A data reader for 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3738ms reading results.
2025-04-25 17:00:11.654 +08:00 [DBG] Closing connection to database 'main' on server 'C:\Users\aisur\OneDrive\Desktop\ASP.NET\CityInfo\CityInfo.API\CityInfo.db'.
2025-04-25 17:00:11.655 +08:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 17:00:11.659 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-04-25 17:00:11.662 +08:00 [DBG] No information found on request to perform content negotiation.
2025-04-25 17:00:11.663 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-25 17:00:11.664 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-25 17:00:11.665 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-25 17:00:11.666 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 17:00:11.669 +08:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 5385.4293ms
2025-04-25 17:00:11.670 +08:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-04-25 17:00:11.672 +08:00 [DBG] Connection id "0HNC3QTUN5MJP" completed keep alive response.
2025-04-25 17:00:11.673 +08:00 [DBG] 'CityInfoContext' disposed.
2025-04-25 17:00:11.674 +08:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2025-04-25 17:00:11.676 +08:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2025-04-25 17:00:11.678 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5212/api/cities - 200 838 application/json; charset=utf-8 5806.6571ms
2025-04-25 17:02:23.460 +08:00 [DBG] Connection id "0HNC3QTUN5MJP" disconnecting.
2025-04-25 17:02:23.465 +08:00 [DBG] Connection id "0HNC3QTUN5MJP" stopped.
2025-04-25 17:02:23.470 +08:00 [DBG] Connection id "0HNC3QTUN5MJP" sending FIN because: "The Socket transport's send loop completed gracefully."
